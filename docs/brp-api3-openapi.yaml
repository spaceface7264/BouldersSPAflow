openapi: "3.0.1"
info:
  version: 3.0.0
  title: "BRP API3 Documentation"
  description: |-
    # Overview
    This documentation is aimed at consultants that implements integrations with BRP. It describes version 3
    of BRPs API, an API based on the REST principles that consumes and returns JSON structured data over HTTPS.

    An API integration with BRP is a very complex task, not in a technical sense but the domain knowledge required for
    a successful end result is substantial. As a consultant you will have to spend a lot of time in cooperation with
    your client's BRP users to gain a full understanding of the system and how it is used. BRP is a standard system and
    very generic. It can be configured in a multitude of ways. BRP Support does not have knowledge of how a specific
    customer uses BRP. Every integration project must have these three roles defined before even starting:

    - A project leader representing the BRP customer
    - A project leader representing the consultant
    - A project leader from BRP

    ## Scope of purpose
    The purpose of this API is not to offer means to replace the BRP Cloud clients but more to work as a complement for
    web and mobile based services. While the API is limited in its features in comparison to the BRP Cloud clients, BRP
    is continuously developing and improving it. Suggestions are welcome.

    ## Limited liability
    This document is a work in progress and must be interpreted as such. Corrections and modifications can and will
    occur and BRP Systems shall not be held responsible for subsequent modifications required on part of end users.

    ## Support tickets
    If you encounter any problems while using the API, please contact our support at
    <a href="mailto:support@brpsystems.se">support@brpsystems.se</a>. Be as specific as you can possibly be, for example:

    - Present yourself properly, who are you working for and who is our joint customer.
    - Show us the full request including URL and API-key.
    - Tell us what your result was and what result you were expecting.
    - Let us know if you got an error message and what it said.
    - Let us know how severe your problem is for your production.

    ## Backwards compatibility
    The API will provide full backward compatibility even when more features and information is added.

    # Getting started
    This chapter describes the basis for interactions with the API. All API interactions are over HTTPS.

    ## HTTP methods
    The HTTP method of the request tells the API server what to do with the request.

    | Method | Description | Data | Success HTTP status |
    |---|---|---|---|
    | POST | Create a new object. POST to a resource url will persist the created resource in database. POST to a service (all endpoints that starts with `/services`) will just generate data for the response. | Provide object data in the request body | 201 Created |
    | GET | Get one single object (when url path ends with an ID) or list many objects. | No request body shall be provided. The url's query string can contain parameters for to filter the returned list | 200 OK |
    | PUT | Update one single object. | Provide update data in the request body | 200 OK |
    | DELETE | Delete one single object (when url path ends with an ID) or delete many objects. | When deleting objects, filters can be provided in the url's query string | 204 No Content |

    ## HTTP headers
    A request to the API must at least provide the `Content-Type` header and it must be set to `application/json`. When
    authorization is required the `Authorization` header must also be provided.

    ### BRP version header
    Each successful request gets the current BRP version added to its response header. The version header is added as
    `BRP-Version: YYYY.NNNN`, `BRP-Version: YYYY.NNNNNN` or `BRP-Version: YYYY.NNNNNNNN`. The version number can be
    treated as a decimal value (double). That makes it easy to compare two different versions.

    ## Request and response body
    The request body must be specified as JSON. The response body, if not empty, is always specified as JSON.

    ## Language
    Values like product names and messages can have different translations. With API2 you could provide a query
    parameter with the language to use when doing the translations. With API3 you have to provide the language with the
    request header `Accept-Language`. To use Swedish translations you should set the header as `Accept-Language: sv-SE`.

    ## Complex data types as query parameters
    Complex data types such as Time range and Day range needs to be flattened into multiple query parameters when making
    a GET request. Each attribute of the data type is sent as a separate request parameter prefixed with the name of the
    parameter followed by `.`. The order of the parameters are not important. Here are two examples:

    ```http
    GET https://example.com/api/ver3/someresources?somedayrange.start=2017-05-30&somedayrange.end=2017-11-30
    ```
    ---
    ```http
    GET https://example.com/api/ver3/someresources?sometimerange.start=2017-05-30T01%3A00%3A00.000Z&sometimerange.end=2017-05-30T05%3A00%3A00.000Z
    ```

    ## Error HTTP status
    HTTP status codes 4xx and 5xx indicates that something failed with the request and that is couldn't be performed.
    4xx HTTP status codes are used when the error is in the request. There is no use to try to send the request again,
    the error must be fixed first. 5xx HTTP status codes are other unexpected errors not related to the request data.
    Trying to send the request again might succeed.

    | Error HTTP status | Description |
    |---|---|
    | 401 Unauthorized | When `Authorization` is not provided as request header or when access to the resource is denied. Also when the url path does not exist, (eg. https://example.com/api/ver3/not/valid/path). |
    | 403 Forbidden | Detailed error information is returned in the response body. The errors are described in [Error response](#overview--error-response). |
    | 429 Too Many Requests | Rate limits are not enforced but might be in the future. |
    | 500 Internal Server Error | Try to send the response again. If it fails, contact BRP Systems support with detailed error information. |
    | 502 Bad Gateway | The application server is unreachable. If the problem persists, contact BRP Systems support. |
    | 503 Service Unavailable | The server can't be reached due to scheduled maintenance. Wait for a minute and try to send the request again. |
    | 504 Gateway Timeout | The server might be overloaded. This is a temporary condition. |

    ## Error response
    A request might not be performed by the API server. The request might not be valid, request object doesn't exists,
    authorization not provided, etc. A HTTP status will always be returned in the response. Often the response body
    will contain a JSON object with a description why the API server didn't performed the request.

    The error JSON object has two general structures: [Common error](#overview--common-error) and
    [Field error](#overview--field-error).

    ### Common error
    When most error occur, an `errorCode` will be returned. These error codes are hopefully self explanatory, but can
    also be looked up in the table further below. Depending on the errorCode returned, there may be additional data
    available. These cases, and their additional data, is documented in the same table. Here are two examples, where
    the second has additional data.

    ```json
    {
      "errorCode": "NO_FREE_SLOTS_AVAILABLE"
    }
    ```
    ---
    ```json
    {
      "errorCode": "TOO_EARLY_TO_BOOK",
      "earliestTimepoint": "2027-12-31T01:00:00.000Z"
    }
    ```

    ### Field error
    There is a special case when the errorCode is set to `INVALID_INPUT`. When this happens, there will always be a list
    called `fieldErrors` available, which contains one or more common errors. This type of error is generally used when
    a lot of input will be validated at one time, to make it easier to show all errors in one go. Each of the errors
    contains an additional value, `field`, which can be used to map input argument to error.

    ```json
    {
      "errorCode": "INVALID_INPUT",
      "fieldErrors": [
        {
          "field": "personalDetails.receiverName",
          "errorCode": "STRING_TOO_LONG",
          "mixValue": 1,
          "maxValue": 255,
        },
        {
          "field": "personalDetails.receiverTarget",
          "errorCode": "EMAIL_INVALID"
        },
        {
          "field": "personalDetails.senderName",
          "errorCode": "STRING_TOO_LONG",
          "mixValue": 1,
          "maxValue": 255,
        },
        {
          "field": "personalDetails.senderGreeting",
          "errorCode": "STRING_TOO_LONG",
          "mixValue": 1,
          "maxValue": 255,
        }
      ]
    }
    ```
    Fields in lists are reported as `"field": "<listProperty>.<index>.<propertyName>"`. E.g:
    ```json
    {
      "errorCode": "INVALID_INPUT",
      "fieldErrors": [
        {
          "field": "participants.0.birthDate",
          "errorCode": "DATE_INVALID"
        }
      ]
    }
    ```


    ## Error codes
    The following error codes can be returned in an error response.

    | Error code | Arguments |
    |---|---
    | ADDON_FEATURE | message (String) |
    | ADDRESS_INVALID | |
    | ADDRESS_INVALID_POSTALCODE | |
    | ADDRESS_POSTALCODE_CITY_MISSMATCH | |
    | ALREADY_BOOKED | |
    | ALREADY_HAVE_MEMBER_CLUB | |
    | ALREADY_ON_WAITING_LIST | |
    | ALREADY_TERMINATED | |
    | AUTOGIRO_INVALID_BGC_STATE | |
    | BANKACCOUNT_INVALID | |
    | BOOKING_CLASHES_WITH_OTHER_BOOKING | |
    | BOOKING_NOT_ALLOWED | |
    | BOOKING_REQUIRES_MEMBERSHIP | |
    | BOOKING_RESOURCE_REQUIREMENT_HAS_CHANGED | |
    | BOOKING_RULE_PREVENTS_ADDING_TO_WAITING_LIST | |
    | BOOKING_RULE_PREVENTS_BOOKING | |
    | BOOKING_TERMS_NOT_ACCEPTED | |
    | BOOKING_WAITING_LIST_NOT_ALLOWED_IF_FREE_SLOTS | |
    | BOOK_EVENT_INSUFFICIENT_SLOTS | |
    | BOOK_EVENT_NOT_IN_BOOKING_PERIOD | |
    | BOOK_EVENT_UNKNOWN_ERROR | |
    | BOOK_FAMILY_NOT_ALLOWED | |
    | BOOK_NOT_ALLOWED_FOR_PAID_PARTICIPANTS | |
    | BOOK_SERVICE_INSUFFICIENT_RIGHTS | |
    | CANCEL_BOOKING_SUCCESS_REFUND_FAILED | |
    | CANNOT_ADD_RELEASE_SUSPENSION_PRODUCT | |
    | CANNOT_BOOK_CANCELLED_ACTIVITY | |
    | CANNOT_CANCEL_ANONYMOUS_ORDER_ITEM | |
    | CANNOT_CANCEL_DEBITED | |
    | CANNOT_CANCEL_DEBITED_PRELIMINARY | |
    | CANNOT_CANCEL_OTHERS | |
    | CANNOT_CANCEL_TICKET_ALREADY_PRINTED | |
    | CANNOT_CANCEL_UNKNOWN_ERROR | |
    | CANNOT_DELETE_DEBITED_SUBSCRIPTION | |
    | CANNOT_FREEZE_DURING_CAMPAIGN | |
    | CANNOT_FREEZE_DURING_FREE_PERIOD | |
    | CANNOT_MODIFY_OR_DELETE_ORDER_ITEM_THAT_IS_PART_OF_PACKAGE | |
    | CANNOT_ONLY_FREEZE_AN_ADDITION | |
    | CANNOT_ONLY_UNFREEZE_AN_ADDITION | |
    | CANNOT_REFUND_INTERNET_PAYMENT | |
    | CANNOT_REMOVE_ADDITION_PRODUCT | |
    | CANNOT_REMOVE_SIGNED_SUBSCRIPTION | |
    | CANNOT_SET_CARDNUMBER_ON_MULTIPLE_ENTRIES | |
    | CANNOT_TERMINATE_SUBSCRIPTION | |
    | CANNOT_UNFREEZE | |
    | CANNOT_UPDATE_ENTRY_BOOKING_WITH_RESOURCE_REQUIREMENT | |
    | CARDNUMBER_ALREADY_EXISTS | fullName (String) |
    | CARDNUMBER_ALREADY_EXISTS | |
    | CARDNUMBER_INVALID | |
    | CLEARINGNUMBER_INVALID | |
    | COULD_NOT_SEND_PAYMENT_CERTIFICATE_BY_EMAIL | |
    | COUNTRY_NULL | |
    | COUPON_AFTER_VALUE_CARD_RESERVATION | |
    | COUPON_INVALID_TIME | startDate (Date), endDate (Date) |
    | COUPON_NOT_APPLICABLE | |
    | COUPON_NOT_FOUND_ON_ORDER | |
    | CUSTOMER_ALREADY_MARKED_FOR_ANONYMIZATION | |
    | CUSTOMER_DELETE_NOT_ALLOWED | errorMessage (String) |
    | CUSTOMER_DEVICE_CANNOT_BE_MADE_PRIMARY | |
    | CUSTOMER_MISSING_SSN | |
    | CUSTOMER_SUSPENDED | |
    | CUSTOMER_TYPE_INACTIVE | |
    | CUSTOMER_TYPE_NOT_APPLICABLE | |
    | CUSTOMER_TYPE_NOT_APPLICABLE_FOR_SUBSCRIPTION_USER | |
    | DATERANGE_INVALID | |
    | DATERANGE_MUST_BE_LONGER_THAN | numUnits (Number), timeUnit (Time unit) |
    | DATERANGE_MUST_BE_SHORTER_THAN | numUnits (Number), timeUnit (Time unit) |
    | DATE_AGE_TOO_OLD | maxAge (Number) |
    | DATE_AGE_TOO_YOUNG | minAge (Number) |
    | DATE_INVALID | |
    | DATE_MUST_BE_EARLIER_THAN | maxDate (Date) |
    | DATE_MUST_BE_LATER_THAN | minDate (Date) |
    | DELETE_NOT_SUPPORTED_FOR_PAYMENT_METHOD | |
    | DIRECT_DEBIT_ALREADY_REGISTERED | |
    | DIRECT_DEBIT_INSUFFICIENT_AGE | |
    | EMAIL_ALREADY_EXISTS | |
    | EMAIL_ALREADY_EXISTS_NAME | fullName (String) |
    | EMAIL_BLOCKED | |
    | EMAIL_INVALID | |
    | EXISTING_OR_FUTURE_FREEZE_ALREADY_EXISTS | |
    | EXPORT_TEMPLATE_MISSING_PARAMETER | parameter (String) |
    | EXPORT_TEMPLATE_NOT_CONFIGURED_CORRECTLY | |
    | FAILED_TO_TERMINATE | |
    | FIELD_ARRAY_SIZE | |
    | FIELD_DUPLICATED | |
    | FIELD_EMPTY | |
    | FIELD_INVALID_TYPE | |
    | FIELD_MANDATORY | |
    | FIELD_NOT_ALLOWED | |
    | FIELD_NOT_ANY_OF | list (List of Any) |
    | FILE_FORMAT_NOT_SUPPORTED | |
    | FILE_MEDIA_TYPE_NOT_SUPPORTED | |
    | FUNCTIONALITY_DISABLED | |
    | GYMMUSIK_RETURNED_ERROR | |
    | ID_ALREADY_EXISTS | |
    | ID_NOT_FOUND | |
    | IMAGE_COULD_NOT_BE_SET | |
    | IMAGE_NOT_BASE_64 | |
    | INCORRECT_DEBIT_METHOD | |
    | INCORRECT_PASSOWRD | |
    | INCORRECT_PRODUCT_TYPE | |
    | INSUFFICIENT_RIGHTS | missingRights (String) |
    | INVALID_INPUT | |
    | INVALID_PASSWORD_MAXIMUM_LENGTH | |
    | INVALID_PASSWORD_MINIMUM_LENGTH | |
    | INVALID_ORGANIZATION_REGISTRATION_UUID | |
    | INVALID_RESOURCE_REQUIREMENT_FILTER | |
    | INVOICE_MISSING_BUSINESS_UNIT | |
    | INVOICE_ZERO_OR_LESS | |
    | LOCATION_ID_DOES_NOT_MATCH_THE_ONE_IN_BRP | |
    | MAXIMUM_DOCUMENT_COUNT_EXCEEDED | maxCount (String) |
    | MEMBER_DOES_NOT_HAVE_JUST_FACE_ACCESS | |
    | MESSAGE_TEMPLATE_NOT_CONFIGURED | |
    | MISSING_CONFIGURATION | missingConfigurations (String) |
    | MISSING_USER_ATTRIBUTES | missingAttributes (String) |
    | NOTHING_LEFT_TO_PAY | |
    | NOT_ALLOWED_TO_BOOK_ENTRY_PAST_SPECIFIC_DATE | |
    | NOT_PAYER_OF_SUBSCRIPTION | |
    | NOT_SELECTABLE_FOR_COMPANY | |
    | NOT_SELECTABLE_FOR_MANUALLY_DEBITED_SUBSCRIPTION | |
    | NOT_SELECTABLE_FOR_RECURRINGLY_DEBITED_SUBSCRIPTION | |
    | NOT_SELECTABLE_FOR_SUBSCRIPTION_FREEZE | |
    | NOT_SELECTABLE_OVER_INTERNET | |
    | NOT_SUPPORTED_AS_PAYMENT_METHOD | |
    | NO_FREE_RESOURCES_AVAILABLE | |
    | NO_FREE_SLOTS_AVAILABLE | |
    | NO_PAYMENT_FOUND_FOR_THE_GIVEN_PERIOD | |
    | NPS_REQUEST_EXPIRED | |
    | NUMBER_DIGITS_INVALID | |
    | NUMBER_DIGITS_MAX | maxDigits (Number) |
    | NUMBER_DIGITS_MIN | minDigits (Number) |
    | NUMBER_DIGITS_MINMAX | minDigits (Number), maxDigits (Number) |
    | NUMBER_RANGE_INVALID | |
    | NUMBER_VALUE_MAX | maxValue (Number) |
    | NUMBER_VALUE_MIN | minValue (Number) |
    | ONLY_ALLOWED_TO_ADD_IF_PARTICIPANTS_MUST_PAY | |
    | ONLY_ALLOWED_TO_UPDATE_CARDNUMBER_AS_INTEGRATOR | |
    | ONLY_PAYER_ALLOWED_AS_USER | |
    | OPTION_MANDATORY | |
    | ORDER_CAN_NOT_BE_ANONYMOUS | |
    | ORDER_COULD_NOT_SET_TO_PRELIMINARY | |
    | ORDER_DELETE_NOT_ALLOWED | |
    | ORDER_FULLY_DEBITED | |
    | ORDER_ITEM_BELONG_TO_OTHER_ORDER | |
    | ORDER_ITEM_DELETE_NOT_ALLOWED | |
    | ORDER_NOT_PRELIMINARY | |
    | ORDER_NUMBER_ALREADY_IN_USE | |
    | ORDER_NUMBER_INSUFFICIENT_RIGHTS | |
    | ORDER_NUMBER_MUST_BE_NUMBER | |
    | ORDER_STATUS_NOT_ALLOWED_TO_USE_OVER_API | |
    | OTHER_PAYER_NOT_ENABLED | |
    | PARTICIPANT_MUST_BE_ORDERER | |
    | PARTICIPANT_NOT_IN_EVENTOFFER | |
    | PASSAGE_TRY_ERROR | passageTryError (Integer), message (String) |
    | PASSWORD_INVALID | |
    | PASSWORD_SHOULD_CONTAIN_AT_LEAST_3_OUT_OF_UPPER_CASE_LETTER_LOWER_CASE_LETTER_NUMBER_OR_SPECIAL_CHARACTER | |
    | PASSWORD_SHOULD_NOT_CONTAIN_CUSTOMER_NAME | |
    | PASSWORD_SHOULD_NOT_CONTAIN_CUSTOMER_NUMBER | |
    | PERSON_NOT_FOUND | |
    | PHONENUMBER_BLOCKED | |
    | PHONENUMBER_INVALID | |
    | PHONENUMBER_NULL | |
    | PRINT_TICKET_ERROR | |
    | PRODUCT_NOT_ALLOWED | id (Integer) |
    | RECRUITED_BY_CANNOT_BE_SAME_AS_THE_SUBSCRIPTION_USER | |
    | RESOURCE_DOES_NOT_BELONG_TO_BUSINESS_UNIT | |
    | RESOURCE_REQUIREMENT_DELETED | |
    | RESOURCE_REQUIREMENT_DOES_NOT_CONTAIN_RESOURCE | requirementName (String), resourceName (String) |
    | RESOURCE_REQUIREMENT_MUST_HAVE_FIXED_LENGTH | |
    | RESOURCE_REQUIREMENT_NOT_FOUND | |
    | RESOURCE_REQUIREMENT_NOT_SELECTABLE_FROM_INTERNET | |
    | RESOURCE_VIEW_DOES_NOT_BELONG_TO_BUSINESS_UNIT | |
    | RESOURCE_VIEW_NOT_ENABLED_FOR_INTERNET | |
    | SELECTED_RESOURCE_NOT_ALLOCATED | |
    | SEX_EMPTY | |
    | SEX_INVALID | |
    | SEX_SSN_MISSMATCH | |
    | SSN_AGE_TOO_OLD | maxAge (Number) |
    | SSN_AGE_TOO_YOUNG | minAge (Number) |
    | SSN_ALREADY_EXISTS | |
    | SSN_ALREADY_EXISTS_NAME | fullName (String) |
    | SSN_ALREADY_USED_AS_PAYER_NUMBER | |
    | SSN_BLOCKED | |
    | SSN_INVALID | |
    | SSN_INVALID_DK | |
    | SSN_INVALID_FI | |
    | SSN_INVALID_HR | |
    | SSN_INVALID_NO | |
    | SSN_INVALID_SE | |
    | STRING_NULL | |
    | STRING_TOO_LONG | mixValue (Number), maxValue (Number) |
    | STRING_TOO_SHORT | minValue (Number), maxValue (Number) |
    | STUDENT_LOOKUP_NOT_SUCCESSFUL_FOR_SSN | |
    | STUDENT_LOOKUP_NOT_SUCCESSFUL_FOR_SUBSCRIPTION_USER_SSN | |
    | SUBSCRIPTION_CANCELLATION_RESTRICTED_BY_PRODUCT_LABEL | |
    | SUBSCRIPTION_DOES_NOT_HAVE_FIXED_INTERVAL | |
    | SUBSCRIPTION_HAS_FROZEN_ADDITION | |
    | SUBSCRIPTION_IS_A_CONTRACT | |
    | SUBSCRIPTION_IS_INACTIVE | |
    | SUBSCRIPTION_IS_NOT_TERMINATED | |
    | TECHNOGYM_ENTERPRISE_IS_NOT_CONFIGURED | |
    | TECHNOGYM_ENTERPRISE_TOKEN_NOT_FOUND | |
    | TIMEPOINT_INVALID | |
    | TIMEPOINT_MUST_BE_EARLIER_THAN | maxDate (Time point) |
    | TIMEPOINT_MUST_BE_LATER_THAN | minDate (Time point) |
    | TIMERANGE_INVALID | |
    | TIMERANGE_MUST_BE_LONGER_THAN | numUnits (Number), timeUnit (Time unit) |
    | TIMERANGE_MUST_BE_SHORTER_THAN | numUnits (Number), timeUnit (Time unit) |
    | TOKEN_IS_NO_LONGER_VALID | |
    | TOO_EARLY_TO_BOOK | earliestTimepoint (Time point) |
    | TOO_EARLY_TO_UNFREEZE | earliestDay (Date) |
    | TOO_LATE_TO_BOOK | minutesBefore (Number) |
    | TOO_LATE_TO_BOOK_WAITING_LIST | minutesBefore (Number) |
    | TOO_LATE_TO_CANCEL | minutesBefore (Number), isFixedTimepoint (Boolean) |
    | TOO_LATE_TO_CANCEL_RULE | latestLocalized (String) |
    | TOO_MANY_CONCURRENT_BOOKINGS | perDay (Number), perWeek (Number), total (Number) |
    | TOO_MANY_CONCURRENT_WAITING_LISTS | perDay (Number), perWeek (Number), total (Number) |
    | TOO_MANY_NOSHOWS | |
    | TOO_OLD | ageLimit (Number) |
    | TOO_YOUNG | ageLimit (Number) |
    | TOTAL_SIZE_OF_ALL_DOCUMENTS_MUST_BE_LESS_THAN | maxSize (String) |
    | UNKNOWN | |
    | UNPAID_INVOICES_EXIST | |
    | URL_INVALID | |
    | USER_ACCOUNT_IS_LOCKED | |
    | USER_CREDENTIALS_ARE_INVALID | wrongLoginAttempts (Number) |
    | USER_CREDENTIALS_HAVE_EXPIRED | |
    | USER_IS_NOT_CUSTOMER | |
    | USER_PASSWORD_HAS_EXPIRED_ACCESS_TOKEN_NO_LONGER_VALID | |
    | VALUE_CARD_AFTER_GIFTCARD | |
    | VALUE_CARD_ALREADY_RESERVED | |
    | VALUE_CARD_EMPTY | |
    | VALUE_CARD_EXPIRED | |
    | VALUE_CARD_IS_NOT_TEMPORARY | |
    | VALUE_CARD_NOT_APPLICABLE | |
    | VALUE_CARD_NOT_APPLICABLE_FOR_USER | |
    | VALUE_CARD_WRONG_COMPANY | |
    | VALUE_CARD_WRONG_CURRENCY | |
    | VIPPS_REQUIRED_SETTINGS_ARE_NOT_SET | |
    | WAITING_LIST_NOT_ALLOWED_FOR_FAMILY_BOOKING | |
    | WAITING_LIST_NOT_ALLOWED_FOR_PAID_PARTICIPANTS | |
    | WAITING_LIST_NOT_AVAILABLE_FOR_GROUP_ACTIVITY | |
    | WEB_CATEGORY_DOES_NOT_BELONG_TO_APP | |
    | WEEKRANGE_INVALID | |


    ## Authorization
    Some of the resource methods can only be performed when a valid authorization header is provided with the request.
    Each described request in this API documentation shows if and when authorization is required. The api uses
    JSON Web Token (JWT) when creating access tokens (see [https://jwt.io](https://jwt.io)).

    Authorization is provided as a header in the request with this format:
    ```http
    Authorization: Bearer <access_token>
    ```

    - How to create an `<access_token>` is described in the [auth/login](#tag--auth/login) section.
    - How to validate an `<access_token>` is described in the [auth/validate](#tag--auth/validate) section.
    - How to create a new `<access_token>` using a `<refresh_token>` is described in the [auth/refresh](#tag--auth/refresh) section.

    Examples on how to use the tokens is described in the [Scenarios](#scenarios) chapter.

    If you have been using our API version 2 then you can generate an API 3 access token from an API 2 key.
    Follow the instructions in [Generate API3 access token](#generate-api3-access-token).

    ## Roles
    An access token contains a list of roles. Each resource in the API are only accessible by one or more roles. Each
    described request in this API documentation shows which role that are needed.

    The following roles exists:

    | Role | Description | Hierarchy |
    |---|---|---|
    | ROLE_ANONYMOUS | Is the same as not providing an access token in the request. | - |
    | ROLE_CUSTOMER | A person in BRP database with no special permissions. A typical customer. | `ROLE_CUSTOMER` > `ROLE_ANONYMOUS` |
    | ROLE_EMPLOYEE | A person in BRP database that is set as employee. | `ROLE_EMPLOYEE` > `ROLE_CUSTOMER` |
    | ROLE_INTEGRATOR | A person in BRP database that has the system access right `API3 integrator access`. | `ROLE_INTEGRATOR` > `ROLE_ANONYMOUS` |

    # Scenarios
    [Click here to open the API3 scenarios](./api3scenarios?key=f43e5df0b0f74d2b82e93a4f4226ff96).

    # Change log
    [Click here to open the API3 change log](./api3changelog?key=f43e5df0b0f74d2b82e93a4f4226ff96).


servers:
  - url: "https://boulders.brpsystems.com/apiserver"
    description: "API server"
tags:
  - name: "apps"
    description: "Configuration for an app. An app is usually used as configuration for a mobile app and/or a web app."
  - name: "apps/resources"
  - name: "auth/login"
  - name: "auth/resetpassword"
  - name: "auth/refresh"
  - name: "auth/token"
  - name: "auth/validate"
  - name: "bankidentifiercodes"
  - name: "businessunits"
    description: |-
      A business unit is an arbitrary division within a company.
      Usually, each business unit is a separate facility, but there is no strict requirement for this.
  - name: "businessunits/events"
    description: "An event is scheduled during a specified time range and contain many occasions. A registerd customer can book a slot to participate the event."
  - name: "businessunits/groupactivities"
    description: "A group activity is scheduled to a specific time. A registered customer can book a slot to participate the activity."
  - name: "businessunits/logo"
  - name: "businessunits/paymentmethods"
  - name: "businessunits/resourceviews"
  - name: "businessunits/resourceviews/bookings"
  - name: "businessunits/resourceviews/resources"
  - name: "companies"
    description: "A company is a legal entity which can hold one or several business units."
  - name: "consents"
  - name: "consenttypes"
  - name: "customers"
  - name: "customers/bookings/events"
    description: "Event bookings for a customer."
  - name: "customers/bookings/groupactivities"
    description: |-
      This API endpoint is used for booking a group activity or to view and modify which group activities a customer has booked.
      The returned data can be of both of the types below.
      When an user has successfully booked a group activity, a `GroupActivityBooking` is returned,
      while if the user is only on the waiting list, `WaitingListBooking` is returned.
      A waiting list booking will automatically be changed to a group activity booking when a slot becomes free.
      If the group activity is a paid group activity, the `DELETE` request will refund the paid amount.
      
      <div style = "padding: 12px; border-radius: 2px">
      <b>NOTE</b><br/>
      For <code>GET</code> and <code>POST</code> and when the `access_token` has the role <code>ROLE_INTEGRATOR</code>, 
      the requester must also have the system access right <code>Integrator - Groupactivities - Book</code>.
      </div>
  - name: "customers/bookings/entries"
    description: |-
      Entry bookings for a customer.
  - name: "customers/bookings/groupactivities/bookfamily"
    description: |-
      This API endpoint can be used to create group activity family bookings, cancel family member bookings, and retrieve the create or cancel booking summary.
  - name: "customers/bookings/groupactivities/bookfamilywaitinglist"
    description: |-
      This API endpoint can be used to add family members to waiting list, remove family members from waiting list, and retrieve the create or cancel waiting list booking summary.
  - name: "customers/bookings/groupactivities/quota"
    description: |-
      API endpoint used to get number of remaining bookings allowed by the booking rule quota for the specific customer, product and time.
  - name: "customers/bookings/services"
  - name: "customers/bookings/packages"
  - name: "customers/consents/cards"
    description: |-
      A card consent is required when a customer wants to pay for a subscription with recurring card payments. Use the
      endpoint [services/generatelink/registercardconsent](#link_services_generatelink_registercardconsent) to create
      or update a card consent.
  - name: "customers/consents/dkdirectdebits"
    description: "A Danish direct debit consent is required when a customer wants to pay for a subscription with Danish PBS."
  - name: "customers/consents/fidirectdebits"
    description: "A Finnish direct debit consent that is required when a customer wants to pay for a subscription with Finvoice."
  - name: "customers/consents/nodirectdebits"
    description: "A direct debit consent is required when a customer wants to pay for a subscription with Norwegian Avtalegiro."
  - name: "customers/consents/sedirectdebits"
    description: "A direct debit consent is required when a customer wants to pay for a subscription with Swedish Autogiro."
  - name: "customers/consents/trustlydirectdebits"
    description: "A Trustly direct debit consent is required when a customer wants to pay for a subscription with Trustly direct debit."  
  - name: "customers/customeraccounts"
  - name: "customers/devices"
    description: "Device information for customer."
  - name: "customers/devices/primary"
    description: "Make customer device primary device used for passage."
  - name: "customers/invoices"
  - name: "customers/journalnotes"
  - name: "customers/memberclubs"
    description: "Member club information for customer."
  - name: "customers/netpromoterscorerequests"
  - name: "customers/noshows"
  - name: "customers/offers/events"
  - name: "customers/otheruser"
    description: |-
      This API endpoint is used for other payer feature where client need to buy subscription for another user.
  - name: "customers/owndefinedparametervalues"
    description: "Own defined parameter values set for a given customer"
  - name: "customers/passagetries"
  - name: "customers/profileimages"
  - name: "customers/receipts"
  - name: "customers/signaturecases"
    description: |-
      When creating a signature case, the payer must be the only and same person as the user of the subscription. 
      As soon as the signature case has been signed, the order will become confirmed.
  - name: "customers/subscriptions"
  - name: "customers/subscriptions/freeze"
    description: "Freezing a subscription and its additions."
  - name: "customers/subscriptions/freezerequests"
    description: "Request to freeze subscriptions"
  - name: "customers/subscriptions/freezerequests/files"
    description: "Upload a file for a freeze request of a subscription."
  - name: "customers/subscriptions/freezerules"
  - name: "customers/subscriptions/freezes"
  - name: "customers/subscriptions/paymentcertificates"
  - name: "customers/subscriptions/terminate"
    description: "Terminates a subscription and its additions."
  - name: "customers/subscriptions/terminateundo"
    description: "Undo cancellation of a subscription."
  - name: "customers/subscriptions/unfreeze"
    description: "Unfreezing a subscription and its additions."
  - name: "customers/subscriptions/users"
  - name: "customers/trustlyaccounts"
  - name: "customers/valuecards"
  - name: "customers/workouts"
  - name: "customers/workoutssummary"
  - name: "customersegments"
    description: "Used in customer retention. Requires integrator access (contact BRP)."
  - name: "customertypes"
    description: |-
      There are four default customer types in BRP: `Regular`, `Student`, `Pensioner` and `Youth`.
      Each customer is associated with a customer type and each customer type has a price list.
      Therefore the customer type has affect on a product's price that a customer might purchase.
  - name: "justface/attendance"
    description: "Check if a member is allowed at the gym at this point in time."
  - name: "justface/updateimage"
    description: "Update a person's image."
  - name: "leadsources"
  - name: "marketactivities"
  - name: "messages"
    description: "Messages are static texts. They can have different translations and can be specific for a business unit."
  - name: "orders"
    description: |-
      An order is a container for items that a customer want to order. Order items can be any of articles, subscriptions,
      value cards, event bookings and service bookings. An order can also contain discount coupons and value cards that
      the customer has reserved for payment of the order.

      Multiple concurrent requests for a specific order will result in an unknown behaviour. The correct way is to wait for
      a request to return before doing another request.

      Creating or updating an order with missmatching customer and customer type will return with error. For customer type
      `Youth` the customer must be younger than a certain age specified in Business unit section `settings.youthMaxAge`.
      <br/><br/>
      <table>
        <tr>
          <td>
            <b>WARNING</b>
          </td>
          <td>
            There are some restrictions when modifying an order. Modification must follow this sequence:<br/><br/>
            1. Create order<br/>
            2. Add/remove items<br/>
            3. Add/remove coupons<br/>
            4. Add/remove value card reservations to pay for order<br/><br/>
            The sequence must be reversed if you want to change something higher in the sequence. If an order contains a coupon
            and you want to add another item, you'll have to remove the coupon before adding the new item. Methods <code>PUT</code> and
            <code>DELETE</code> can always be done for the order even if items, coupons or value card reservations exist on the order.
          </td>
        </tr>
        <tr>
          <td>
            <b>WARNING</b>
          </td>
          <td>
            Currently a customer may create an order even if the customer lacks required data like Swedish personal number
            or birthdate (this may happen if the customer has been created from the BRP Swing application). In a future release
            this will be prevented.<br/><br/>
            It's always a good approach to validate the customers data before creating an order for the customer.
          </td>
        </tr>
      </table>
  - name: "orders/coupons"
  - name: "orders/items/articles"
    description: |-
      API endpoints to handle article items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the item added.
  - name: "orders/items/groupactivities"
    description: |-
      API endpoints to handle group activity items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the service added.
  - name: "orders/items/entries"
    description: |-
      API endpoints to handle entry items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the item added.
  - name: "orders/items/events"
    description: |-
      API endpoints to handle event items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the event added.
  - name: "orders/items/packages"
    description: |-
      API endpoints to handle package items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the package added.
  - name: "orders/items/services"
    description: |-
      API endpoints to handle service items on an order.
      <b>NOTE</b>: requests will return the whole order and not just the service added.
  - name: "orders/items/subscriptions"
    description: |-
      API endpoints for adding or removing subscriptions to/from an order.
      <b>NOTE</b>:  requests will return the whole order and not just the subscription added.
  - name: "orders/items/valuecards"
    description: |-
      API endpoints to handle value card items on an order.
      <b>NOTE</b>:  requests will return the whole order and not just the item added.
  - name: "orders/valuecardreservations"
  - name: "orderstatuses"
    description: |-
      API3 automatically updates the order status of an order.
      It is done when you [pay for an order](#tag--services/generatelink/payment), [confirm an order](#tag--services/generatelink/confirmorder), etc.
      Usually you shouldn't modify an order's status by yourself.

      If you, as an integrator, handles payments outside of API3 or Payment API, you should update the order's status
      accordingly to your external actions.

      An order status can be referenced by an order.
      You can set an order status when creating a new order or when updating an existing order.

      <table>
        <tr>
          <td>
            <b>NOTE</b>
          </td>
          <td>
            Only order statuses that are allowed to be used over API will be listed here.
            Only these order status can be used as order status when creating or updating an order.
            If the order status that you want to work with is not in the list, make sure to enable it with BRP Configuration.
          </td>
        </tr>
      </table>
  - name: "organizations"
  - name: "owndefinedparameters"
    description: |-
      Own defined parameters are parameters which are unique for this given installation.
      Some can be applied to persons, some to subscriptions and some to both.
  - name: "passagereaders"
  - name: "personinformations"
  - name: "products/articles"
    description: |-
      Articles are products that you sell once. They don't give the buyer any rights or permissions to anything.
      Articles may be physical items like a t-shirt or coffee. The t-shirt may be in a stock but the coffee is not as it is brewed when it is sold.
      Articles may be non-physical products like a cancellation fee or a membership fee.
  - name: "products/entries"
  - name: "products/entries/availability"
  - name: "products/entries/resources"
  - name: "products/entries/suggestions"
  - name: "products/events"
  - name: "products/events/additions"
  - name: "products/events/prices"
  - name: "products/groupactivities"
  - name: "products/packages"
  - name: "products/services"
  - name: "products/services/additions"
  - name: "products/services/resources"
  - name: "products/services/prices"
  - name: "products/services/suggestions"
  - name: "products/subscriptions"
  - name: "products/subscriptions/additions"
  - name: "products/subscriptions/freezereasons"
  - name: "products/subscriptions/terminationreasons"
  - name: "products/valuecards"
  - name: "resources/availability"
  - name: "services/banklookup"
    description: "BRP has an internal list of clearing numbers for banks. This service enables bank name lookup from provided clearing number."
  - name: "services/calendar"
    description: |-
      This service provides a calendar with bookings of a specific person. 
      The endpoint can be used with both `https://`- and `webcal://`protocol in order to return a calendar file (.ics)
      containing all of the service, event and group activity bookings of the person.
  - name: "services/calendarinstructions"
    description: |-
      This service provides a calendar with service, event, and group activity bookings for a given customer.
      The endpoint will always return a calendar link, but can also send an email directly to the customer with
      instructions on how to add the calendar. These instructions can be modified through the message template
      `Email - Sync calendar`.
  - name: "services/countries"
  - name: "services/exporttemplate"
    description: "A service that runs an export template and returns the result. Requires integrator access (contact BRP)"
  - name: "services/generate/invoicereport"
  - name: "services/generate/paymentcertificate"
  - name: "services/generatelink/confirmorder"
    description: |-
      This service generates a link to BRP's simplified payment handler (see [services/generatelink/payment](#tag--services/generatelink/payment)) to confirm an order, 
      not to pay for it. An order confirmation does not create a receipt and no receipt emails are sent. 
      Instead an order confirmation email is sent to the customer of the order.

      Order confirmation is only allowed for product types `SERVICE` and `EVENT`.
  - name: "services/generatelink/exorlive"
    description: |-
      This service generates the link to connect to exorlive.
  - name: "services/generatelink/payforcustomeraccount"
    description: |-
      This service generates a payment link for paying off a customer's account. 
      Available payment method types are `CARD_CREDIT`, `CARD_DEBIT` and `SWISH`.
  - name: "services/generatelink/payment"
    description: |-
      BRP integrates with external payment provider to enable customers to pay for an order or an invoice. 
      Each payment provider behaves different. To simplify the payment process BRP has a single endpoint 
      that takes care of the communication with each different payment provider (see https://brpsystems.atlassian.net/wiki/x/joAHiw). 
      This service generates a payment link for a specified order or an invoice.

      <table>
        <tr>
          <td>
            <b>NOTE</b>
          </td>
          <td>
            This endpoint will be secured if the payment method is `CUSTOMER_ACCOUNT` 
            and the setting `enablePayWithCustomerAccount` is set to true.
          </td>
        </tr>
      </table>
  - name: "services/generatelink/registerdirectdebitconsentno"
    description: |-
      BRP integrates with Avtalegiro (norwegian direct debit) online registration. 
      This service generates a link to the Avtalegiro online registration.
  - name: "services/generatelink/registercardconsent"
    description: |-
      A subscription that shall be payed monthly with payment card (RCP, Recurring Card Payment) requires the customer to have a card consent. 
      A card consent is created automatically by BRP when a customer pay for an order that contains a RCP subscription. 
      This service can be used when a card consent must be created manually. 
      The service returns a link to a payment provider where the customer has to reserve 1 SEK with its payment card. 
      The "payment" is needed for the card consent to be created.

      A customer can only have one card consent per company. 
      If the customer already has a card consent registered for the company of the specified business unit, 
      the card consent will be updated with the card information that the customer will enter in the payment.
  - name: "services/generatelink/registertrustlyconsent"
    description: |-
      BRP integrates with Trustly direct debit online registration. 
      This service generates a link to the Trustly consent online registration.    
  - name: "services/generatelink/vippslogin"
    description: |-
      This service generates a link to initiate the Vipps login.
  - name: "services/groupactivityinstructors"
    description: "Endpoint for listing active group activity instructors"
  - name: "services/personlookup"
    description: |-
      This service enables person lookup from a provided Swedish person number. 
      The service is not enabled by default. 
      An license fee must be payed to enable it. 
      The person lookup data are delivered from external person lookup services that BRP integrates with.
  - name: "services/personlookupwithvipps"
    description: |-
      This service enables person lookup from Vipps.
  - name: "services/postalcitylookup"
    description: "This service enables postal city lookup from a provided postal code and country."
  - name: "services/validate/consents/sedirectdebits"
    description: |-
      Validation service for Swedish Autogiro consent data before creating and modifying.
      A typical use case for this service is when we want to validate user inputs while the user is typing.
  - name: "services/validate/customers"
    description: |-
      Validation service for customer data before creating and modifying.
      A typical use case for this service is when we want to validate user inputs while the user is typing.
  - name: "services/validate/otheruser"
    description: |-
      Validation service for other-user data before creating and modifying.
      A typical use case for this service is when we want to validate other user inputs while the user is typing.
  - name: "services/validate/ssn"
    description: |-
      This service can be used for validating Swedish, Danish or Croatian ssn.
      The business unit will determine which country the ssn should be validated against.
  - name: "systemsettings"
  - name: "webcategories"
    description: "Web categories are used to group products in different categories."
  - name: "webcategories/products"
  - name: "webcategories/resources"

paths:
  "/api/ver3/apps/{id}":
    get:
      operationId: "apps_get"
      tags: ["apps"]
      summary: "Show configuration for an app"
      parameters:
        - name: id
          description: "App ID"
          in: path
          required: true
          schema:
            type: integer
        - name: webCategoriesFor
          description: "Web categories for type. Defaults to `app` if not specified."
          in: query
          required: false
          schema:
            type: string
            enum: ["web", "app"]
        - name: allowMultipleCompaniesAndBusinessUnits
          description: "Determines whether multiple business units or companies should be returned"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AppOut"

  "/api/ver3/apps/{app}/groupactivities":
    get:
      operationId: "app_groupactivities_list"
      tags: [ "apps/groupactivities" ]
      summary: "List group activities"
      parameters:
        - name: app
          description: "App ID"
          in: path
          required: true
          schema:
            type: integer
        - name: groupActivitiesFor
          description: "Group activities for."
          in: query
          required: false
          schema:
            type: string
            enum: [ "web", "app" ]
        - name: period.start
          description: "Period to filter by. Defaults to now."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: period.end
          description: "Period to filter by. Defaults to end of today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: webCategory
          description: "Web category ID. Filter group activities of products and business units in this web category."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Is required if replacement rules for the specific customer should be used. Authentication header is required when customer is provided."
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: |-
            Business unit ID. Filter group activities that is held on the provided business units.
            (request url may contain ?businessUnit=1&businessUnit=2).
          in: query
          required: false
          schema:
            type: integer
        - name: product
          description: |-
            Product ID. Filter group activities for the provided products.
            (request url may contain ?product=1&product=2).
          in: query
          required: false
          schema:
            type: integer
        - name: resource
          description: |-
            Resource ID. Filter group activities where the provided resources are instructors.
            (request url may contain ?resource=1&resource=2).
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/GroupActivityOut"

  "/api/ver3/apps/{app}/resources":
    get:
      operationId: "apps_resources_list"
      tags: ["apps/resources"]
      summary: "List resources for an app"
      description: |-
        Lists resources that are available on any of this app's business units.
        It will only list resources of type `STAFF`.
      parameters:
        - name: app
          description: "App ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: |-
            Business unit ID. List products in any of the provided business units 
            (request url may contain ?businessUnit=1&businessUnit=2).
          in: query
          required: false
          schema:
            type: integer
        - name: includeBusinessUnitIds
          description: "Include business unit ids. Response should contains an array of business unit ids."
          in: query
          required: false
          schema:
            type: boolean
            default: false
        - name: includeAssets
          description: "Include assets. Response should contains assets."
          in: query
          required: false
          schema:
            type: boolean
            default: true
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResourceOut"

  "/api/ver3/apps/{app}/resources/{id}":
    get:
      operationId: "apps_resources_get"
      tags: [ "apps/resources" ]
      summary: "Get a specific resource of an app"
      description: |-
        Get a resource that are available on any of this app's business units.
        It will only return resources of type `STAFF`.
      parameters:
        - name: app
          description: "App ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Resource ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResourceOut"

  "/api/ver3/auth/login":
    post:
      operationId: "auth_login_post"
      tags: ["auth/login"]
      summary: "Create an access token"
      description: |-
        An access token must be provided in the request header when requesting protected resources. A valid access token
        for a customer can be requested by a call to `auth/login` or using a refresh token to create a new access token
        without user interaction.
        Read more about the access token and authorization at section [Authorization](#overview--authorization).
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                  description: "Email address, card number, customer number or person number of customer. Is configurable in BRP."
                password:
                  type: string
                  format: password
                  description: "Password of customer"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthLoginOut"

  "/api/ver3/auth/resetpassword":
    post:
      operationId: "auth_resetpassword_post"
      tags: ["auth/resetpassword"]
      summary: "Send reset password email"
      description: |-
        A customer who has forgotten its password can request an email with instructions for how to reset/change the
        current password. The instructions contains a link to a webpage (configurable in BRP) where a new password can
        be entered. The email, provided in the request, must match the address specified in the customers profile.
        Otherwise no email will be sent. The link in the email is only valid for a short period.

        Integrators must implement the web page where the user can enter a new password.
        Read the scenario `Reset password for customer` to find out how to implement that web page.

        Note that the returned http status will be `201` even if the provided email address doesn't match any customer.
        This is done to prevent malicious users from finding email addresses that are in use.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  description: "Email address of customer to reset password for"
                appId:
                  type: integer
                  description: |-
                    The generated "Reset password" link will be set to `https://<app>.goactivebooking.com/resetPassword`
                    if an `appId` is provided. Otherwise a setting in BRP will be used to set the link.
              example:
                email: "user@mail.com"
      responses:
        201:
          description: "CREATED"

  "/api/ver3/auth/refresh":
    post:
      operationId: "auth_refresh_post"
      tags: ["auth/refresh"]
      summary: "Create a new access token using a refresh token"
      description: |-
        A new access token can be created by a call to `auth/refresh` using the `refresh_token` received from a previous
        call to [auth/login](#tag--auth/login).
        Read more about the access token and authorization at section [Authorization](#overview--authorization).

        There is also an old endpoint that does exactly the same as this endpoint.
        The two endpoints are `/oauth/access_token` and `/api/ver3/auth/refresh`.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - refreshToken
              properties:
                refreshToken:
                  type: string
                  description: "The `refresh_token` received from [auth/login](#tag--auth/login)"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/AuthLoginOut"
                  - description: "Auth refresh response"

  "/api/ver3/auth/token":
    post:
      operationId: "auth_token_post"
      tags: ["auth/token"]
      summary: "Generate token for a specific customer"
      description: |-
        `ROLE_INTEGRATOR`

        Integrators can in rare cases be given a special right which allows them to generate an access token **for any
        given customer**. This endpoint **can't** be used to generate a token for **other integrators or oneself**.
        It is not a replacement for [auth/login](#tag--auth/login).
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customer
              properties:
                customer:
                  type: integer
                  description: "ID of customer to generate an access token for"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthTokenOut"

  "/api/ver3/auth/validate":
    post:
      operationId: "auth_validate_post"
      tags: ["auth/validate"]
      summary: "Validate an access token"
      description: |-
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR` or `ROLE_EMPLOYEE`

        An access token can be validated by a call to `auth/validate`.
        Provide the access token to validate in the `Authorization` header as you would for any other protected resource.
        Read more about the access token and authorization at section [Authorization](#overview--authorization).
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthValidateOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/bankidentifiercodes":
    get:
      operationId: "bankidentifiercodes_list"
      tags: [ "bankidentifiercodes" ]
      summary: "List bank identifier codes (BIC)"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BankIdentifierCodesOut"

  "/api/ver3/businessunits":
    get:
      operationId: "businessunits_list"
      tags: ["businessunits"]
      summary: "List business units"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BusinessUnitOut"

  "/api3/ver3/businessunits/{businessUnit}/events":
    get:
      operationId: "businessunits_events_list"
      tags: [ "businessunits/events" ]
      summary: "List events for a business unit"
      parameters:
        - name: period
          description: "Time range to filter by"
          in: path
          required: true
          schema:
            $ref: "#/components/schemas/TimeRange"
        - name: webCategory
          description: "Web category to filter by"
          in: path
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/BusinessUnitsEventOut"

  "/api3/ver3/businessunits/{businessUnit}/events/{id}":
    get:
      operationId: "businessunits_events_get"
      tags: [ "businessunits/events" ]
      summary: "Show a specific event"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Event ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessUnitsEventOut"

  "/api/ver3/businessunits/{businessUnit}/groupactivities":
    get:
      operationId: "businessunit_groupactivities_list"
      tags: ["businessunits/groupactivities"]
      summary: "List group activities"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: webCategory
          description: "Web category ID. Filter to group activities in this web category."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Is required if replacement rules for the specific customer should be used. Authentication header is required when customer is provided."
          in: query
          required: false
          schema:
            type: integer
        - name: period.start
          description: "Period to filter by. Defaults to now."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: period.end
          description: "Period to filter by. Defaults to end of today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/GroupActivityOut"

  "/api/ver3/businessunits/{businessUnit}/groupactivities/{id}":
    get:
      operationId: "businessunit_groupactivities_get"
      tags: ["businessunits/groupactivities"]
      summary: "Show a specific group activity"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Group activity ID"
          in: path
          required: true
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Is required if replacement rules for the specific customer should be used. Authentication header is required when customer is provided."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityOut"

  "/api/ver3/businessunits/{businessUnit}/logo":
    get:
      operationId: "businessunit_logo_list"
      tags: ["businessunits/logo"]
      summary: "Get the business unit logo"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
                description: "Logotype image data"
          headers:
            Content-Disposition:
              schema:
                type: string
                example: "attachment; filename=logo.jpg"
            Content-Type:
              schema:
                type: string
                example: "application/octet-stream"

  "/api/ver3/businessunits/{businessUnit}/paymentmethods":
    get:
      operationId: "businessunit_paymentmethods_list"
      tags: [ "businessunits/paymentmethods" ]
      summary: "List all acceptable payment methods for a business unit"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: order
          description: "Order ID. If specified, request will return applicable payment methods for specified order."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PaymentMethodOut"

  "/api/ver3/businessunits/{businessUnit}/resourceviews":
    get:
      operationId: "businessunit_resourceviews_list"
      tags: ["businessunits/resourceviews"]
      summary: "List resource views for specified businessunit"
      description: |-
        Each business unit has its own resource views.
        This request returns a list of the resource views used by the specified business unit.
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResourceViewOut"

  "/api/ver3/businessunits/{businessUnit}/resourceviews/{resourceView}/bookings":
    get:
      operationId: "businessunit_resourceviews_bookings_list"
      tags: ["businessunits/resourceviews/bookings"]
      summary: "List resource bookings for given resource view"
      description: |-
        `ROLE_INTEGRATOR`<br>
        Integrators with special rights can list the resource bookings for a given resource view.
        Preliminary bookings will not be included.
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: resourceView
          description: "Resource view ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to filter by. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to filter by. Max period is one week. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResourceViewBookingOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/businessunits/{businessUnit}/resourceviews/{resourceView}/resources":
    get:
      operationId: "businessunit_resourceviews_resources_list"
      tags: ["businessunits/resourceviews/resources"]
      summary: "List resources used in the specified resource view"
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: path
          required: true
          schema:
            type: integer
        - name: resourceView
          description: "Resource view ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResourceOut"

  "/api/ver3/companies":
    get:
      operationId: "companies_list"
      tags: ["companies"]
      summary: "List all companies"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CompanyOut"

  "/api/ver3/consents/{consentType}":
    get:
      operationId: "consents_list"
      tags: ["consents"]
      summary: "List templates"
      description: "Get templates of consents for provided business unit"
      parameters:
        - name: consentType
          description: "Consent type ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID"
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ConsentTemplateOut"

  "/api/ver3/consenttypes":
    get:
      operationId: "consenttypes_list"
      tags: ["consenttypes"]
      summary: "List active consent types"
      description: |-
        Get all active consent types for provided business unit which has a connected template.
        If the business unit has GDPR Tools activated, custom consents are also sent.
      parameters:
        - name: businessUnit
          description: "Business unit ID"
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ConsentTypeOut"

  "/api/ver3/customers":
    get:
      operationId: "customers_list"
      tags: ["customers"]
      summary: "Find customers that match the search parameters"
      description: |-
        `ROLE_INTEGRATOR`<br>
        At least one of `email` and `mobilePhone` must be present.
        Only exact matches are returned.
      parameters:
        - name: email
          description: "Filter by email"
          in: query
          required: false
          schema:
            type: string
        - name: mobilePhone.number
          description: "Filter by mobile phone number. Both country and number must be specified"
          in: query
          required: false
          schema:
            type: string
        - name: mobilePhone.country
          description: "Filter by mobile phone number"
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_post"
      tags: ["customers"]
      summary: "Create a new customer"
      description: |-
        > **WARNING**  
        > It is highly recommended to have the customer accept the registration terms and send the time point in `acceptedRegistrationTerms` when using this endpoint.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerType
                - businessUnit
                - firstName
                - lastName
              properties:
                customerType:
                  type: integer
                  description: "Customer type"
                businessUnit:
                  type: integer
                  description: "Business unit the customer belongs to"
                firstName:
                  type: string
                  description: "First name"
                lastName:
                  type: string
                  description: "Last name"
                ssn:
                  type: string
                  description: |-
                    Personal identity number, when registering a customer as a subscription user ssn is mandatory if the
                    setting `requireSsnForInternetCustomerRegistrationForSubscriptionUser` is active. For other
                    customers ssn is mandatory if the setting `requireSsnForInternetCustomerRegistration` is active or
                    if the birthDate is not set and setting `allowRegistrationWithoutSsnOrBirthDate` is false.
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth, mandatory unless ssn is set or setting `allowRegistrationWithoutSsnOrBirthDate` is active."
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderIn"
                    - description: "Gender, mandatory unless setting `allowRegistrationWithoutSex` is active."
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address, mandatory unless setting `allowRegistrationWithoutAddress` is active."
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address is mandatory unless the customer is a subscription user (when the `isSubscriptionUser` property is true)"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: |-
                        Mobile phone number is mandatory unless the customer is a subscription user (when the `isSubscriptionUser` property is true)
                        and setting `allowRegistrationWithoutMobile` is disabled.
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                haveParentalConsent:
                  type: boolean
                  description: "If a parent have given consent to the registration (Only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`)."
                password:
                  type: string
                  format: password
                  description: "Optional password, if omitted and setting `setPasswordToBirthdate` is active, then it will be set to customer's birthdate, otherwise it will be null."
                allowMassSendEmail:
                  type: boolean
                  description: "Allow mass sending of emails"
                allowMassSendMail:
                  type: boolean
                  description: "Allow mass sending of letters"
                allowMassSendSms:
                  type: boolean
                  description: "Allow mass sending of sms"
                temporary:
                  type: boolean
                  description: |-
                    Mark customer as temporary. Scheduled job `InactiveInternetPersonRemover` will either remove the
                    customer or clear the flag depending on if any order is connected to customer, when job is run.
                isSubscriptionUser:
                  type: boolean
                  description: "Whether the customer is a subscription user or not."
                leadSource:
                  type: integer
                  description: "ID of the lead source"
                organizationRegistrationUrlUuid:
                  type: string
                  description: |-
                    Customers registered through the organization registration link must send it's UUID. If the UUID
                    is valid and the link is not expired, the customer's organization will be set along with the
                    customer type and it's end date if the organization customer type is active.
                customLeadSourceParameters:
                  type: array
                  description: |-
                    Custom fields required for customers who register via a lead form.
                  items:
                    properties:
                      parameter:
                        type: integer
                        description: "Custom lead source field ID"
                      value:
                        type: string
                        description: "Value for the field"
                    example:
                      parameter: 1
                      value: "12.34"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerOut"

  "/api/ver3/customers/{id}":
    get:
      operationId: "customers_get"
      tags: ["customers"]
      summary: "Display customer with given ID"
      description: |-
        `ROLE_CUSTOMER` | `ROLE_EMPLOYEE`<br>
        The fields `ssn`, `email` and `mobilePhone` will be masked for role `ROLE_EMPLOYEE` if access to personal data
        is restricted and employee is missing the access right.
      parameters:
        - name: id
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerOut"
      security:
        - api3SecurityScheme: []
    put:
      operationId: "customers_put"
      tags: ["customers"]
      summary: "Modify customer with given ID"
      description: |-
        `ROLE_CUSTOMER, ROLE_INTEGRATOR`
      parameters:
        - name: id
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ssn:
                  type: string
                  description: "Personal identity number"
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth"
                firstName:
                  type: string
                  description: "First name"
                lastName:
                  type: string
                  description: "Last name"
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderIn"
                    - description: "Gender"
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address"
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: "Mobile phone number"
                acceptedBookingTerms:
                  type: boolean
                  description: "If booking terms have been accepted"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted"
                oldPassword:
                  type: string
                  format: password
                  description: "Password customer wants to change from"
                password:
                  type: string
                  format: password
                  description: "Password customer wants to change to"
                allowMassSendEmail:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                allowMassSendMail:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                allowMassSendSms:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                consents:
                  type: object
                  additionalProperties:
                    type: boolean
                    description: "The key is the ID of the consent. The value accepts/rejects the consent."
                  description: "Accepts/rejects the consents"
                organizationRegistrationUrlUuid:
                  type: string
                  description: |-
                    Customers changing their organization through an organization registration link it's UUID. 
                    If the UUID is valid and the link is not expired, the customer's organization will be set 
                    along with the customer type and it's end date if the organization customer type is active.
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerOut"
      security:
        - api3SecurityScheme: []
    delete:
      operationId: "customers_delete"
      tags: ["customers"]
      summary: "Delete customer with given ID"
      description: |-
        `ROLE_CUSTOMER`
        This is not a permanent deletion of a customer. Instead it will mark the customer as anonymized.
        An email will also be sent to the system administrator to inform about the action.
      parameters:
        - name: id
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/events":
    get:
      operationId: "customers_bookings_events_list"
      tags: ["customers/bookings/events"]
      summary: "List events booked for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Period to filter by. Defaults to now."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: period.end
          description: "Period to filter by. Defaults to three months forward from now."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EventItemOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/events/{id}":
    delete:
      operationId: "customers_bookings_events_delete"
      tags: [ "customers/bookings/events" ]
      summary: "Cancel a customer's event booking"
      description: |-
        `ROLE_CUSTOMER`<br/>
        This API call can prepare simple cancelling for event booking or cancelling with a refund. Server will try to prepare 
        refund in a case if parameter `tryToRefund` in the request will be `true`. In this case API call will return `200` on success 
        cancelling event booking with refund status in the body - `refundResult: true | false`. 
        In case if `tryToRefund` is not set in the request - the body will be empty.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Event Booking ID"
          in: path
          required: true
          schema:
            type: integer
        - name: tryToRefund
          description: "Should try to auto refund if possible and allowed"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  refundResult:
                    type: boolean
                    example: false
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/bookings/entries":
    get:
      operationId: "customers_bookings_entries_list"
      tags: [ "customers/bookings/entries" ]
      summary: "List entry bookings for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period
          description: "Period to filter by. Defaults to now until the next 12 months"
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EntryBookingOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/bookings/entries/{id}":
    delete:
      operationId: "customers_bookings_entries_delete"
      tags: [ "customers/bookings/entries" ]
      summary: "Cancel a customer's entry booking"
      description: |-
        `ROLE_CUSTOMER`<br/>
        This API call is used for cancelling an entry booking, optionally with a refund (when possible). Server will try to prepare 
        refund if the parameter `tryToRefund` in the request is `true`. In this case API call will return `200` on success 
        cancelling entry booking with refund status in the body - `refundResult: true | false`. 
        In case if `tryToRefund` is not set in the request - the body will be empty.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Entry Booking ID"
          in: path
          required: true
          schema:
            type: integer
        - name: tryToRefund
          description: "Should try to auto refund if possible and allowed"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  refundResult:
                    type: boolean
                    example: false
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/bookings/groupactivities":
    get:
      operationId: "customers_bookings_groupactivities_list"
      tags: [ "customers/bookings/groupactivities" ]
      summary: "List group activity bookings for customer"
      description: |-
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: startTimePoint
          description: "Start time to filter out group activity bookings"
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  anyOf:
                    - $ref: "#/components/schemas/GroupActivityBookingOut"
                    - $ref: "#/components/schemas/WaitingListBooking"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_bookings_groupactivities_post"
      tags: [ "customers/bookings/groupactivities" ]
      summary: "Book a group activity"
      description: |-
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR` 
        A group activity booking will be created if there are free slots and when the booking rules are met by the customer. (For the paid group activities, booking price will be calculated using the price list).
        A waiting list booking will be created if there are no free slots, when the flag `allowWaitingList` is true and when
        the booking rules are met by the customer. (If the group activity is a paid group activity customers who have to pay more than 0 won't be added to the waiting list). 

        Drop ins cannot be booked with role `ROLE_CUSTOMER`. When there are only free drop in slots and when time is inside the drop in interval there will be a group activity
        booking if the role is `ROLE_INTEGRATOR` with system access right `Integrator - Groupactivities - Book`. Even if
        the customer already has a waiting list booking there will be a group activity booking. The waiting list booking
        will be ignored.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - groupActivity
              properties:
                groupActivity :
                  type: integer
                  description: "Group activity ID. Group activity to book"
                allowWaitingList :
                  type: boolean
                  description: "True if a waiting list booking should be created if no free slots are available"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: "#/components/schemas/GroupActivityBookingOut"
                  - $ref: "#/components/schemas/WaitingListBooking"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/groupactivities/{id}":
    get:
      operationId: "customers_bookings_groupactivities_get"
      tags: [ "customers/bookings/groupactivities" ]
      summary: "Show a specific group activity booking"
      description: |-
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Unique ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityBookingOut"
      security:
        - api3SecurityScheme: []
    delete:
      operationId: "customers_bookings_groupactivities_delete"
      tags: [ "customers/bookings/groupactivities" ]
      summary: "Cancel a group activity booking"
      description: |-
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR`<br>
        This API call can prepare simple cancelling for group activity booking or cancelling with a refund for paid
        group activity bookings.
        Server will try to prepare a refund in a case if parameter `tryToRefund` in the request is `true`.
        The server will not prepare a refund if the parameter `tryToRefund` is `false`.
        For both success cases API call will return `204`.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Unique ID"
          in: path
          required: true
          schema:
            type: integer
        - name: bookingType
          description: "Group activity booking type. Any of `groupActivityBooking` and `waitingListBooking`."
          in: path
          required: true
          schema:
            type: string
            enum:
              - groupActivityBooking
              - waitingListBooking
        - name: tryToRefund
          description: "Should try to auto refund if possible and allowed"
          in: path
          required: false
          schema:
            type: boolean
        - name: allowLateCancellationWithNoShow
          description: "Allow to cancel the booking with a no show, even if it's too late to de-book"
          in: path
          required: false
          schema:
            type: boolean
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/groupactivities/bookfamily":
    get:
      operationId: "customers_bookings_groupactivities_bookfamily_get"
      tags: [ "customers/bookings/groupactivities/bookfamily" ]
      summary: "Show the summary of a family booking"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function serves as a simulation of the `POST` method.
        It will do the same validations to check the booking or cancellation conditions and return the same action data, but will not create or cancel bookings.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: groupActivity
          description: "Group activity ID. Group activity to book"
          in: query
          required: true
          schema:
            type: integer
        - name: familyMember
          description: |-
            Customer ids of the family members. If the group activity does not already have a family booking, this will be mandatory.
            Only family members will be allowed, and other customers will be ignored.
            If the customer from the path does not have a family subscription, endpoint will return `BOOK_FAMILY_NOT_ALLOWED`
            (request url may contain ?familyMember=1&familyMember=2).
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityFamilyBookingApi3Out"
      security:
        - api3SecurityScheme: [ ]

    post:
      operationId: "customers_bookings_groupactivities_bookfamily_post"
      tags: [ "customers/bookings/groupactivities/bookfamily" ]
      summary: "Perform a family booking"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID."
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - groupActivity
              properties:
                groupActivity:
                  type: integer
                  description: "Group activity ID. Group activity to book"
                familyMember:
                  type: array
                  items:
                    type: integer
                  description: |-
                    An array of customer ids of the family members. If the group activity does not already have a family booking, this will be mandatory.
                    Only family members will be allowed, and other customers will be ignored.
                    If the customer from the path does not have a family subscription, endpoint will return `BOOK_FAMILY_NOT_ALLOWED`
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityFamilyBookingApi3Out"
      security:
        - api3SecurityScheme: [ ]

    put:
      operationId: "customers_bookings_groupactivities_bookfamily_put"
      tags: [ "customers/bookings/groupactivities/bookfamily" ]
      summary: "Replace booked family members in the group activity with waiting list members"
      description: |-
        `ROLE_CUSTOMER`<br>
        This endpoint allows replacing existing family members who are currently booked in the group activity
        with family members who are on the waiting list, without deleting the actual bookings. 
        Instead, the participant in the group activity booking will be replaced with the waiting list member.
        The replacement will only proceed if all members involved meet the booking and cancellation conditions.
        If the setting `enableWaitingListForFamilyBookings` is disabled, it will return `WAITING_LIST_NOT_ALLOWED_FOR_FAMILY_BOOKING`
      parameters:
        - name: customer
          description: "Customer ID."
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - groupActivity
                - removeFromGroupActivity
                - addFromWaitingList
              properties:
                groupActivity:
                  type: integer
                  description: "Group activity ID. Group activity to book"
                removeFromGroupActivity:
                  type: array
                  items:
                    type: integer
                  description: |-
                    An array of customer ids of the family members that needs to be removed from the group activity.
                    All customers in this array must have existing group activity bookings.
                    The size of this array must be equal to the size of the `addFromWaitingList` array.
                addFromWaitingList:
                  type: array
                  items:
                    type: integer
                  description: |-
                    An array of customer ids of the family members that needs to be removed from the waiting list and 
                    add to the group activity.
                    All customers in this array must have existing waiting list bookings.
                    The size of this array must be equal to the size of the `removeFromGroupActivity` array.
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityFamilyBookingApi3Out"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/bookings/groupactivities/{id}/bookfamilywaitinglist":
    get:
      operationId: "customers_bookings_groupactivities_bookfamilywaitinglist_get"
      tags: [ "customers/bookings/groupactivities/bookfamilywaitinglist" ]
      summary: "Show a summary of adding or removing family members from the waiting list"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function serves as a simulation of the `POST` method.
        If the setting `enableWaitingListForFamilyBookings` is enabled and the class has no free slots available,
        the system will perform the validations to check the waiting list booking or cancellation conditions and return
        the corresponding action data, but it will not create or cancel waiting list bookings.
        If the setting `enableWaitingListForFamilyBookings` is disabled, it will return `WAITING_LIST_NOT_ALLOWED_FOR_FAMILY_BOOKING`.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Group activity ID. Group activity to book"
          in: path
          required: true
          schema:
            type: integer
        - name: waitingListFamilyMember
          description: |-
            If the family members do not have existing waiting list bookings, this field will be mandatory.
            If the family members have existing waiting list bookings and this field is empty or does not include 
            those existing members, the API will generate a cancellation summary for them.
            Only family members are allowed, any other customers will be ignored.
            If the customer from the path does not have a family subscription, endpoint will return `BOOK_FAMILY_NOT_ALLOWED`
            (request url may contain ?waitingListFamilyMember=1&waitingListFamilyMember=2).
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityFamilyBookingApi3Out"
      security:
        - api3SecurityScheme: [ ]

    post:
      operationId: "customers_bookings_groupactivities_bookfamilywaitinglist_post"
      tags: [ "customers/bookings/groupactivities/bookfamilywaitinglist" ]
      summary: "Add or remove family members from the waiting list"
      description: |-
        `ROLE_CUSTOMER`<br>
        If the setting `enableWaitingListForFamilyBookings` is enabled and the class has no free slots available,
        selected family members can be added to waiting list or can be removed from waiting list using `waitingListFamilyMembers`. 
        If the setting `enableWaitingListForFamilyBookings` is disabled, it will return `WAITING_LIST_NOT_ALLOWED_FOR_FAMILY_BOOKING`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Group activity ID. Group activity to book"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                waitingListFamilyMember:
                  type: array
                  items:
                    type: integer
                  description: |-
                    An array of customer ids of the family members that needs to be in the waiting list.
                    If the family members do not have existing waiting list bookings, this field will be mandatory.
                    If the family members have existing waiting list bookings and this field is empty or does not include 
                    those existing members, the API will remove them from the waiting list.
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityFamilyBookingApi3Out"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/bookings/groupactivities/quota":
    get:
      operationId: "customers_bookings_groupactivities_quota"
      tags: [ "customers/bookings/groupactivities/quota" ]
      summary: "Number of remaining bookings allowed by the booking rule quota"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: product
          description: "Group activity product ID"
          in: query
          required: true
          schema:
            type: integer
        - name: timePoint
          description: "Time point for calculating result"
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: forWaitingList
          description: "If true - will return result of remaining waiting list bookings"
          in: query
          required: true
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  numberOfBookingsRemaining:
                    type: number
                    example: 10
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/services":
    get:
      operationId: "customers_bookings_services_list"
      tags: [ "customers/bookings/services" ]
      summary: "List service bookings for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period
          description: "Period to filter by. Defaults to now until the next 12 months"
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServiceBookingOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/services/{id}":
    delete:
      operationId: "customers_bookings_services_delete"
      tags: [ "customers/bookings/services" ]
      summary: "Cancel a customer's service booking"
      description: |-
        `ROLE_CUSTOMER`<br/>
        This API call can prepare simple cancelling for service booking or cancelling with a refund. Server will try to prepare 
        refund in a case if parameter `tryToRefund` in the request will be `true`. In this case API call will return `200` on success 
        cancelling service booking with refund status in the body - `refundResult: true | false`. 
        In case if `tryToRefund` is not set in the request - the body will be empty.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Service Booking ID"
          in: path
          required: true
          schema:
            type: integer
        - name: tryToRefund
          description: "Should try to auto refund if possible and allowed"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  refundResult:
                    type: boolean
                    example: false
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/bookings/packages/{id}":
    delete:
      operationId: "customers_bookings_packages_delete"
      tags: [ "customers/bookings/packages" ]
      summary: "Cancel a customer's package booking"
      description: |-
        `ROLE_CUSTOMER`<br/>
        This API call can prepare simple cancelling for a package booking or cancelling with a refund. Server will try to prepare 
        refund in a case if parameter `tryToRefund` in the request will be `true`. In this case API call will return `200` on success 
        cancelling package booking with refund status in the body - `refundResult: true | false`. 
        In case if `tryToRefund` is not set in the request - the body will be empty. <br/>
        Note: Currently, only entry packages can be canceled and refunded. Other types of packages cannot be canceled or refunded.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Package Booking ID"
          in: path
          required: true
          schema:
            type: integer
        - name: tryToRefund
          description: "Should try to auto refund if possible and allowed"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  refundResult:
                    type: boolean
                    example: false
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/child":
    post:
      operationId: "customers_child_post"
      tags: [ "customers/child" ]
      summary: "Create a child or fetch existing child with matching email"
      description: |-
        `ROLE_CUSTOMER`<br>
        Used to create or retrieve a child account. You must be the legal guardian to use this endpoint.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerType
                - businessUnit
                - firstName
                - lastName
                - email
                - password
              properties:
                password:
                  type: string
                  description: "Account password"
                customerType:
                  type: integer
                  description: "Customer type"
                businessUnit:
                  type: integer
                  description: "Business unit the customer belongs to"
                firstName:
                  type: string
                  description: "First name"
                lastName:
                  type: string
                  description: "Last name"
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth. Child has to be younger then 16 or ageAvoidParentalConsent setting value"
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderIn"
                    - description: "Gender, mandatory unless setting `allowRegistrationWithoutSex` is active."
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address, mandatory unless setting `allowRegistrationWithoutAddress` is active."
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address is mandatory"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: "Mobile phone number"
                allowMassSendEmail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of emails"
                  deprecated: true
                allowMassSendMail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of letters"
                  deprecated: true
                allowMassSendSms:
                  type: boolean
                  description: "Deprecated, Allow mass sending of sms"
                  deprecated: true
                consents:
                  type: object
                  additionalProperties:
                    type: boolean
                    description: "The key is the ID of the consent. The value accepts/rejects the consent."
                  description: "Accepts/rejects the consents"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                ownDefinedParameterValues:
                  type: array
                  required:
                    - parameter
                  properties:
                    parameter:
                      type: integer
                      description: "Own defined parameter ID, for which this is a value"
                    value:
                      type: object
                      description: "Value to create"
                  example:
                    parameter: 1
                    value: 12.34
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChildOut"

  "/api/ver3/customers/{customer}/consents/cards":
    get:
      operationId: "customers_consents_cards_list"
      tags: ["customers/consents/cards"]
      summary: "List card consents for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: company
          description: "Company ID to filter by"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CardConsentOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/cards/{id}":
    get:
      operationId: "customers_consents_cards_get"
      tags: ["customers/consents/cards"]
      summary: "Show a specific card consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Card consent ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CardConsentOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/dkdirectdebits":
    get:
      operationId: "customers_consents_dkdirectdebits_list"
      tags: ["customers/consents/dkdirectdebits"]
      summary: "List Danish direct debit consents for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/DkDirectDebitOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_consents_dkdirectdebits_post"
      tags: ["customers/consents/dkdirectdebits"]
      summary: "Create a new Danish direct debit consent"
      description: |-
        `ROLE_CUSTOMER` The customer must have a valid person number (CPR number in Denmark) and an age that is equal or
        greater than the "adult age" setting.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - company
                - bankAccountNumber
                - bankRegNumber
              properties:
                company:
                  type: integer
                  description: "Company ID"
                bankAccountNumber:
                  type: string
                  description: "Bank account number (10 digits)"
                  example: "044011624"
                bankRegNumber:
                  type: string
                  description: "Bank registration number (4 digits)"
                  example: "0040"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DkDirectDebitOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/dkdirectdebits/{id}":
    get:
      operationId: "customers_consents_dkdirectdebits_get"
      tags: ["customers/consents/dkdirectdebits"]
      summary: "Show a specific Danish direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Direct debit consent ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DkDirectDebitOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/fidirectdebits":
    get:
      operationId: "customers_consents_fidirectdebits_list"
      tags: [ "customers/consents/fidirectdebits" ]
      summary: "List Finnish direct debit consent (receiver proposal data) for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FiDirectDebitOut"
      security:
        - api3SecurityScheme: [ ]
    post:
      operationId: "customers_consents_fidirectdebits_post"
      tags: [ "customers/consents/fidirectdebits" ]
      summary: "Create a new Finnish direct debit consent"
      description: |-
        `ROLE_CUSTOMER` The customer must have a valid person number (HETU number in Finland).
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - bic
                - businessUnit
              properties:
                bic:
                  type: integer
                  description: "Bank Identifier Code (BIC) ID"
                businessUnit:
                  type: integer
                  description: "BusinessUnit ID"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FiDirectDebitOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/consents/fidirectdebits/{id}":
    get:
      operationId: "customers_consents_fidirectdebits_get"
      tags: [ "customers/consents/fidirectdebits" ]
      summary: "Show a specific Finnish direct debit consent (receiver proposal data)"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Receiver Proposal Data ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FiDirectDebitOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/consents/nodirectdebits":
    get:
      operationId: "customers_consents_nodirectdebits_list"
      tags: ["customers/consents/nodirectdebits"]
      summary: "List Norwegian direct debit consents for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoDirectDebitOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_consents_nodirectdebits_post"
      tags: ["customers/consents/nodirectdebits"]
      summary: "Create a new Norwegian direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - company
              properties:
                company:
                  type: integer
                  description: "Company ID"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NoDirectDebitOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/nodirectdebits/{id}":
    get:
      operationId: "customers_consents_nodirectdebits_get"
      tags: ["customers/consents/nodirectdebits"]
      summary: "Show a specific Norwegian direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Direct debit consent ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NoDirectDebitOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/sedirectdebits":
    get:
      operationId: "customers_consents_sedirectdebits_list"
      tags: ["customers/consents/sedirectdebits"]
      summary: "List Swedish direct debit consents for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SeDirectDebitOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_consents_sedirectdebits_post"
      tags: ["customers/consents/sedirectdebits"]
      summary: "Create a new Swedish direct debit consent"
      description: |-
        `ROLE_CUSTOMER` The customer must have a valid Swedish person number and an age that is equal or greater than the "adult age" setting.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - company
                - bankAccount
              properties:
                company:
                  type: integer
                  description: "Company ID"
                bankAccount:
                  allOf:
                    - $ref: "#/components/schemas/BankAccountIn"
                    - description: "Bank account"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SeDirectDebitOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/consents/sedirectdebits/{id}":
    get:
      operationId: "customers_consents_sedirectdebits_get"
      tags: ["customers/consents/sedirectdebits"]
      summary: "Show a specific Swedish direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Direct debit consent ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SeDirectDebitOut"
      security:
        - api3SecurityScheme: []
    put:
      operationId: "customers_consents_sedirectdebits_put"
      tags: ["customers/consents/sedirectdebits"]
      summary: "Modify a Swedish direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Direct debit consent ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - bankAccount
              properties:
                bankAccount:
                  allOf:
                    - $ref: "#/components/schemas/BankAccountIn"
                    - description: "Bank account"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SeDirectDebitOut"
      security:
        - api3SecurityScheme: []
          
  "/api/ver3/customers/{customer}/consents/trustlydirectdebits":
    get:
      operationId: "customers_consents_trustlydirectdebits_list"
      tags: ["customers/consents/trustlydirectdebits"]
      summary: "List Trustly direct debit consent for customer"
      description: |-
        `ROLE_CUSTOMER` | `ROLE_EMPLOYEE`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TrustlyDirectDebitConsentOut"
      security:
        - api3SecurityScheme: []
          
  "/api/ver3/customers/{customer}/consents/trustlydirectdebits/{id}":
    get:
      operationId: "customers_consents_trustlydirectdebits_get"
      tags: [ "customers/consents/trustlydirectdebits" ]
      summary: "Show a specific Trustly direct debit consent for customer"
      description: |-
        `ROLE_CUSTOMER` | `ROLE_EMPLOYEE`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Trustly Direct Debit Consent ID"
          in: path
          required: true
          schema:
            type: integer    
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TrustlyDirectDebitConsentOut"
      security:
        - api3SecurityScheme: [ ]                   

  "/api/ver3/customers/{customer}/customeraccounts":
    get:
      operationId: "customers_customeraccounts_list"
      tags: ["customers/customeraccounts"]
      summary: "Show the customer's credit limit, available balance, debt and the list of unpaid items."
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  debt:
                    allOf:
                      - $ref: "#/components/schemas/CurrencyOut"
                      - description: "The sum of the customer's debt"
                  unpaidItems:
                    type: array
                    description: "All items which are unpaid"
                    items:
                      $ref: "#/components/schemas/RegisterOrderItemOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/devices":
    get:
      operationId: "customers_devices_list"
      tags: ["customers/devices"]
      summary: "List devices"
      description: |-
        `ROLE_CUSTOMER` Get devices for customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/CustomerDeviceOut"
                  - example:
                    - id: 2
                      platform: "Best platform"
                      deviceId: "otherDeviceIdThatIsUnique"
                      deviceModel: "Cooler model"
                      manufacturer: "BRP Systems"
                      firebaseToken: "9876543210"
                      lastBecomePrimary: null
                    - id: 1
                      platform: "ios"
                      deviceId: "uniqueDeviceId"
                      deviceModel: "Cool model"
                      manufacturer: "BRP Systems"
                      firebaseToken: "1223344556"
                      lastBecomePrimary: null

      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_devices_post"
      tags: ["customers/devices"]
      summary: "Save device"
      description: |-
        `ROLE_CUSTOMER` Save device information for customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - platform
                - deviceId
                - deviceModel
              properties:
                platform:
                  type: string
                  description: "Platform name i.e `ios` or `android` (will be saved in lowercase)"
                deviceId:
                  type: string
                  description: "Unique ID of device"
                deviceModel:
                  type: string
                  description: "Model name of device"
                manufacturer:
                  type: string
                  description: "Manufacturer of device"
                firebaseToken:
                  type: string
                  description: "Firebase token"
              example:
                platform: "ios"
                deviceId: "uniqueDeviceId"
                deviceModel: "Phone model A"
                manufacturer: "Acme"
                firebaseToken: "1223344556"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/CustomerDeviceOut"
                example:
                  platform: "ios"
                  deviceId: "uniqueDeviceId"
                  deviceModel: "Phone model A"
                  manufacturer: "Acme"
                  firebaseToken: "1223344556"
                  lastBecomePrimary: null
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/devices/{device}/primary":
    post:
      operationId: "customers_devices_primary_post"
      tags: ["customers/devices/primary"]
      summary: "Save primary device"
      description: |-
        `ROLE_CUSTOMER` Save a device as the primary device for the customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: device
          description: "Device ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/CustomerDeviceOut"
                  - example:
                      - id: 3
                        platform: "Best platform"
                        deviceId: "otherDeviceIdThatIsUnique"
                        deviceModel: "Cooler model"
                        manufacturer: "BRP Systems"
                        firebaseToken: "9876543210"
                        lastBecomePrimary: "2022-10-04T01:00:00.000Z"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/familyinvitations":
    get:
      operationId: "customers_familyinvitations_get"
      tags: ["customers/familyinvitations"]
      summary: "Retrieve family invitations as an invitee"
      description: |-
        `ROLE_CUSTOMER`<br>
        Will return all the pending invitations for customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FamilyInvitationOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/familyinvitations/{id}/reply":
    post:
      operationId: "customers_familyinvitations_reply_post"
      tags: [ "customers/subscriptions/familyinvitations/reply" ]
      summary: "Reply on invitation"
      description: |-
        `ROLE_CUSTOMER`
        Used to accept the invitation to the family subscription for Adult person
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Family invitation ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - token
                - accept
              properties:
                token:
                  type: string
                  description: "Invitation token"
                accept:
                  type: boolean
                  description: "Action: Accept or Decline invitation"
      responses:
        201:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FamilyInvitationReplyOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/journalnotes":
    post:
      operationId: "customers_journalnotes_post"
      tags: ["customers/journalnotes"]
      summary: "Creates a journal note for specified customer"
      description: |-
        `ROLE_INTEGRATOR`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - note
              properties:
                note:
                  type: string
                  description: "Note"
                  example: "Any text"
                journalNoteType:
                  type: integer
                  description: "Journal note type"
                startTime:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Start time"
                endTime:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "End time"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JournalNoteOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/invoices":
    post:
      operationId: "customers_invoices_list"
      tags: [ "customers/invoices" ]
      summary: "List customer invoices"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to filter by"
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: period.end
          description: "End of period to filter by"
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: excludeExported
          description: "Exclude exported invoices"
          in: query
          required: false
          schema:
            type: boolean
        - name: excludePaid
          description: "Exclude paid invoices"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/InvoiceOut"

  "/api/ver3/customers/{customer}/invoices/{id}":
    post:
      operationId: "customers_invoices_get"
      tags: [ "customers/invoices" ]
      summary: "Show a specific invoice"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Invoice ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvoiceOut"

  "/api/ver3/customers/{customer}/memberclubs":
    get:
      operationId: "customers_memberclubs_list"
      tags: ["customers/memberclubs"]
      summary: "List member clubs for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerMemberClubOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_memberclubs_post"
      tags: ["customers/memberclubs"]
      summary: "Create member club item for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerMemberClubOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/memberclubs/{id}":
    delete:
      operationId: "customers_memberclubs_delete"
      tags: ["customers/memberclubs"]
      summary: "Delete member club from customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Member club customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/netpromoterscorerequests":
    get:
      operationId: "customers_netpromoterscores_list"
      tags: [ "customers/netpromoterscorerequests" ]
      summary: "List customer's net-promoter-scores requests"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name : customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: appId
          description: "appId. Required to filter NPS requests by App"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NetPromoterScoreRequestOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/netpromoterscorerequests/{id}/respond":
    post:
      operationId : "customers_netpromoterscores_update_response"
      tags: [ "customers/netpromoterscorerequests" ]
      summary: "Update net-promoter-score request response"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "NPS Request ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - response
              properties:
                response:
                  type: integer
                  description: "Customer's response for the NPS request"
              example:
                response: 07
      responses:
        201:
          description: "CREATED"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/noshows":
    get:
      operationId: "customers_noshows_list"
      tags: [ "customers/noshows" ]
      summary: "List customer's no-shows"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period
          description: "Period to filter by. Maximum range is 10 years."
          in: path
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/NoShowOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/offers/events":
    get:
      operationId: "customers_offers_events_list"
      tags: ["customers/offers/events"]
      summary: "List valid and unused event offers for a customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerEventOfferOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/otheruser":
    post:
      operationId: "customers_otheruser_post"
      tags: [ "customers/otheruser" ]
      summary: "Create a user or fetch existing user with matching ssn or email"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerType
                - businessUnit
                - firstName
                - lastName
                - otherUserType
                - appId
              properties:
                customerType:
                  type: integer
                  description: "Customer type"
                businessUnit:
                  type: integer
                  description: "Business unit the customer belongs to"
                firstName:
                  type: string
                  description: "First name"
                lastName:
                  type: string
                  description: "Last name"
                ssn:
                  type: string
                  description: |-
                    Personal identity number, when registering a customer as a subscription user ssn is not mandatory if
                    the otherUserType is `CHILD`. Otherwise ssn is mandatory if person information is configured ssn to be required or 
                    the setting `requireSsnForInternetCustomerRegistrationForSubscriptionUser` is active. For other customers ssn is 
                    mandatory if the setting `requireSsnForInternetCustomerRegistration` is active or if the birthDate is not set and 
                    setting `allowRegistrationWithoutSsnOrBirthDate` is false.
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth, mandatory unless the otherUserType is `CHILD` or ssn is set or setting `allowRegistrationWithoutSsnOrBirthDate` is active."
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderIn"
                    - description: "Gender, mandatory unless setting `allowRegistrationWithoutSex` is active."
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address, mandatory unless setting `allowRegistrationWithoutAddress` is active."
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address is mandatory unless the otherUserType is `CHILD` or person information has been configured not to be required"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: |-
                        Mobile phone number is mandatory unless the otherUserType is `CHILD` or person information has 
                        been configured not to be required or setting `allowRegistrationWithoutMobile` is disabled.
                haveParentalConsent:
                  type: boolean
                  description: "If a parent have given consent to the registration (Only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`)."
                allowMassSendEmail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of emails"
                  deprecated: true
                allowMassSendMail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of letters"
                  deprecated: true
                allowMassSendSms:
                  type: boolean
                  description: "Deprecated, Allow mass sending of sms"
                  deprecated: true
                consents:
                  type: object
                  additionalProperties:
                    type: boolean
                    description: "The key is the ID of the consent. The value accepts/rejects the consent."
                  description: "Accepts/rejects the consents"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                otherUserType:
                  type: string
                  description: "other user type. values as CHILD or ADULT"
                  enum:
                    - CHILD
                    - ADULT
                appId:
                  type: integer
                  description: |-
                    If the user is created instead of fetching existing user the generated "Reset password" link will be set to `https://<app>.goactivebooking.com/resetPassword`
                    for given `appId`.
                ownDefinedParameterValues:
                  type: array
                  required:
                    - parameter
                  properties:
                    parameter:
                      type: integer
                      description: "Own defined parameter ID, for which this is a value"
                    value:
                      type: object
                      description: "Value to create"
                  example:
                    parameter: 1
                    value: 12.34
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OtherUserOut"

  "/api/ver3/customers/{customer}/owndefinedparametervalues":
    get:
      operationId: "customers_owndefinedparametervalues_list"
      tags: ["customers/owndefinedparametervalues"]
      summary: "List all values for a given customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OwnDefinedParameterValueOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_owndefinedparametervalues_post"
      tags: ["customers/owndefinedparametervalues"]
      summary: "Create a value"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - parameter
                - value
              properties:
                parameter:
                  type: integer
                  description: "Own defined parameter ID, for which this is a value"
                value:
                  type: object
                  description: "Value to create"
              example:
                parameter: 1
                value: 12.34
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OwnDefinedParameterValueOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/owndefinedparametervalues/{id}":
    get:
      operationId: "customers_owndefinedparametervalues_get"
      tags: ["customers/owndefinedparametervalues"]
      summary: "Show a given value"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Value ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OwnDefinedParameterValueOut"
      security:
        - api3SecurityScheme: []
    put:
      operationId: "customers_owndefinedparametervalues_put"
      tags: ["customers/owndefinedparametervalues"]
      summary: "Update a given value"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Value ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - value
              properties:
                value:
                  type: object
                  description: "Value to set"
              example:
                value: "New text"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OwnDefinedParameterValueOut"
      security:
        - api3SecurityScheme: []
    delete:
      operationId: "customers_owndefinedparametervalues_delete"
      tags: ["customers/owndefinedparametervalues"]
      summary: "Delete a given value"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Value ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/passagetries":
    get:
      operationId: "customers_passagetries_get"
      tags: [ "customers/passagetries" ]
      summary: "Fetches passage tries for a customer"
      description: |-
        `ROLE_CUSTOMER`<br><br>
        List passage tries for a customer for a given period.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to filter by."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to filter by."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PassageTryOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_passagetries_post"
      tags: ["customers/passagetries"]
      summary: "Creates a passage try for authorized customer"
      description: |-
        `ROLE_CUSTOMER`<br><br>
        A successful passage try will:
        1. open any gate connected to the card reader
        2. print ticket to connected printer if activated
        3. return a response body with information
        
        A unsuccessful passage try will:
        1. return a "common error" (see [Error response](#overview--error-response)) with error code `PASSAGE_TRY_ERROR`.
           That error code has a parameter `passageTryError` which can have the following values:

        | Number | Description |
        |:---|:---|
        | 0 | OK |
        | 100 | Unknown card number |
        | 101 | Missing valid subscription |
        | 102 | Person suspended |
        | 103 | Unpaid invoice |
        | 104 | Unpaid invoice |
        | 105 | Already passed |
        | 106 | Error |
        | 107 | Time out |
        | 108 | Undone |
        | 109 | Unable to book class |
        | 110 | Maximum visit length exceeded |
        | 111 | Unpaid products |
        | 112 | Wrong time |
        | 113 | Missing membership |
        | 114 | Prepaid amount left |
        | 115 | Entry is consumed |
        | 116 | Too soon since last passage |
        | 117 | Incorrect fingerprint |
        | 118 | Waiting for fingerprint |
        | 119 | Waiting for feedback |
        | 120 | Passage not allowed |
        | 121 | Could not write locker data |
        | 122 | Too many inside |
        | 123 | Unsigned contract |
        | 124 | No active workout or class |
        | 125 | Locked locker |
        | 126 | Waiting for return |
        | 127 | Return machine full |
        | 128 | No wristband in reader |
        | 129 | Wrong wristband in reader |
        | 130 | Error at return |
        | 131 | Invalid security token |
        | 132 | Missing profile images |
        | 133 | Surveillance event |
        | 400 | License missing for addon feature |

      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - cardReader
              properties:
                cardReader:
                  type: integer
                  description: "Card reader ID to create passage try for"
                device:
                  type: string
                  description: "ID of device that initiated the passage try"
                printTicket:
                  type: boolean
                  description: "Print ticket if card reader is connected to a printer."
                  default: false
                passageToken:
                  type: string
                  description: "Security passage token for QR code passage"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PassageTryOut"
        403:
          description: "FORBIDDEN"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CommonErrorOut"
              example:
                errorCode: "PASSAGE_TRY_ERROR"
                passageTryError: 102
                message: "Person suspended"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/profileimages/{id}":
    get:
      operationId: "customers_profileimages_list"
      tags: [ "customers/profileimages" ]
      summary: "Return profile image"
      description: |-
        `ROLE_CUSTOMER`<br>
        If you call this image url from a `<img>` tag you have to provide the access token as a parameter to the url instead of the default `Authorization` header.
        Eg. `<img href=".../profileimages/123?access_token=abc123">`.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Document ID"
          in: path
          required: true
          schema:
            type: integer
        - name: "access_token"
          description: "Access token to authenticate the request. Will be used if `Authorization` header isn't provided."
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
                description: "Profile image data"
          headers:
            Content-Disposition:
              schema:
                type: string
                example: "attachment; filename=person.jpg"
            Content-Type:
              schema:
                type: string
                example: "application/octet-stream"
      security:
        - api3SecurityScheme: [ ]
    delete:
      operationId: "customers_profileimages_delete"
      tags: [ "customers/profileimages" ]
      summary: "Delete customer profile image with given ID"
      description: |-
        `ROLE_CUSTOMER`
        Delete the profile image of the customer.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Document ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/profileimages":
    get:
      operationId: "customers_profileimages_list"
      tags: [ "customers/profileimages" ]
      summary: "Return profile image"
      description: |-
        `ROLE_CUSTOMER`<br>
        If the requested customer uses the same family subscription as the logged in user, then this endpoint will return the associated profile picture.
        If you call this image url from a `<img>` tag you have to provide the access token as a parameter to the url instead of the default `Authorization` header.
        Eg. `<img href=".../profileimages?access_token=abc123">`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: "access_token"
          description: "Access token to authenticate the request. Will be used if `Authorization` header isn't provided."
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/octet-stream:
              schema:
                type: string
                format: binary
                description: "Profile image data"
          headers:
            Content-Disposition:
              schema:
                type: string
                example: "attachment; filename=person.jpg"
            Content-Type:
              schema:
                type: string
                example: "application/octet-stream"
      security:
        - api3SecurityScheme: [ ]
    post:
      operationId: "customers_profileimages_create"
      tags: [ "customers/profileimages" ]
      summary: "Request to update profile picture"
      description: |-
        `ROLE_CUSTOMER`<br>
        Users can submit profile pictures for approval.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Supported file extensions `png`, `jpg`, `jpeg`
                fileName:
                  type: string
                  description: "File name"
                acceptedProfilePictureTerms:
                  type: boolean
                  description: If user has accepted terms and conditions required to upload a profile picture
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                items:
                  $ref: "#/components/schemas/DocumentOutRef"

  "/api/ver3/customers/{customer}/receipts":
    get:
      operationId: "customers_receipts_list"
      tags: ["customers/receipts"]
      summary: "List receipts"
      description: |-
        `ROLE_CUSTOMER`<br>
        List receipts for a customer for a given period.
        The returned receipt content will be in compact content mode (reference object). Use get by ID to get full content.
        Note, any receipt belonging to a facility which has disabled fetching receipts through the API, will not be included!
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to filter by. Defaults to today minus 365 days."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to filter by. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ReceiptOutRef"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/receipts/{id}":
    get:
      operationId: "customers_receipts_get"
      tags: ["customers/receipts"]
      summary: "Show a specific receipt"
      description: |-
        `ROLE_CUSTOMER`<br>
        Show the full information for a specific receipt.
        Note, the receipt can only be fetched through the API if the business unit it belongs to allows it.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Receipt ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReceiptOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/signaturecases":
    get:
      operationId: "customers_signaturecases_list"
      tags: [ "customers/signaturecases" ]
      summary: "List signature cases for customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SignatureCaseOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customer_signaturecases_post"
      tags: [ "customers/signaturecases" ]
      summary: "Create signature case for customer"
      description: |-
        `ROLE_CUSTOMER`<br>
        Creates a signature case for a specific subscription booking.
        Status code `201` will be return when successfully created.
        `204` will be returned when the subscription doesn't require a signature case.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                subscriptionBooking :
                  type: integer
                  description: "Subscription booking id, required when no subscription given"
                subscription :
                  type: integer
                  description: "Subscription id, required when no subscriptionBooking given"
                redirectUrl :
                  type: string
                  description: "Redirect URL. The customer will be redirected to this URL after signing the signature case."
                subscriptionSigner :
                  type: string
                  description: |-
                    Defining Subscription signer as one of the options USER, PAYER or USER_AND_PAYER. Default USER_AND_PAYER
                  enum:
                    - USER
                    - PAYER
                    - USER_AND_PAYER
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignatureCaseOut"
        204:
          description: "No signature case was created. The subscription doesn't require a signature case."
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/signaturecases/{id}":
    get:
      operationId: "customers_signaturecases_get"
      tags: [ "customers/signaturecases" ]
      summary: "Show a specific signature case"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Signature case ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SignatureCaseOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions":
    get:
      operationId: "customers_subscriptions_list"
      tags: ["customers/subscriptions"]
      summary: "List subscriptions for a customer"
      description: |-
        `ROLE_CUSTOMER`<br>
        List ongoing subscriptions and not fully payed subscriptions which customer is payer or user of.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: includeInactive
          description: "Set to true to include all subscriptions"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SubscriptionOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{id}":
    get:
      operationId: "customers_subscriptions_get"
      tags: ["customers/subscriptions"]
      summary: "Show a specific subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Get a specific subscription which customer is payer or user of. <br>
        Note: If the subscription product has a freeze rule, the freeze rule constraints will be checked when returning the 'FREEZE' and 'UNFREEZE' actions. Otherwise, the 'FREEZE' and 'UNFREEZE' actions will depend on the 'allowFreezeSubscriptionOnInternet' setting.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/users":
    get:
      operationId: "customers_subscriptions_users_list"
      tags: [ "customers/subscriptions/users" ]
      summary: "List subscription users for a customer"
      description: |-
        `ROLE_CUSTOMER`<br>
        List users, for ongoing subscriptions and not fully paid subscriptions, which customer is payer or user of.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: includeInactive
          description: "Set to true to include all subscriptions"
          in: query
          required: false
          schema:
            type: boolean
        - name: forPayerSubscriptionsOnly
          description: "Set to true to filter other users who use subscriptions paid by the customer"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerOutRef"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/family":
    get:
      operationId: "customers_subscriptions_family_get"
      tags: ["customers/subscriptions/family"]
      summary: "Show details of the user's family subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Customer should be the payer of the family subscription to get results
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerSubscriptionFamilyOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/familymembers/{id}":
    delete:
      operationId: "customers_subscriptions_familymembers_delete"
      tags: [ "customers/subscriptions/familymembers" ]
      summary: "Delete member of the family subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Customer should be the payer of the family subscription to delete members
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Customer ID of the member"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/familymembers":
    post:
      operationId: "customers_subscriptions_familymembers_post"
      tags: [ "customers/subscriptions/familymembers" ]
      summary: "Add child to customer's family subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Customer should be the payer of the family subscription and be legal guardian of a child
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerToAdd
              properties:
                customerToAdd:
                  type: integer
                  description: "Child customer ID"
      responses:
        201:
          description: "CREATED"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/familyinvitations/{id}":
    delete:
      operationId: "customers_subscriptions_familyinvitations_delete"
      tags: [ "customers/subscriptions/familyinvitations" ]
      summary: "Delete issued family invitation"
      description: |-
        `ROLE_CUSTOMER`<br>
        Customer should be payer of the family subscription to delete invitations
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Invitation ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/familyinvitations":
    post:
      operationId: "customers_subscriptions_familyinvitations_post"
      tags: [ "customers/subscriptions/familyinvitations" ]
      summary: "Create invitation to the family subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Customer should be payer of the family subscription to generate invitation
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  description: "Invitee first name"
                lastName:
                  type: string
                  description: "Invitee last name"
                email:
                  type: string
                  description: "Invitee email"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/FamilyInvitationOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{id}/freeze":
    get:
      operationId: "customers_subscriptions_freeze_list"
      tags: ["customers/subscriptions/freeze"]
      summary: "Show the effect of freezing a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function serves as a simulation of the `POST` method.
        It will do the same calculations and return the same action data, but no changes are saved.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions are not allowed to freeze separately."
          in: path
          required: true
          schema:
            type: string
        - name: freezeReason
          description: "Freeze reason ID. If the subscription product has a freeze rule and the freeze rule has valid freeze reasons this is mandatory, otherwise must not be set. If the subscription product has no freeze rule, this depends on the `useFreezeReason` system setting. It can be either mandatory or must not be set"
          in: query
          required: false
          schema:
            type: integer
        - name: freezeReasonComment
          description: "Freeze reason comment."
          in: query
          required: false
          schema:
            type: string
        - name: freezePeriod.start
          description: "Start of freeze period. Start of freeze period must not be earlier than today."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
        - name: freezePeriod.end
          description: "End of freeze period (inclusive). If the subscription product has a freeze rule, end date will be validated with minimumLengthOfFreeze and maximumLengthOfFreeze of the freeze rule. Otherwise, this depends on `maxSubscriptionFreezePeriod` , `minSubscriptionFreezePeriod` settings"
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionFreezeResultOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_subscriptions_freeze_post"
      tags: ["customers/subscriptions/freeze"]
      summary: "Freeze a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Note: The setting `allowFreezeSubscriptionOnInternet` won't be considered if freeze rules are used in subscription product.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions are not allowed to freeze separately."
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - freezePeriod
              properties:
                freezeReason:
                  type: integer
                  description: "Freeze reason ID. If the subscription product has a freeze rule and the freeze rule has valid freeze reasons this is mandatory, otherwise must not be set. If the subscription product has no freeze rule, this depends on the `useFreezeReason` system setting. It can be either mandatory or must not be set"
                freezeReasonComment:
                  type: string
                  description: "Freeze reason comment."
                freezePeriod:
                  allOf:
                    - $ref: "#/components/schemas/DayRange"
                    - description: "During which period the subscription shall be frozen. Start of freeze period must not be earlier than today. If the subscription product has a freeze rule, end date will be validated with minimumLengthOfFreeze and maximumLengthOfFreeze of the freeze rule. Otherwise, this depends on `maxSubscriptionFreezePeriod` , `minSubscriptionFreezePeriod` settings"
                paymentRequiredBeforeFreeze:
                  type: boolean
                  description: "If the user has a freeze fee to pay and this `paymentRequiredBeforeFreeze` is true, the subscription won't be frozen from this endpoint and will be frozen once the payment is finished. If the `paymentRequiredBeforeFreeze` parameter is set to false, the subscription will be frozen from this endpoint, and the user can settle the payment afterward."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionFreezeResultOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{id}/freezerequests":
    post:
      operationId: "customers_subscriptions_freeze_request_post"
      tags: [ "customers/subscriptions/freezerequests" ]
      summary: "Request to freeze a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Subscription products must be configured with freeze rules to allow the user to create freeze requests.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - freezePeriod
              properties:
                freezeReason:
                  type: integer
                  description: "Freeze reason ID. If the subscription product has a freeze rule and the freeze rule has valid freeze reasons this is mandatory, otherwise must not be set."
                message:
                  type: string
                  description: "Freeze reason comment."
                freezePeriod:
                  allOf:
                    - $ref: "#/components/schemas/DayRange"
                    - description: "During which period the subscription shall be frozen. Start of freeze period must not be earlier than today."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionFreezeRequestOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/freezerequests/{freezeRequest}/files":
    post:
      operationId: "customers_subscriptions_freeze_request_file_post"
      tags: [ "customers/subscriptions/freezerequests/files" ]
      summary: "Upload a file for a freeze request of a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Subscription must contains a freeze request to allow the user to upload file for the freeze request.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
        - name: freezeRequest
          description: "FreezeRequest ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: Supported file extensions `png`, `jpg`, `jpeg`, `txt`, `pdf`, `doc`, `docx`
                fileName:
                  type: string
                  description: "File name"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                items:
                  $ref: "#/components/schemas/DocumentOutRef"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/freezerules":
    get:
      operationId: "customers_subscriptions_freezerules_list"
      tags: [ "customers/subscriptions/freezerules" ]
      summary: "Show the freeze rules of a subscription"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SubscriptionFreezeRuleOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{subscription}/freezes":
    get:
      operationId: "customers_subscriptions_freezes_list"
      tags: [ "customers/subscriptions/freezes" ]
      summary: "Show the customer's subscription freeze list"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: subscription
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SubscriptionFreezeOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{id}/paymentcertificates":
    get:
      operationId: "customers_subscriptions_paymentcertificates_list"
      tags: ["customers/subscriptions/paymentcertificates"]
      summary: "List payments"
      description: |-
        `ROLE_CUSTOMER`<br>
        Lists payments for a subscription for a specific period.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID"
          in: path
          required: true
          schema:
            type: string
        - name: period.start
          description: "Start of period to retrieve payments for the subscription. Defaults to 12 months before today."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to retrieve payments for the subscription. Defaults to today"
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                properties:
                  period:
                    allOf:
                      - $ref: "#/components/schemas/DayRange"
                      - description: "Payment certificate period"
                  businessUnit:
                    allOf:
                      - $ref: "#/components/schemas/BusinessUnitOutRef"
                      - description: "Business unit the subscription belongs to"
                  product:
                    allOf:
                      - $ref: "#/components/schemas/ProductOutRef"
                      - description: "The product that the subscription is based on"
                  payments:
                    type: array
                    description: "Payments done for the subscription during the period above"
                    items:
                      type: object
                      properties:
                        invoice:
                          allOf:
                            - $ref: "#/components/schemas/InvoiceOutRef"
                            - description: "Invoice reference. A payment has either an invoice reference or a receipt reference"
                        receipt:
                          allOf:
                            - $ref: "#/components/schemas/ReceiptOutRef"
                            - description: "Receipt reference. A payment has either an invoice reference or a receipt reference"
                        vatRate:
                          type: string
                          description: "Vat rate for the payment"
                        dueDay:
                          allOf:
                            - $ref: "#/components/schemas/Day"
                            - description: "Due day of invoice"
                        paymentDay:
                          allOf:
                            - $ref: "#/components/schemas/Day"
                            - description: "Day of payment"
                        amount:
                          allOf:
                            - $ref: "#/components/schemas/CurrencyOut"
                            - description: "Amount"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{id}/terminate":
    get:
      operationId: "customers_subscriptions_terminate_list"
      tags: ["customers/subscriptions/terminate"]
      summary: "Show the effect of terminating a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function serves as a simulation of the `POST` method.
        It will do the same calculations and return the same action data, but no changes are saved.
      parameters:
        - name: customer
          description: "Customer ID. Only the users of the subscription are allowed to terminate it."
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions can be terminated separately."
          in: path
          required: true
          schema:
            type: string
        - name: terminationReason
          description: "Termination reason ID. Depending on a system setting it is either required or must not be set."
          in: query
          required: false
          schema:
            type: integer
        - name: terminationReasonComment
          description: "Termination reason comment. Optional comment regarding the reason for termination."
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionTerminateResultOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_subscriptions_terminate_post"
      tags: ["customers/subscriptions/terminate"]
      summary: "Terminate a subscription"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID. Only the users of the subscription are allowed to terminate it."
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions can be terminated separately."
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                terminationReason:
                  type: integer
                  description: "Termination reason ID. Depending on a system setting it is either required or must not be set."
                terminationReasonComment:
                  type: string
                  description: "Termination reason comment. Optional comment regarding the reason for termination."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionTerminateResultOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/subscriptions/{id}/terminateundo":
    post:
      operationId: "customers_subscriptions_undo_terminate"
      tags: [ "customers/subscriptions/terminateundo" ]
      summary: "Undo the cancellation of a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function will undo the cancellation of a user's subscription
      parameters:
        - name: customer
          description: "Customer ID. Only the users of the subscription are allowed to undo a cancellation."
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. A cancelled subscription to reverse the cancellation"
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/subscriptions/{id}/unfreeze":
    get:
      operationId: "customers_subscriptions_unfreeze_list"
      tags: ["customers/subscriptions/unfreeze"]
      summary: "Show the effect of unfreezing a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        This function serves as a simulation of the `POST` method.
        It will do the same calculations and return the same action data, but no changes are saved.
      parameters:
        - name: customer
          description: "Customer ID. Only the users of the subscription are allowed to unfreeze it."
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions are not allowed to unfreeze separately."
          in: path
          required: true
          schema:
            type: string
        - name: unfreezeDay
          description: "Start date of unfreeze. Default is today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionUnfreezeResultOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "customers_subscriptions_unfreeze_post"
      tags: ["customers/subscriptions/unfreeze"]
      summary: "Unfreeze a subscription"
      description: |-
        `ROLE_CUSTOMER`<br>
        Note:  If the subscription product has a freeze rule, the settings `allowFreezeSubscriptionOnInternet` and `minSubscriptionFreezePeriod` won't be considered when unfreezing the subscription, and unfreezeDay will be validated with the freeze rule's minimumLengthOfFreeze.
      parameters:
        - name: customer
          description: "Customer ID. Only the users of the subscription are allowed to unfreeze it."
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Subscription ID. Subscription additions are not allowed to unfreeze separately."
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                unfreezeDay:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Start date of unfreeze. Default is today."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionUnfreezeResultOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/customers/{customer}/technogymenterprise/auth":
    get:
      operationId: "customers_technogymenterprise_auth_get"
      tags: [ "customers/technogymenterprise/auth" ]
      summary: "Get Auth token for Technogym Enterprise"
      description: |-
        `ROLE_CUSTOMER`<br>
        Returns Auth token for Technogym Enterprise
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    description: "Technogym Enterprise Auth token"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/trustlyaccounts":
    get:
      operationId: "customers_trustlyaccounts_list"
      tags: [ "customers/trustlyaccounts" ]
      summary: "List Trustly accounts for a customer"
      description: |-
        `ROLE_CUSTOMER`<br>

        Returns all Trustly accounts associated with the specified customer for a given company.
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: company
          description: "Company ID. Required to filter accounts by company."
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TrustlyAccountApi3Out"
      security:
        - api3SecurityScheme: [ ]        

  "/api/ver3/customers/{customer}/valuecards":
    get:
      operationId: "customers_valuecards_list"
      tags: [ "customers/valuecards" ]
      summary: "List value cards"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerValueCardOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/valuecards/{id}":
    get:
      operationId: "customers_valuecards_item"
      tags: [ "customers/valuecards" ]
      summary: "Show a specific value card"
      description: |-
        `ROLE_CUSTOMER` Display a specific value card belonging to customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Value card ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CustomerValueCardOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/workouts":
    get:
      operationId: "customers_workouts"
      tags: [ "customers/workouts" ]
      summary: "List workouts for a customer"
      description: |-
        `ROLE_CUSTOMER` List all workouts for a customer
      parameters:
        - name: customer
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to filter by"
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: period.end
          description: "End of period to filter by. Maximum range is 10 years."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/TimePoint"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerWorkoutOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customers/{customer}/workoutssummary":
    get:
      operationId: "customers_workoutssummary"
      tags: [ "customers/workoutssummary" ]
      summary: "List workout summaries for customer"
      description: |-
        `ROLE_CUSTOMER` List workout summary for a customer
      parameters:
        - name: period.start
          description: "Period to filter by. Provide a start year."
          in: query
          required: true
          schema:
            type: integer
        - name: period.end
          description: "Period to filter by. Provide an end year."
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerWorkoutSummaryOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/customertypes":
    get:
      operationId: "customertypes_list"
      tags: ["customertypes"]
      summary: "List all customer types"
      parameters:
        - name: company
          description: "Company ID. Use to filter age limit for the customer type. One of `customer` or `businessUnit` may be specified."
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Use to filter age limit for the customer type. One of `customer` or `businessUnit` may be specified."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CustomerTypeOut"

  "/api/ver3/customersegments/{customerSegment}/confirmstatus":
    put:
      operationId: "customersegments_confirmstatus_put"
      tags: [ "customersegments" ]
      summary: "Confirm the status of inbound or outbound persons in a customer segment"
      description: |-
        Protected - Requires authorization `ROLE_INTEGRATOR`
      parameters:
        - name: customersegment
          description: "Customer Segment ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerSegmentPersonStatus
                - personList
              properties:
                customerSegmentPersonStatus:
                  type: string
                  description: "Status to confirm"
                  enum:
                    - INBOUND
                    - OUTBOUND
                personList:
                  type: array
                  items:
                    type: integer
                  description: "List of person IDs to confirm status"
      responses:
        200:
          description: "Ok"
          content:
            application/json:
              schema:
                type: object
                properties:
                  personIdsList:
                    type: array
                    items:
                      type: integer
                    description: "Person IDs with confirmed status"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/justface/attendance":
    post:
      operationId: "justface_attendance"
      tags: [ "justface/attendance" ]
      summary: "Check if a member is allowed at the gym at this point in time"
      description: |-
        `ROLE_INTEGRATOR`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - location
                - customer
                - cameraUnit
              properties:
                location:
                  type: string
                  description: "JustFace LocationId"
                customer:
                  type: integer
                  description: "BRP Person id"
                cameraUnit:
                  type: integer
                  description: "JustFace CameraUnitID"
              example:
                location: "test"
                customer: "79"
                cameraUnit: 2
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JustFaceAttendanceOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/justface/updateimage":
    post:
      operationId: "justface_updateimage"
      tags: [ "justface/updateimage" ]
      summary: "Update a person's image"
      description: |-
        `ROLE_INTEGRATOR` JustFace update a member's image
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - location
                - customer
                - image
              properties:
                location:
                  type: string
                  description: "JustFace LocationId"
                customer:
                  type: integer
                  description: "BRP Person id"
                image:
                  type: string
                  description: "Base 64 image"
              example:
                location: "test"
                customer: "79"
                image: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII="
      responses:
        201:
          description: "CREATED"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/leadsources/{id}":
    get:
      operationId: "leadsource_get"
      tags: [ "leadsources" ]
      summary: "Show lead source details"
      parameters:
        - name: id
          description: "Lead Source ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LeadSourceOut"

  "/api/ver3/messages/{messageType}":
    get:
      operationId: "messages_list"
      tags: ["messages"]
      summary: "List messages"
      description: "List messages for a specific type."
      parameters:
        - name: messageType
          description: "Message type"
          in: path
          required: true
          schema:
            type: string
            enum:
              - "appDownloadInformation"
              - "appInfo"
              - "bluetoothPermission"
              - "bookingCancellationTerms"
              - "bookingInformations"
              - "bookingTerms"
              - "conditionsForReferralOffer"
              - "conditionsWhenInvited"
              - "conditionsWhenInviting"
              - "conditionsWhenReferring"
              - "consentMassSendEmail"
              - "consentMassSendMail"
              - "consentMassSendSms"
              - "cookiePolicy"
              - "disclaimer"
              - "guestInformation"
              - "loyaltyProgramTerminationWarning"
              - "membershipIsRequiredText"
              - "mobileEntranceInformation"
              - "newsletterInvitation"
              - "noShowTerms"
              - "notificationPermission"
              - "openingHours"
              - "orderConfirmation"
              - "parentalConsentToRegister"
              - "pensionerCertificate"
              - "personDetailsPolicy"
              - "registrationTerms"
              - "studentCertificate"
              - "subscriptionCancellationInstructions"
              - "subscriptionFreezeInstructions"
              - "subscriptionTerms"
              - "subscriptionUnfreezeInstructions"
              - "valueCardClaimInvite"
              - "valueCardClaimSuccess"
              - "waitingListTerms"
              - "youthCertificate"
        - name: businessUnit
          description: "Filter by business unit."
          in: query
          required: false
          schema:
            type: integer
        - name: messageTemplateFor
          description: "Filter messages for specific destination."
          in: query
          required: false
          schema:
            type: string
            enum:
              - app
              - web
        - name: "Accept-Language"
          description: "Specifies the language to get messages with."
          in: header
          required: false
          schema:
            type: string
            example: "sv-SE"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  title: "Message"
                  type: object
                  properties:
                    id:
                      type: integer
                      description: "Unique ID"
                    businessUnit:
                      $ref: "#/components/schemas/BusinessUnitOutRef"
                    title:
                      type: string
                      description: "Message title"
                    body:
                      type: string
                      description: "Message body"
                    language:
                      allOf:
                        - $ref: "#/components/schemas/LanguageCodeOut"
                        - description: "Language of title and body"

  "/api/ver3/marketactivities":
    post:
      operationId: "marketactivities_post"
      tags: [ "marketactivities" ]
      summary: "Create market activities for a list of persons"
      description: |-
        Protected - Requires authorization `ROLE_INTEGRATOR`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - subject
                - notes
                - state
                - type
                - responsible
                - organization
                - personList
              properties:
                subject:
                  type: string
                  description: "Subject of the market activity"
                notes:
                  type: string
                  description: "Body of the market activity"
                state:
                  type: string
                  description: "State of the market activity"
                  enum:
                    - STATE_UNFINISHED
                    - STATE_INPROGRESS
                    - STATE_COMPLETED
                type:
                  type: integer
                  description: "MarketActivityType ID"
                responsible:
                  type: integer
                  description: "Person ID of the party responsible for the market activity"
                organization:
                  type: integer
                  description: "Organization ID of the company responsible for the market activity"
                personList:
                  type: array
                  items:
                    type: integer
                  description: "List of person IDs for whom to create the market activity"
      responses:
        200:
          description: "No Content"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/orders":
    get:
      operationId: "orders_list"
      tags: [ "orders" ]
      summary: "List orders for customer or by order number"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required for anonymous orders
      parameters:
        - name: customer
          description: "Customer ID of the purchaser, required when no order number given"
          in: query
          required: false
          schema:
            type: integer
        - name: orderNumber
          description: |-
            Number for order, multiple order numbers can be specified. Required when no customer given 
            (will only show anonymous orders for order number if no authorization is provided in request)
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]
    post:
      operationId: "orders_post"
      tags: [ "orders" ]
      summary: "Create a new order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required for anonymous orders
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessUnit
              properties:
                businessUnit:
                  type: integer
                  description: "On which business unit the order is placed"
                customer:
                  type: integer
                  description: "Customer ID of the purchaser"
                subscriptionUser:
                  type: integer
                  description: |-
                    Subscription user ID. 
                    This property will update the subscription user in each subscription booking in the order. Will not affect other booking types.
                    If this property is available in the request, the customer type validation will be performed using this user. 
                    If not, the customer type validation will be performed using the `customer` property.
                buySubscriptionForOtherUser:
                  type: boolean
                  description: |-
                    To identify the order creation for the other payer flow.
                    If this is true, the customer type age validation won't apply to the customer (payer of the subscription).
                    Validation will be done only for the subscription user, if provided in the request.
                customerType:
                  type: integer
                  description: |-
                    Customer type ID.
                    This could affect price of the order and its items, e.g. if there are any student or senior prices.
                    The customer will NOT change to this customer type when the order is completed.
                orderNumber:
                  type: integer
                  description: "Custom order number for order, will return error if used (Requires access right)"
                source:
                  type: string
                  description: "The source from where the order was created"
                externalId:
                  type: string
                  description: "ID of order from external system, used in integrations"
                orderStatus:
                  type: integer
                  description: |
                    Order status that will be set as initial.
                    This property is only allowed for role `ROLE_INTEGRATOR` and should only be set in special cases.
                    See [order statuses](#tag--orderstatuses) for more information.
                receiverTarget:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address to send tickets attached to order. Is only applicable for an anonymous order."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{id}":
    get:
      operationId: "orders_get"
      tags: [ "orders" ]
      summary: "Show specific order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required for anonymous orders
      parameters:
        - name: id
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]
    put:
      operationId: "orders_put"
      tags: [ "orders" ]
      summary: "Update an order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required for anonymous orders
      parameters:
        - name: id
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                customer:
                  type: integer
                  description: "Customer ID of the purchaser"
                customerName:
                  type: string
                  description: "Name or identifier for anonymous order"
                subscriptionUser:
                  type: integer
                  description: |-
                    Subscription user ID. 
                    This property will update the subscription user in each subscription booking in the order. Will not affect other booking types.
                    If this property is available in the request, the customer type validation will be performed using this user. 
                    If not, the customer type validation will be performed using the `customer` property.
                buySubscriptionForOtherUser:
                  type: boolean
                  description: |-
                    To identify the order creation for the other payer flow.
                    If this is true, the customer type age validation won't apply to the customer (payer of the subscription).
                    Validation will be done only for the subscription user, if provided in the request.
                customerType:
                  type: integer
                  description: |-
                    Customer type ID.
                    This could affect price of the order and its items, e.g. if there are any student or senior prices.
                    The customer will NOT change to this customer type when the order is completed.
                orderNumber:
                  type: integer
                  description: "Custom order number for order, will return error if used (Requires access right)"
                preliminary:
                  type: boolean
                  description: "If the order should be preliminary"
                externalNote:
                  type: string
                  description: "Custom information from customer"
                disclaimerApproved:
                  type: boolean
                  description: "If the customer has approved the disclaimer"
                orderStatus:
                  type: integer
                  description: |
                    Order status to update order with.
                    This property is only allowed for role `ROLE_INTEGRATOR` and should only be set in special cases.
                    See [order statuses](#tag--orderstatuses) for more information.
                receiverTarget:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address to send tickets attached to order. Is only applicable for an anonymous order."
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]
    delete:
      operationId: "orders_delete"
      tags: [ "orders" ]
      summary: "Delete an order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required for anonymous orders
      parameters:
        - name: id
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "Payment method ID. Required when deleting order with debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/coupons":
    put:
      operationId: "orders_coupons_put"
      tags: [ "orders/coupons" ]
      summary: "Apply a coupon on order"
      description: |-
        `ROLE_CUSTOMER` - Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - couponName
              properties:
                couponName :
                  type: string
                  description: "Coupon name"
                  example: "FOR_ALL_10P"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/coupons/{id}":
    delete:
      operationId: "orders_coupons_delete"
      tags: [ "orders/coupons" ]
      summary: "Unapply a coupon on order"
      description: |-
        `ROLE_CUSTOMER` - Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Coupon name"
          in: path
          required: true
          schema:
            type: string
          example: "FOR_ALL_10P"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/articles":
    post:
      operationId: "orders_items_articles_post"
      tags: [ "orders/items/articles" ]
      summary: "Add article to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - articleProduct
              properties:
                articleProduct :
                  type: integer
                  description: "Article product ID"
                quantity:
                  type: integer
                  description: "How many articles to purchase. Defaults to 1. Minimum 1."
                priceIncVat:
                  type: integer
                  description: "Manual price, in cents, for order items. Requires special permissions."
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
                additionTo:
                  type: integer
                  description: "Parent order item ID. Must be specified manually for optional product additions when this item is a product addition to another order item."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/articles/{id}":
    put:
      operationId: "orders_items_articles_put"
      tags: [ "orders/items/articles" ]
      summary: "Update article item on order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Article item ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                quantity:
                  type: integer
                  description: "How many articles to purchase. Minimum 1."
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]
    delete:
      operationId: "orders_items_articles_delete"
      tags: [ "orders/items/articles" ]
      summary: "Delete article item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/orders/{order}/items/groupactivities":
    post:
      operationId: "orders_items_groupactivities_post"
      tags: [ "orders/items/groupactivities" ]
      summary: "Add group activity to order"
      description: |-
        A group activity booking  will be created only for a payable group activity if there are free slots and when the 
        booking rules are met by the customer. A waiting list booking will not be created for a payable group booking activity.

        Drop ins cannot be booked with role `ROLE_CUSTOMER`. When there are only free drop in slots and when time is 
        inside the drop in interval there will be a group activity booking if the role is `ROLE_INTEGRATOR` with system 
        access right `Integrator - Groupactivities - Book`.<br/>
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR`<br/>
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - groupActivityItem
              properties:
                groupActivityItem:
                  type: integer
                  description: "Group activity ID. Group activity to book"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/groupactivities/{id}":
    delete:
      operationId: "orders_items_groupactivities_delete"
      tags: [ "orders/items/groupactivities" ]
      summary: "Delete group activity item from order"
      description: |-
        Removes the given group activity from the order.
        `ROLE_CUSTOMER`, `ROLE_INTEGRATOR`<br/>
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/entries":
    post:
      operationId: "orders_items_entries_post"
      tags: [ "orders/items/entries" ]
      summary: "Add entry to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - entryProduct
              properties:
                entryProduct:
                  type: integer
                  description: "Entry product ID"
                period:
                  allOf:
                    - $ref: "#/components/schemas/TimeRange"
                    - description: |-
                        Time period (hours) to book entry for. 
                        Used in conjunction with resource (will be mapped against spell/schedule), 
                        period is limited to one day and default is today.
                quantity:
                  type: integer
                  description: "Number of entries, defaults to 1"
                resource:
                  type: integer
                  description: "Resource which should be used to meet resource requirement on product"
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
                cardNumber:
                  type: string
                  description: "Card number for entry, use when BRP is not issuing card to customer, requires integrator access right"
                additionTo:
                  type: integer
                  description: "Parent order item ID. Must be specified manually for optional product additions when this item is a product addition to another order item."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/entries/{id}":
    put:
      operationId: "orders_items_entries_put"
      tags: [ "orders/items/entries" ]
      summary: "Update entry items on order"
      description: |-
        Currently does not support updating items on order which has resource requirements.<br/>
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Entry booking ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - period
              properties:
                period:
                  allOf:
                    - $ref: "#/components/schemas/TimeRange"
                    - description: "Time period (hours) to book entry for."
                quantity:
                  type: integer
                  description: "How many entries to update order to"
                receiverTarget:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "To which email address to send entry tickets"
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []
    delete:
      operationId: "orders_items_entries_delete"
      tags: [ "orders/items/entries" ]
      summary: "Delete entry item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/events":
    post:
      operationId: "orders_items_events_post"
      tags: [ "orders/items/events" ]
      summary: "Add event item to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - event
                - participants
              properties:
                event:
                  type: integer
                  description: "Event ID"
                participants:
                  type: array
                  description: "Event participants"
                  items:
                    $ref: "#/components/schemas/ParticipantDetailsOut"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: |-
                        If the event requires person connections this will be the timepoint when the registration terms 
                        was accepted for any participants not previously registered in BRP
                haveParentalConsent:
                  type: boolean
                  description: |-
                    If the event requires person connections this will indicated if a parent have given consent to the 
                    registration (Only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`).
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/events/{id}":
    put:
      operationId: "orders_items_events_put"
      tags: [ "orders/items/events" ]
      summary: "Update event item on order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Event item ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - participants
              properties:
                participants:
                  type: array
                  description: "Event participants"
                  items:
                    $ref: "#/components/schemas/ParticipantDetailsOut"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: |-
                        If the event requires person connections this will be the timepoint when the registration terms 
                        was accepted for any participants not previously registered in BRP
                haveParentalConsent:
                  type: boolean
                  description: |-
                    If the event requires person connections this will indicated if a parent have given consent to the 
                    registration (Only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`).
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []
    delete:
      operationId: "orders_items_events_delete"
      tags: [ "orders/items/events" ]
      summary: "Delete event item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/packages":
    post:
      operationId: "orders_items_packages_post"
      tags: [ "orders/items/packages" ]
      summary: "Add package to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous <br/>
        Packages that includes only entry products can be added to the order. <br/>
        Packages that includes other product types are not supported.
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - packageProduct
              properties:
                packageProduct:
                  type: integer
                  description: "Package product ID"
                period:
                  allOf:
                    - $ref: "#/components/schemas/TimeRange"
                    - description: |-
                        Time period (hours) to book entry package for.
                quantity:
                  type: integer
                  description: "Number of entries, defaults to 1"
                productToResource:
                  type: array
                  description: |-
                    When at least one subproduct (products of the main package product) has resource requirements, this is mandatory.
                    A set of objects that includes product ID and resource ID to match with the product's resource requirement.
                  items:
                    type: object
                    properties:
                      product:
                        type: integer
                        description: Product ID
                      resource:
                        type: integer
                        description: Resource ID
                  example:
                    [
                      { product: 29, resource: 3 },
                      { product: 25, resource: 5 }
                    ]
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/orders/{order}/items/packages/{id}":
    delete:
      operationId: "orders_items_packages_delete"
      tags: [ "orders/items/packages" ]
      summary: "Delete package item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]
    put:
      operationId: "orders_items_packages_put"
      tags: [ "orders/items/packages" ]
      summary: "Update package item on order"
      description: |-
        Currently does not support updating items on order which has resource requirements.<br/>
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Package booking ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                period:
                  allOf:
                    - $ref: "#/components/schemas/TimeRange"
                    - description: "Time period (hours) to book entry package for. Default to existing time period of the package booking."
                quantity:
                  type: integer
                  description: "How many packages to update order to. Minimum value is 1"
                receiverTarget:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "To which email address to send entry tickets"
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/orders/{order}/items/services":
    post:
      operationId: "orders_items_services_post"
      tags: [ "orders/items/services" ]
      summary: "Add service item to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - serviceProduct
                - start
              properties:
                serviceProduct:
                  type: integer
                  description: "Service product ID"
                start:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Which time to book the service"
                resource:
                  type: integer
                  description: |-
                    Resource (eg. a person or a location) to book as main resource requirement.
                    The system will set a resource if none is provided, and set it as selected by user.
                quantity:
                  type: integer
                  description: "How many slots to book. Is only applicable when the service product has capacity."
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/services/{id}":
    delete:
      operationId: "orders_items_services_delete"
      tags: [ "orders/items/services" ]
      summary: "Delete service item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/subscriptions":
    post:
      operationId: "orders_items_subscriptions_post"
      tags: [ "orders/items/subscriptions" ]
      summary: "Add subscription item to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - subscriptionProduct
                - birthDate
              properties:
                subscriptionProduct:
                  type: integer
                  description: "Subscription product ID"
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Customer birth date."
                startDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Start date for subscription (must be greater than or equal to today). Default is today"
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
                subscriber:
                  type: integer
                  description: "Customer ID of the subscription user"
                additionTo:
                  type: integer
                  description: "Parent order item ID. Must be specified manually for optional product additions when this item is a product addition to another order item."
                recruitedBy:
                  type: integer
                  description: "Customer ID of the person who shared the referral link"
                paymentOption:
                  type: integer
                  description: "ID of the desired Payment Option for the subscription"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/subscriptions/{id}":
    delete:
      operationId: "orders_items_subscriptions_delete"
      tags: [ "orders/items/subscriptions" ]
      summary: "Delete subscription item and remove from order"
      description: |-
        Removes the given subscription from the order as well as any mandatory addition and membership products added 
        by the subscription. Optional product additions have to be removed manually.<br/>
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
        - name: birthDate
          description: |-
            Parameter is only required when the order is anonymous! If anonymous, it is obligatory to send the same 
            Customer birthdate used when adding the subscription.
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/valuecards":
    post:
      operationId: "orders_items_valuecards_post"
      tags: [ "orders/items/valuecards" ]
      summary: "Add value card to order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - valueCardProduct
              properties:
                valueCardProduct:
                  type: integer
                  description: "Value card product ID"
                receiverDetails:
                  allOf:
                    - $ref: "#/components/schemas/ReceiverDetails"
                    - description: "Information of the person to receive the value card, if different from customer of the order."
                senderDetails:
                  allOf:
                    - $ref: "#/components/schemas/SenderDetails"
                    - description: "The name of the person that purchased the value card, if anonymous order. Greeting when receiver other than the customer of the order."
                amount:
                  type: integer
                  description: "Amount to fill the value card with. Only applicable to `AMOUNT` value cards with zero price."
                externalMessage:
                  type: string
                  description: "Custom information from customer. Avoid putting sensitive information here."
                additionTo:
                  type: integer
                  description: "Parent order item ID. Must be specified manually for optional product additions when this item is a product addition to another order item."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/items/valuecards/{id}":
    delete:
      operationId: "orders_items_valuecards_delete"
      tags: [ "orders/items/valuecards" ]
      summary: "Delete value card item and remove from order"
      description: |-
        `ROLE_CUSTOMER`<br/>
        Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "ID of order item to remove from the order"
          in: path
          required: true
          schema:
            type: integer
        - name: paymentMethod
          description: "payment method ID. Required when deleting debited items (Requires access right!)"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OrderOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/valuecardreservations":
    get:
      operationId: "orders_valuecardreservations_list"
      tags: [ "orders/valuecardreservations" ]
      summary: "List value card reservations for order"
      description: |-
        `ROLE_CUTOMER` - Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ValueCardReservationOut"
      security:
        - api3SecurityScheme: []
    post:
      operationId: "orders_valuecardreservations_create"
      tags: [ "orders/valuecardreservations" ]
      summary: "Reserve the use of a value card for this order"
      description: |-
        `ROLE_CUSTOMER` - Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - valueCardNumber
              properties:
                valueCardNumber :
                  type: string
                  description: "Card Number or identifier"
                  example: "15226337448500"
                  minLength: 12
                  maxLength: 20
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValueCardReservationOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orders/{order}/valuecardreservations/{id}":
    delete:
      operationId: "orders_valuecardreservations_delete"
      tags: [ "orders/valuecardreservations" ]
      summary: "Set a value card to no longer reserved for this order"
      description: |-
        `ROLE_CUSTOMER` - Authorization is not required when the order is anonymous
      parameters:
        - name: order
          description: "Order ID"
          in: path
          required: true
          schema:
            type: integer
        - name: id
          description: "Value card reservation ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        204:
          description: "No Content"
      security:
        - api3SecurityScheme: []

  "/api/ver3/orderstatuses":
    get:
      operationId: "orderstatuses_list"
      tags: ["orderstatuses"]
      summary: "List order statuses"
      description: |-
        `ROLE_INTEGRATOR`<br>
         Lists order statuses that are allowed to be used over API.
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OrderStatusOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/organizations":
    get:
      operationId: "organizations_list"
      tags: ["organizations"]
      summary: "List of organizations"
      parameters:
        - name: organizationUuid
          description: "UUID for a registration link. Can be set to get the related details of the organization"
          in: query
          required: false
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OrganizationOut"

  "/api/ver3/owndefinedparameters":
    get:
      operationId: "owndefinedparameters_list"
      tags: ["owndefinedparameters"]
      summary: "List own defined parameters"
      parameters:
        - name: forPerson
          description: "Can be set to filter result depending on the `usedOnPerson` field."
          in: query
          required: false
          schema:
            type: boolean
        - name: forSubscription
          description: "Can be set to filter result depending on the `usedOnSubscription` field."
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OwnDefinedParameterOut"

  "/api/ver3/owndefinedparameters/{id}":
    get:
      operationId: "owndefinedparameters_get"
      tags: ["owndefinedparameters"]
      summary: "Show a specific own defined parameter"
      parameters:
        - name: id
          description: "Own defined parameter ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OwnDefinedParameterOut"

  "/api/ver3/passagereaders":
    get:
      operationId: "passagereaders_get"
      tags: [ "passagereaders" ]
      summary: "Get passage reader from major/minor beacon values"
      parameters:
        - name: minor
          description: "minor beacon value"
          in: query
          required: true
          schema:
            type: string
        - name: major
          description: "major beacon value"
          in: query
          required: true
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CardReaderApi3Out"

  "/api/ver3/personinformations":
    get:
      operationId: "personinformations_list"
      tags: [ "personinformations" ]
      summary: "List available person information options"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PersonInformationOut"

  "/api/ver3/products/articles/{id}":
    get:
      operationId: "products_articles_get"
      tags: [ "products/articles" ]
      summary: "Show a specific article product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate price with customer's price lists."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ArticleProductOut"

  "/api/ver3/products/entries":
    get:
      operationId: "products_entries_list"
      tags: [ "products/entries" ]
      summary: "List entry products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: "Filter by business unit. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Filter by web category"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EntryProductOut"

  "/api/ver3/products/entries/{id}":
    get:
      operationId: "products_entries_get"
      tags: [ "products/entries" ]
      summary: "Show a specific entry product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Entry product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EntryProductOut"

  "/api/ver3/products/entries/availability":
    get:
      operationId: "products_entries_availability_list"
      tags: [ "products/entries/availability" ]
      summary: "List entry products with their available capacity and price"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: period
          description: |-
            Filter by time period (hours) which is of interest. Used in conjunction with resource 
            (will be mapped against spell/schedule), period is limited to one day and default is today.
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
        - name: resource
          description: |-
            Filter by resource ID. If provided, only products with a resource requirement which is met by resource will 
            be returned. If omitted only products without resource requirement will be returned.
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "Filter by business unit. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Filter by web category"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EntryProductAvailabilityOut"

  "/api/ver3/products/entries/{entryProduct}/resources":
    get:
      operationId: "products_entries_resources_list"
      tags: [ "products/entries/resources" ]
      summary: "List resource requirements and resources of an entry product"
      description: |-
        Resources are grouped by resource requirement<br/>
        `ROLE_ANONYMOUS`
      parameters:
        - name: entryProduct
          description: "Entry product"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit"
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EntryProductResourceOut"

  "/api/ver3/products/entries/{entryProduct}/suggestions":
    get:
      operationId: "products_entries_suggestions_list"
      tags: [ "products/entries/suggestions" ]
      summary: "List time suggestions for an entry product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: entryProduct
          description: "ID of entry product to list time suggestions for"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID"
          in: query
          required: true
          schema:
            type: integer
        - name: period
          description: "Time period to list time suggestions for. Defaults to now until the end of today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
          example: "period.start=2022-11-10T03%3A00%3A00.000Z&period.end=2022-11-10T06%3A00%3A00.000Z"
        - name: quantity
          description: "Specifies how many entries/entry tickets are going to book. Default value is 1."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/EntryItemSuggestionOut"
                  - example:
                      - duration:
                          start: "2022-11-10T03:00:00.000Z"
                          end: "2022-11-10T03:30:00.000Z"
                        price:
                          amount: 3500
                          currency: "DKK"
                        resources:
                          - id: 8
                            name: "50m pool"
                            type: "LOCAL"
                            availableCapacity: 3
                          - id: 9
                            name: "100m pool"
                            type: "LOCAL"
                            availableCapacity: 5
                      - duration:
                          start: "2022-11-10T05:00:00.000Z"
                          end: "2022-11-10T05:30:00.000Z"
                        price:
                          amount: 3500
                          currency: "DKK"
                        resources:
                          - id: 8
                            name: "50m pool"
                            type: "LOCAL"
                            availableCapacity: 4

  "/api/ver3/products/events":
    get:
      operationId: "products_events_list"
      tags: [ "products/events" ]
      summary: "List event products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: "Filter by business unit. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Filter by web category"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/EventProductOut"

  "/api/ver3/products/events/{id}":
    get:
      operationId: "products_events_get"
      tags: [ "products/events" ]
      summary: "Show a specific event product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list."
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EventProductOut"

  "/api/ver3/products/events/{eventProduct}/additions":
    get:
      operationId: "products_events_additions_list"
      tags: [ "products/events/additions" ]
      summary: "List event product additions"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: eventProduct
          description: "Event product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: customerType
          description: "Customer type ID. Calculate price with customer type's price list."
          in: path
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Price list of customer will be used if specified."
          in: path
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "To filter product additions by business unit."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProductAdditionOut"

  "/api/ver3/products/events/{eventProduct}/prices":
    get:
      operationId: "products_events_prices_get"
      tags: [ "products/events/prices" ]
      summary: "Get price for a given event"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: eventProduct
          description: "Event product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: event
          description: "Event ID. Price for additions of the event will be included."
          in: query
          required: true
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate price with customer's price lists."
          in: query
          required: false
          schema:
            type: integer
        - name: quantity
          description: |-
            Specifies how many items of the product that the price should be valid for 
            (e.g the price could change depending of quantity if the product is configured with bulk discount). Defaults to 1
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CurrencyOut"

  "/api/ver3/products/groupactivities":
    get:
      operationId: "products_groupactivities_list"
      tags: [ "products/groupactivities" ]
      summary: "List group activity products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: |-
            Business unit ID. List products in the provided business unit. Calculate price with its price list. 
            (Only applicable, when the 'participantsMustPay' property of the group activity product is true).
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Web category ID. List products in specified web category."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: |-
            Customer ID. Calculate the price with the customer's price lists. 
            (Only applicable, when the 'participantsMustPay' property of the group activity product is true).
          in: query
          required: false
          schema:
            type: integer
        - name: includeBusinessUnitIds
          description: "Include business unit ids. Response should contains an array of business unit ids instead of an array of business unit objects."
          in: query
          required: false
          schema:
            type: boolean
            default: false

      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/GroupActivityProductOut"

  "/api/ver3/products/groupactivities/{id}":
    get:
      operationId: "products_groupactivities_get"
      tags: [ "products/groupactivities" ]
      summary: "Show a specific group activity product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Group activity product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: |-
            Business unit ID. Calculate price with its price list
            (Only applicable, when the participantsMustPay of the group activity product is true)
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: |-
            Customer ID. Calculate the price with the customer's price lists 
            (Only applicable, when the participantsMustPay of the group activity product is true).
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GroupActivityProductOut"

  "/api/ver3/products/packages":
    get:
      operationId: "products_packages_list"
      tags: [ "products/packages" ]
      summary: "List package products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: "Business unit ID. List products in the provided business unit. Calculate price with its price list."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Web category ID. List products in specified web category."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate the price with the customer's price lists."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PackageProductOut"

  "/api/ver3/products/packages/{id}":
    get:
      operationId: "products_packages_get"
      tags: [ "products/packages" ]
      summary: "Show a specific package product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Package product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate the price with the customer's price lists."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PackageProductOut"

  "/api/ver3/products/services":
    get:
      operationId: "products_services_list"
      tags: [ "products/services" ]
      summary: "List service products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: |-
            Business unit ID. List products in any of the provided business units.<br>
            May contain multiple business units. E.g. `?businessUnit=1&businessUnit=2`.<br>
            Will calculate product price for the specific business unit if only one is provided.
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Web category ID. List products in specified web category."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: |-
            Customer ID. Calculate price of service product for specified customer. 
            This is also the customer whose access rights determine which products are shown.
          in: query
          required: false
          schema:
            type: integer
        - name: includeAccountData
          description: "Includes economic information in the response such as account number and dimension."
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServiceProductOut"

  "/api/ver3/products/services/{id}":
    get:
      operationId: "products_services_get"
      tags: [ "products/services" ]
      summary: "Show a specific service product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: includeAccountData
          description: "Includes economic information in the response such as account number and dimension."
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServiceProductOut"

  "/api/ver3/products/services/{serviceProduct}/additions":
    get:
      operationId: "products_services_additions_list"
      tags: [ "products/services/additions" ]
      summary: "List product additions for a service"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: serviceProduct
          description: "Service product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: customerType
          description: "Customer type ID. Price list of customer type will be used if specified."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Price list of customer will be used if specified."
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "To filter product additions by business unit."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/ProductAdditionOut"
                  - example:
                    - id: 16
                      addition:
                        id: 4
                        name: "Banan"
                        productLabels: []
                        businessUnits:
                          - id: 1
                            name: "Anlggning 1"
                            location: "SE"
                            companyNameForInvoice: "Bolag 1"
                          - id: 14
                            name: "Anlggning 2"
                            location: "SE"
                            companyNameForInvoice: "Bolag 1"
                        description: "Fyll p med energi efter trningen med en banan"
                        debitMethod: "MANUAL_DEBIT"
                        productType: "ARTICLE"
                        priceWithInterval:
                          interval: null
                          price:
                            amount: 1000
                            currency: "SEK"
                        changesMainContractEndDate: null
                      selectOptions:
                        NEW_SERVICE_BOOKING:
                          mandatory: false
                          preSelected: false

  "/api/ver3/products/services/{serviceProduct}/resources":
    get:
      operationId: "products_services_resources_list"
      tags: [ "products/services/resources" ]
      summary: "List resource requirements and resources of a service product"
      description: |-
        Resources is grouped by resource requirement. The first resource requirement in list is the main resource requirement.<br/>
        `ROLE_ANONYMOUS`
      parameters:
        - name: serviceProduct
          description: "Service product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit"
          in: query
          required: true
          schema:
            type: integer
        - name: onlyMainResourceRequirement
          description: "Only list main resource requirement. Default true."
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServiceProductResourceOut"

  "/api/ver3/services/serviceProduct/prices":
    get:
      operationId: "products_services_prices_list"
      tags: [ "products/services/prices" ]
      summary: "List prices for service product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: serviceProduct
          description: "Service product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with specified business unit."
          in: query
          required: true
          schema:
            type: integer
        - name: start
          description: "Service start time to calculate price for"
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/TimePoint"
        - name: customer
          description: "Customer ID. Calculate price with customer's price lists."
          in: query
          required: false
          schema:
            type: integer
        - name: resources
          description: "Resource ID. Return prices for specified resources (request url may contain ?resources=42&resources=53)."
          in: query
          required: false
          schema:
            type: integer
        - name: quantity
          description: |-
            Specifies how many items of the product that the price should be valid for 
            (e.g the price could change depending of quantity if the product is configured with bulk discount). Defaults to 1
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServiceProductPriceOut"

  "/api/ver3/products/services/{serviceProduct}/suggestions":
    get:
      operationId: "products_services_suggestions_list"
      tags: [ "products/services/suggestions" ]
      summary: "List time suggestions for a service product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: serviceProduct
          description: "ID of service product to list time suggestions for"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID"
          in: query
          required: true
          schema:
            type: integer
        - name: period
          description: "Time period to list time suggestions for. Defaults to now until the end of today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/TimeRange"
          example: "period.start=2022-11-10T03%3A00%3A00.000Z&period.end=2022-11-10T06%3A00%3A00.000Z"
        - name: renderPrice
          description: |-
            Calculate price for each suggestion, price returned is for default resources chosen by system and may 
            differ from actual price if resources have different prices.
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/ServiceItemSuggestionOut"
                  - example:
                    - duration:
                        start: "2022-11-10T03:00:00.000Z"
                        end: "2022-11-10T03:30:00.000Z"
                      availableSlots: 1
                      selectableResources:
                        - id: 8
                          name: "Terapeut1"
                          type: "STAFF"
                    - duration:
                        start: "2022-11-10T05:00:00.000Z"
                        end: "2022-11-10T05:30:00.000Z"
                        availableSlots: 1
                        selectableResources:
                          - id: 8
                            name: "Terapeut1"
                            type: "STAFF"

  "/api/ver3/products/subscriptions":
    get:
      operationId: "products_subscriptions_list"
      tags: [ "products/subscriptions" ]
      summary: "List subscription products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: customerType
          description: |-
            Customer type ID. Calculate price with customer type's price list.
            Filter products if it has a price for the customer type's price list.
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID of the subscription's payer. Calculate price with payer's price lists."
          in: query
          required: false
          schema:
            type: integer
        - name: subscriber
          description: |-
            Customer ID of the subscription user. This is to determine whether the product is bookable for the 
            subscription user. Use this when the subscription's user and payer are different.
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "Filter by business unit. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Filter by web category"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/SubscriptionProductOut"

  "/api/ver3/products/subscriptions/{id}":
    get:
      operationId: "products_subscriptions_get"
      tags: [ "products/subscriptions" ]
      summary: "Show a specific subscription product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: |-
            Business unit ID. Calculate price with its price list (if applicable).
            The name of the field `debitMethod` is returned with a translation for this business unit.
          in: query
          required: false
          schema:
            type: integer
        - name: customerType
          description: "Customer type ID. Calculate price with customer type's price list."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID of the subscription's payer. Calculate price with payer's price lists."
          in: query
          required: false
          schema:
            type: integer
        - name: subscriber
          description: |-
            Customer ID of the subscription user. This is to determine whether the product is bookable for the 
            subscription user. Use this when the subscription's user and payer are different.
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubscriptionProductOut"

  "/api/ver3/products/subscriptions/{product}/additions":
    get:
      operationId: "products_subscriptions_additions_list"
      tags: [ "products/subscriptions/additions" ]
      summary: "List product additions for a subscription"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: product
          description: "Subscription product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: customerType
          description: "Customer type ID. Price list of customer type will be used if specified."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID of the subscription payer. Price list of customer will be used if specified."
          in: query
          required: false
          schema:
            type: integer
        - name: subscriber
          description: |-
            Customer ID of the subscription user. This is to determine whether the product is bookable for the 
            subscription user. Use this when the subscription's user and payer are different.
          in: query
          required: false
          schema:
            type: integer
        - name: businessUnit
          description: "To filter product additions by business unit."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/ProductAdditionOut"
                  - example:
                      - id: 17
                        addition:
                          id: 60
                          name: "Handdukstvtt"
                          productLabels: [ ]
                          businessUnits:
                            - id: 1
                              name: "Anlggning 1"
                              location: "SE"
                              companyNameForInvoice: "Bolag 1"
                            - id: 14
                              name: "Anlggning 2"
                              location: "SE"
                              companyNameForInvoice: "Bolag 1"
                          description: "Slipp krnglet med att tvtta din handduk. En nytvttad frsch handduk vntar p dig vid nsta trning"
                          debitMethod: "AG_PAYMENT"
                          productType: "SUBSCRIPTION"
                          priceWithInterval:
                            interval:
                              numberOf: 1
                              unit: "MONTH"
                            price:
                              amount: 3000
                              currency: "SEK"
                          changesMainContractEndDate: null
                          givesMembership: false
                          allowedToOrder: true
                        selectOptions:
                          NEW_CUSTOMER:
                            mandatory: false
                            preSelected: false

  "/api/ver3/products/subscriptions/{product}/terminationreasons":
    get:
      operationId: "products_subscriptions_terminationreasons_list"
      tags: [ "products/subscriptions/terminationreasons" ]
      summary: "List all termination reasons"
      description: |-
        When terminating a subscription a customer may choose one of the configured termination reasons.<br/>
        `ROLE_ANONYMOUS`
      parameters:
        - name: product
          description: "Subscription product ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TerminationReasonOut"

  "/api/ver3/products/subscriptions/freezereasons":
    get:
      operationId: "products_subscriptions_freezereasons_list"
      tags: [ "products/subscriptions/freezereasons" ]
      summary: "List all freeze reasons for a subscription product that is marked as visible on internet"
      description: |-
        When freezing a subscription a customer may choose one of the configured freezeing reasons.<br/>
        `ROLE_ANONYMOUS`
      parameters:
        - name: product
          description: "Subscription product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: company
          description: "Company ID"
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/FreezeReasonOut"

  "/api/ver3/products/valuecards":
    get:
      operationId: "products_valuecards_list"
      tags: [ "products/valuecards" ]
      summary: "List value card products"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: businessUnit
          description: "Filter by business unit. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: webCategory
          description: "Filter by web category"
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                allOf:
                  - type: array
                    items:
                      $ref: "#/components/schemas/ValueCardProductOut"

  "/api/ver3/products/valuecards/{id}":
    get:
      operationId: "products_valuecards_get"
      tags: [ "products/valuecards" ]
      summary: "Show a specific value card product"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: id
          description: "Value card product ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list (if applicable)."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate price with customer's price lists."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValueCardProductOut"

  "/api/ver3/resources/availability":
    get:
      operationId: "resources_availability_list"
      tags: ["resources/availability"]
      summary: "List resources availability for specific period"
      parameters:
        - name: resource
          description: "Unique identifier for requested resource. Multiple resources can be specified."
          in: query
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit where availability is requested."
          in: query
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to list available time slots for. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to list available time slots for. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ResourceAvailabilityOut"

  "/api/ver3/resources/availability/{id}":
    get:
      operationId: "resources_availability_get"
      tags: ["resources/availability"]
      summary: "Show resource availability for specific period"
      parameters:
        - name: id
          description: "Unique ID for requested resource"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit where availability is requested."
          in: query
          required: true
          schema:
            type: integer
        - name: period.start
          description: "Start of period to list available time slots for. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
        - name: period.end
          description: "End of period to list available time slots for. Defaults to today."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/Day"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResourceAvailabilityOut"

  "/api/ver3/services/banklookup":
    get:
      operationId: "services_banklookup_get"
      tags: [ "services/banklookup" ]
      summary: "Lookup bank name from clearing number"
      description: |-
        Public - No authorization is required
      parameters:
        - name: bankClearing
          description: "Clearing number to find bank name for. Must be 4 to 5 digits."
          in: query
          required: true
          schema:
            $ref: "#/components/schemas/BankClearing"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: "Any of FOUND or NOT_FOUND"
                    enum:
                      - FOUND
                      - NOT_FOUND
                  bankName:
                    type: string
                    description: "Name of bank"
                example:
                  status: "FOUND"
                  bankName: "Swedbank"

  "/api/ver3/services/calendar":
    get:
      operationId: "services_calendar_get"
      tags: [ "services/calendar" ]
      summary: "Return the calendar with all the bookings of a specific person"
      description: |-
        Public - No authorization is required
      parameters:
        - name: token
          description: -|
            The token for the person to get the calendar for.
            NOTE! This token is not the same as the API3 auth token.
          in: query
          required: true
          schema:
            type: string
        - name: period
          description: "Bookings within period. Defaults to from one year back to one year forward."
          in: query
          required: false
          schema:
            $ref: "#/components/schemas/DayRange"
      responses:
        200:
          description: "OK"

  "/api/ver3/services/calendarinstructions":
    post:
      operationId: "services_calendarinstructions_post"
      tags: ["services/calendarinstructions"]
      summary: "Generate instructions"
      description: |-
        `ROLE_CUSTOMER`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "If entered, any email will be sent here instead of the customer's registered email address"
                sendEmail:
                  type: boolean
                  description: "Will send an email with instructions to the customer"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CalendarInstructionOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/services/countries":
    get:
      operationId: "services_countries_get"
      tags: [ "services/countries" ]
      summary: "List all countries"
      description: |-
        Public - No authorization is required
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CountryOut"

  "/api/ver3/services/exporttemplate/{id}":
    get:
      operationId: "services_exporttemplate_get"
      tags: [ "services/exporttemplate" ]
      summary: "Run export template"
      description: |-
        Protected - Requires authorization `ROLE_INTEGRATOR`
      parameters:
        - name: id
          description: "Unique ID"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExportTemplateOut"
      security:
        - api3SecurityScheme: []

  "/api/ver3/services/validate/consents/sedirectdebits":
    post:
      operationId: "services_validate_consents_sedirectdebits_post"
      tags: ["services/validate/consents/sedirectdebits"]
      summary: "Validate create new Autogiro consent"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - bankAccount
                - company
                - ssn
              properties:
                bankAccount:
                  type: string
                  description: "Bank account number. Any dashes, underscores or spaces will automatically be removed."
                company:
                  type: integer
                  description: "Company that the consent shall belong to"
                ssn:
                  allOf:
                    - $ref: "#/components/schemas/SSN"
                    - description: "Personal identity number for the owner of the consent"
      responses:
        201:
          description: "CREATED when data is valid"
        403:
          description: "FORBIDDEN when data is invalid"

  "/api/ver3/services/validate/consents/sedirectdebits/{id}":
    put:
      operationId: "services_validate_consents_sedirectdebits_put"
      tags: ["services/validate/consents/sedirectdebits"]
      summary: "Validate modify Autogiro consent"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: id
          description: "Autogiro consent ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - bankAccount
              properties:
                bankAccount:
                  type: string
                  description: "Bank account number. Any dashes, underscores or spaces will automatically be removed."
      responses:
        200:
          description: "OK when data is valid"
        403:
          description: "FORBIDDEN when data is invalid"
      security:
        - api3SecurityScheme: []

  "/api/ver3/services/validate/customers":
    post:
      operationId: "services_validate_ssn_customer_create"
      tags: [ "services/validate/customers" ]
      summary: "Validate create new customer"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                customerType:
                  type: integer
                  description: "Customer classification"
                businessUnit:
                  type: integer
                  description: "Business unit the customer belongs to"
                firstName:
                  type: string
                  description: "First name"
                lastname:
                  type: string
                  description: "Last name"
                ssn:
                  type: string
                  description: |-
                    Personal identity number.
                    When registering a customer as a subscription user the `ssn` is mandatory if the setting
                    `requireSsnForInternetCustomerRegistrationForSubscriptionUser` is `true`.
                    For other customers the `ssn` is mandatory if the setting
                    `requireSsnForInternetCustomerRegistration` is active or if `birthDate` is not set and setting
                    `allowRegistrationWithoutSsnOrBirthDate` is `false`.
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth. Mandatory unless `ssn` is set or setting `allowRegistrationWithoutSsnOrBirthDate` is active."
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderOut"
                    - description: "Gender. Mandatory unless setting `allowRegistrationWithoutSex` is active."
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address. Mandatory unless setting `allowRegistrationWithoutAddress` is active."
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address is only optional if the customer is a subscription user (when the `isSubscriptionUser` property is `true`)"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: "Mobile phone number, mandatory unless setting allowRegistrationWithoutMobile is active"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                haveParentalConsent:
                  type: boolean
                  description: |-
                    If a parent have given consent to the registration
                    (only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`).
                password:
                  type: string
                  description: |-
                    Optional password. If omitted and setting `setPasswordToBirthdate` is active, 
                    then it will be set to customer's `birthDate`, otherwise it will be `null`.
                allowMassSendEmail:
                  type: boolean
                  description: "Allow mass sending of emails"
                allowMassSendMail:
                  type: boolean
                  description: "Allow mass sending of letters"
                allowMassSendSms:
                  type: boolean
                  description: "Allow mass sending of sms"
                temporary:
                  type: boolean
                  description: |-
                    Mark customer as temporary.
                    When the scheduled job `InactiveInternetPersonRemover` is run it will either remove the customer or
                    clear the flag depending on if any order is connected to customer or not.
                isSubscriptionUser:
                  type: boolean
                  description: "Whether the customer is a subscription user or not."
      responses:
        200:
          description: "OK when data is valid"
        403:
          description: "FORBIDDEN when data is invalid"

  "/api/ver3/services/validate/customers/{id}":
    put:
      operationId: "services_validate_ssn_customer_update"
      tags: [ "services/validate/customers" ]
      summary: "Validate modify customer"
      description: |-
        `ROLE_CUSTOMER`
      parameters:
        - name: id
          description: "Customer ID"
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                ssn:
                  type: integer
                  description: "Personal identity number"
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth"
                firstName:
                  type: string
                  description: "First name"
                lastname:
                  type: string
                  description: "Last name"
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderOut"
                    - description: "Gender"
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address"
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: "Mobile phone number"
                acceptedBookingTerms:
                  type: boolean
                  description: "If booking terms have been accepted"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                oldPassword:
                  type: string
                  description: "Password customer wants to change from"
                password:
                  type: string
                  description: "Password customer wants to change to"
                allowMassSendEmail:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                allowMassSendMail:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                allowMassSendSms:
                  type: boolean
                  description: "Deprecated, use consents parameter instead"
                  deprecated: true
                consents:
                  type: array
                  items:
                    $ref: "#/components/schemas/ConsentTypeOutRef"
                  description: "Sets the values for the consents"
      responses:
        200:
          description: "OK when data is valid"
        403:
          description: "FORBIDDEN when data is invalid"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/validate/otheruser":
    post:
      operationId: "services_validate_otheruser_create"
      tags: [ "services/validate/otheruser" ]
      summary: "Validate create new other user"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerType
                - businessUnit
                - firstName
                - lastName
                - otherUserType
              properties:
                customerType:
                  type: integer
                  description: "Customer type"
                businessUnit:
                  type: integer
                  description: "Business unit the customer belongs to"
                firstName:
                  type: string
                  description: "First name"
                lastName:
                  type: string
                  description: "Last name"
                ssn:
                  type: string
                  description: |-
                    Personal identity number, when registering a customer as a subscription user ssn is not mandatory if
                    the otherUserType is `CHILD`. Otherwise ssn is mandatory if person information is configured ssn to be required or 
                    the setting `requireSsnForInternetCustomerRegistration` is active or if the birthDate is not set and 
                    setting `allowRegistrationWithoutSsnOrBirthDate` is false.
                birthDate:
                  allOf:
                    - $ref: "#/components/schemas/Day"
                    - description: "Day of birth, mandatory unless the otherUserType is `CHILD` or ssn is set or setting `allowRegistrationWithoutSsnOrBirthDate` is active."
                sex:
                  allOf:
                    - $ref: "#/components/schemas/GenderIn"
                    - description: "Gender, mandatory unless setting `allowRegistrationWithoutSex` is active."
                shippingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Shipping address, mandatory unless setting `allowRegistrationWithoutAddress` is active."
                billingAddress:
                  allOf:
                    - $ref: "#/components/schemas/AddressOut"
                    - description: "Billing address"
                email:
                  allOf:
                    - $ref: "#/components/schemas/Email"
                    - description: "Email address is mandatory unless the otherUserType is `CHILD` or person information has been configured not to be required"
                mobilePhone:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: |-
                        Mobile phone number is mandatory unless the otherUserType is `CHILD` or person information has 
                        been configured not to be required or setting `allowRegistrationWithoutMobile` is disabled.
                haveParentalConsent:
                  type: boolean
                  description: "If a parent have given consent to the registration (Only applicable when dealing with people below the age of the setting `ageAvoidParentalConsent`)."
                allowMassSendEmail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of emails"
                  deprecated: true
                allowMassSendMail:
                  type: boolean
                  description: "Deprecated, Allow mass sending of letters"
                  deprecated: true
                allowMassSendSms:
                  type: boolean
                  description: "Deprecated, Allow mass sending of sms"
                  deprecated: true
                consents:
                  type: object
                  additionalProperties:
                    type: boolean
                    description: "The key is the ID of the consent. The value accepts/rejects the consent."
                  description: "Accepts/rejects the consents"
                acceptedRegistrationTerms:
                  allOf:
                    - $ref: "#/components/schemas/TimePoint"
                    - description: "Time point when the registration terms was accepted."
                otherUserType:
                  type: string
                  description: "other user type. values as CHILD or ADULT"
                  enum:
                    - CHILD
                    - ADULT
                ownDefinedParameterValues:
                  type: array
                  required:
                    - parameter
                  properties:
                    parameter:
                      type: integer
                      description: "Own defined parameter ID, for which this is a value"
                    value:
                      type: object
                      description: "Value to create"
                  example:
                    parameter: 1
                    value: 12.34
      responses:
        200:
          description: "OK when data is valid"
        403:
          description: "FORBIDDEN when data is invalid"

  "/api/ver3/services/generate/invoicereport":
    post:
      operationId: "services_generate_invoicereport_post"
      tags: ["services/generate/invoicereport"]
      summary: "Generate an invoice report"
      description: |-
        `ROLE_CUSTOMER`<br>
        Will generate a pdf report for a specific invoice.
        The used report template for the report can be specified by a setting in BRP Configuration.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customer
                - invoice
              properties:
                customer:
                  type: integer
                  description: "Customer ID. Must match the customer of the specified invoice."
                invoice:
                  type: integer
                  description: "Invoice ID"
      responses:
        201:
          description: "CREATED"
          content:
            application/pdf:
              schema:
                type: string
                format: binary
                description: "Binary file"
          headers:
            Content-Disposition:
              schema:
                type: string
                example: "attachment; filename=report.pdf"
            Content-Type:
              schema:
                type: string
                example: "application/pdf"

      security:
        - api3SecurityScheme: []

  "/api/ver3/services/generate/paymentcertificate":
    post:
      operationId: "services_generate_paymentcertificate_post"
      tags: ["services/generate/paymentcertificate"]
      summary: "Generate a payment certificate email with pdf"
      description: |-
        `ROLE_CUSTOMER`<br>
        Will generate a payment certificate pdf report for a specific subscription and a time period.
        The pdf report will be sent by email to the address of the specified customer.

        The report will not be generated if the specified customer hasn't done any payment for the subscription.

        This feature is enabled by the setting `enableCreatePaymentCertificateAPI3`.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customer
                - subscription
              properties:
                customer:
                  type: integer
                  description: |-
                    Customer ID. Can be any of the payer or the users of the subscription.
                    An email will be sent to the customer's email address.
                subscription:
                  type: integer
                  description: "Subscription ID"
                period:
                  allOf:
                    - $ref: "#/components/schemas/DayRange"
                    - description: "Period to filter payments by. Defaults to last 12 months."
      responses:
        201:
          description: "CREATED"
      security:
        - api3SecurityScheme: []

  "/api/ver3/services/generatelink/confirmorder":
    post:
      operationId: "services_generatelink_payment_confirmorder"
      tags: [ "services/generatelink/confirmorder" ]
      summary: "Generate link to confirm an order"
      description: |-
        `ROLE_ANONYMOUS`<br>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - order
                - returnUrl
              properties:
                order:
                  type: integer
                  description: "ID of order to confirm"
                returnUrl:
                  type: string
                  description: "Url to return to after successful or failed order confirmation"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link"

  "/api/ver3/services/generatelink/exorlive":
    post:
      operationId: "services_generatelink_exorlive"
      tags: [ "services/generatelink/exorlive" ]
      summary: "Generate a link that makes the connection with Exorlive"
      description: |-
        `ROLE_CUSTOMER` <br>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customer
              properties:
                customer:
                  type: integer
                  description: "ID of the customer to connect with Exorlive."
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link to connect to Exorlive."
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/generatelink/payment":
    post:
      operationId: "services_generatelink_payment"
      tags: [ "services/generatelink/payment" ]
      summary: "Generate link to pay for an order or an invoice"
      description: |-
        `ROLE_ANONYMOUS`<br>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - returnUrl
              properties:
                returnUrl:
                  type: string
                  description: "Absolute url to return to after successful, failed or aborted payment"
                order:
                  type: integer
                  description: "ID of order to pay for. Required when no invoice given"
                invoice:
                  type: integer
                  description: "ID of invoice to pay for. Required when no order given"
                paymentMethod:
                  type: integer
                  description: "ID of payment method to use"
                receiptEmail:
                  type: array
                  description: |-
                    Extra email addresses to send receipt to.
                    It should be set for an anonymous order, otherwise no receipt email will be sent.
                    This field is not allowed for payment of an invoice.
                  items:
                    $ref: "#/components/schemas/Email"
                trustlyAccount:
                  type: integer
                  description: |-
                    ID of the Trustly account to set.
                    Only relevant for Trustly payments, including the account allows for a quicker payment experience.
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link"

  "/api/ver3/services/generatelink/payforcustomeraccount":
    post:
      operationId: "services_generatelink_payforcustomeraccount_create"
      tags: [ "services/generatelink/payforcustomeraccount" ]
      summary: "Generated payment link"
      description: |-
        `ROLE_CUSTOMER`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customer
                - paymentMethod
                - returnUrl
              properties:
                customer:
                  type: integer
                  description: "ID of customer to pay off customer account"
                paymentMethod:
                  type: integer
                  description: "ID of payment method to use"
                returnUrl:
                  type: string
                  description: "Absolute url to return to after successful, failed or aborted payment"
                payerAlias:
                  allOf:
                    - $ref: "#/components/schemas/PhoneNumberIn"
                    - description: "Phone number to use for SWISH payment method"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated payment link. It includes the required hash value."
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/generatelink/registerdirectdebitconsentno":
    post:
      operationId: "services_generatelink_registerdirectdebitconsentno_create"
      tags: [ "services/generatelink/registerdirectdebitconsentno" ]
      summary: "Generate link to register Avtalegiro consent"
      description: |-
        `ROLE_CUSTOMER`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - company
                - customer
                - callbackUrl
              properties:
                company:
                  type: integer
                  description: "ID of company that will own the Avtalegiro consent"
                customer:
                  type: integer
                  description: "ID of customer to register Avtalegiro consent for"
                callbackUrl:
                  type: string
                  description: "Absolute url to return to after successful, failed or aborted Avtalegiro registration"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/generatelink/registertrustlyconsent":
    post:
      operationId: "services_generatelink_registertrustlyconsent_create"
      tags: [ "services/generatelink/registertrustlyconsent" ]
      summary: "Generate link to register a Trustly direct debit consent"
      description: |-
        `ROLE_CUSTOMER`
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessUnit
                - customer
                - returnUrl
              properties:
                businessUnit:
                  type: integer
                  description: "ID of facility that will own the Trustly direct debit consent"
                customer:
                  type: integer
                  description: "ID of customer to register the Trustly direct debit consent for"
                returnUrl:
                  type: string
                  description: "Absolute url to return to after successful, failed or aborted Trustly direct debit consent registration"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/generatelink/registercardconsent":
    post:
      operationId: "services_generatelink_registercardconsent_create"
      tags: [ "services/generatelink/registercardconsent" ]
      summary: "Generate link to register card consent"
      description: |-
        `ROLE_CUSTOMER`<br>
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessUnit
                - customer
                - returnUrl
              properties:
                businessUnit:
                  type: integer
                  description: "ID of business unit that will own the card consent"
                customer:
                  type: integer
                  description: "ID of customer to register card consent for"
                returnUrl:
                  type: string
                  description: "Absolute url to return to after successful, failed or aborted card consent registration"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RegisterCardConsent"
      security:
        - api3SecurityScheme: [ ]

  "/api/ver3/services/generatelink/vippslogin":
    post:
      operationId: "services_generatelink_vippslogin"
      tags: [ "services/generatelink/vippslogin" ]
      summary: "Generate link to initiate the Vipps login"
      description: |-
        `ROLE_ANONYMOUS`<br>
        This feature is enabled by the setting `useVippsLoginForSignup`.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessUnit
              properties:
                businessUnit:
                  type: integer
                  description: "ID of the customer's business unit"
      responses:
        201:
          description: "CREATED"
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    description: "Generated link to Vipps login"

  "/api/ver3/services/groupactivityinstructors":
    get:
      operationId: "services_groupactivityinstructors_get"
      tags: [ "services/groupactivityinstructors" ]
      summary: "List all active group activity instructors"
      description: |-
        `ROLE_ANONYMOUS`
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResourceOut"


  "/api/ver3/services/validate/ssn":
    get:
      operationId: "services_validate_ssn"
      tags: [ "services/validate/ssn" ]
      summary: "Validate ssn"
      parameters:
        - name: businessUnit
          description: "A business unit id must be provided to derive which format the ssn should have"
          in: path
          required: true
          schema:
            type: integer
        - name: ssn
          description: "The ssn to validate"
          in: path
          required: true
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SsnValidateOut"
              examples:
                swedishResponse:
                  summary: "Swedish SSN"
                  value:
                    isValid: true
                    existsInBrp: false
                    sex: "male"
                    birthDate: "1970-08-29"
                danishResponse:
                  summary: "Danish SSN"
                  value:
                    isValid: true
                    existsInBrp: false
                    sex: "male"
                    birthDate: "1936-10-11"
                croatianResponse:
                  summary: "Croatian SSN"
                  value:
                    isValid: true
                    existsInBrp: false
                    sex: null
                    birthDate: null

  "/api/ver3/services/personlookup":
    get:
      operationId: "services_personlookup_get"
      tags: [ "services/personlookup" ]
      summary: "Lookup person data from ssn"
      description: |-
        `ROLE_ANONYMOUS` - No authorization required
      parameters:
        - name: ssn
          description: "Ssn to find person for. Only Swedish person number is currently valid. Format YYMMDD-NNNN."
          in: query
          required: true
          schema:
            type: string
          example: "801216-0845"
        - name: businessUnit
          description: "A business unit id must be provided for the license check."
          in: query
          required: true
          schema:
            type: integer
          example: 1
        - name: maskOutput
          description: "Mask output of sensitive information to avoid abuse of person lookup. Defaults to false"
          in: query
          required: false
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PersonLookupOut"

  "/api/ver3/services/personlookupwithvipps":
    get:
      operationId: "services_personlookupwithvipps_get"
      tags: [ "services/personlookupwithvipps" ]
      summary: "Lookup person data from Vipps"
      description: |-
        `ROLE_ANONYMOUS`<br>
        This service enables person lookup from Vipps.
        This feature is enabled by the setting `useVippsLoginForSignup`.
      parameters:
        - name: businessUnit
          description: "Id of the customer's business unit"
          in: query
          required: true
          schema:
            type: integer
          example: 1
        - name: code
          description: "`code` from the Vipps login initiate response"
          in: query
          required: true
          schema:
            type: string
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VippsLookupData"

  "/api/ver3/services/postalcitylookup":
    get:
      operationId: "services_postalcitylookup_get"
      tags: [ "services/postalcitylookup" ]
      summary: "Get postal city corresponding to provided postal code and country"
      description: |-
        `ROLE_ANONYMOUS`
      parameters:
        - name: postalCode
          description: "Postal code to find postal city for"
          in: query
          required: true
          schema:
            type: string
        - name: country
          description: "Country id for country where postal city is situated"
          in: query
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PostalCityLookupOut"

  "/api/ver3/systemsettings":
    get:
      operationId: "systemsettings_list"
      tags: ["systemsettings"]
      summary: "List system settings"
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/SystemSettingItemOut"
                example:
                  - key: allowInternetCustomerRegistration
                    value: false
                  - key: appBaseFeaturesActive
                    value: true
                  - key: "..."
                    value: "..."

  "/api/ver3/webcategories":
    get:
      operationId: "webcategories_list"
      tags: ["webcategories"]
      summary: "List all web categories"
      parameters:
        - name: type
          description: "Which kind of web categories to show. Defaults to `web`."
          in: query
          required: false
          schema:
            type: string
            enum:
              - app
              - web
        - name: allowMultipleCompaniesAndBusinessUnits
          description: "Determines whether multiple business units or companies should be returned"
          required: false
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WebCategoryOut"

  "/api/ver3/webcategories/{id}":
    get:
      operationId: "webcategories_get"
      tags: ["webcategories"]
      summary: "Show a specific web category"
      parameters:
        - name: id
          description: "Web category ID"
          in: path
          required: true
          schema:
            type: integer
        - name: allowMultipleCompaniesAndBusinessUnits
          description: "Determines whether multiple business units or companies should be returned"
          required: false
          in: query
          schema:
            type: boolean
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WebCategoryOut"

  "/api/ver3/webcategories/{webCategory}/products":
    get:
      operationId: "webcategories_products_list"
      tags: ["webcategories/products"]
      summary: "Lists all products within a web category"
      parameters:
        - name: webCategory
          description: "Web category ID"
          in: path
          required: true
          schema:
            type: integer
        - name: businessUnit
          description: "Business unit ID. Calculate price with its price list."
          in: query
          required: false
          schema:
            type: integer
        - name: customer
          description: "Customer ID. Calculate price with customer's price lists."
          in: query
          required: false
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    products:
                      allOf:
                        - $ref: "#/components/schemas/ProductListOut"
                        - description: |-
                            All products in the web category (excluding variable products).
                            The product type, of items in this list, are the same as the product type of the web category.
                    variableProducts:
                      type: array
                      description: |-
                        All variable products in the web category.
                        The product type, the variable products in this list, are the same as the product type of the web category.
                      items:
                        $ref: "#/components/schemas/ArticleProductOut"
                    sortOrder:
                      type: array
                      description: "All product IDs in the order they should be sorted"
                      items:
                        type: integer

  "/api/ver3/webcategories/{webCategory}/resources":
    get:
      operationId: "webcategories_resources_list"
      tags: ["webcategories/resources"]
      summary: "List resources applicable for products within a web category"
      description: Only web categories of product type `GROUP_ACTIVITY` are supported here.
      parameters:
        - name: webCategory
          description: "Web category ID to list resources for"
          in: path
          required: true
          schema:
            type: integer
      responses:
        200:
          description: "OK"
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WebCategoryResourceOut"


components:
  schemas:
    "AddressOut":
      type: object
      description: "Address"
      properties:
        street:
          type: string
          description: "Street name"
        city:
          type: string
          description: "City name"
        postalCode:
          type: integer
          description: "Postal code"
        country:
          allOf:
            - $ref: "#/components/schemas/CountryOutRef"
            - description: "Country reference"
      example:
        street: "Teknikringen 7"
        city: "Linkping"
        postalCode: 58336
        country:
          id: 205
          alpha2: "SE"
          name: "Sverige"

    "AppOut":
      type: object
      description: "App configuration"
      properties:
        id:
          type: integer
          description: "Unique ID"
        appName:
          type: string
          description: "App name"
        showMyPages:
          type: boolean
          description: "If 'My Pages' should be visible for the App"
        showMobilePassageTryPage:
          type: boolean
          description: "If 'Mobile Passage Try' should be visible for the App"
        showOnlyStaffView:
          type: boolean
          description: "If 'Staff View' should be the only visible part of the App"
        showClassesInBottomMenu:
          type: boolean
          description: "Show 'Classes' in the bottom menu"
        showEntranceResultInFullScreen:
          type: boolean
          description: "Show successful entrance result in full screen instead of a toast message in the app"
        enablePaymentLinkPage:
          type: boolean
          description: "If payments are enabled through payment links"
        enableCustomerWeb:
          type: boolean
          description: "If the customer web is enabled"
        enableCookieConsent:
          type: boolean
          description: "True, if the cookie consent question should be shown in the app"
        enableSocialEngagement:
          type: boolean
          description: "True, if the Social engagement feature is enabled in the app"
        enableDiscoveryOnDemand:
          type: boolean
          description: "True, if the Discovery/On-demand feature is enabled in the app"
        texts:
          type: object
          description: "Translated texts"
          properties:
            appSlogan:
              type: string
              description: "Slogan for the customer app"
            webSlogan:
              type: string
              description: "Slogan for the customer web"
            loginGreeting:
              type: string
              description: "Greeting for the login page"
            usernamePlaceholder:
              type: string
              description: "Placeholder text in the username input filed"
            toHomePage:
              type: string
              description: "Text for buttons that shall navigate to a home page"
            toExplorePage:
              type: string
              description: "Text for buttons that shall navigate to the explore page"
            webCategoryShortcuts:
              type: string
              description: "Text for the web category shortcuts button"
        themes:
          type: object
          description: "Theme configuration for `light` and `dark` themes"
          properties:
            light:
              type: object
              description: "Configuration for light theme"
              properties:
                primaryColor:
                  allOf:
                    - $ref: "#/components/schemas/ColorOut"
                    - description: "Primary color"
                primaryFont:
                  type: object
                  description: "Primary font"
                  properties:
                    family:
                      type: string
                      description: "Font family"
            dark:
              type: object
              description: "Configuration for dark theme"
              properties:
                primaryColor:
                  allOf:
                    - $ref: "#/components/schemas/ColorOut"
                    - description: "Primary color"
                primaryFont:
                  type: object
                  description: "Primary font"
                  properties:
                    family:
                      type: string
                      description: "Font family"
        appSettings:
          type: array
          description: "Settings for the app"
          items:
            $ref: "#/components/schemas/SystemSettingItemOut"
        displayedTimeZone:
          type: string
          description: "Displayed timezone is used for picking a non default client timezone to be used and conditionally **displayed** in the app and web, it supports the 'Europe/Stockholm' and 'UTC+2' format."
        businessUnits:
          type: array
          description: "Business units that the app is used for. Including units from selected companies."
          items:
            $ref: "#/components/schemas/BusinessUnitOut"
        webCategories:
          type: array
          description: "Web categories that are included for this app"
          items:
            $ref: "#/components/schemas/WebCategoryOut"
        assets:
          type: array
          description: "List of assets related to this app. Contains `LOGO`, `FAVICON` and `MAIN` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        streamer:
          type: object
          description: "Streamer configuration. Is only included if `streamer.text` has a value."
          properties:
            text:
              type: string
              description: "Text to show"
            backgroundColor:
              allOf:
                - $ref: "#/components/schemas/ColorOut"
                - description: "Color to use as background"
            url:
              type: string
              description: "URL to navigate to when user clicks the streamer"
        currency:
          type: object
          description: "Configuration for how to show currency"
          properties:
            code:
              type: string
              description: "Currency code. Eg. `SEK`, `NOR` and `EUR`."
            displayText:
              type: string
              description: "Display text for currency. Eg. `kr`, `$` and ``."
            displayPosition:
              type: string
              description: "Position of display text"
              enum: ["BEFORE", "AFTER"]
        tracking:
          type: object
          description: "Tracking configuration"
          properties:
            googleTagManagerId:
              type: string
              description: "ID of Google Tag Manager to use"
        newsletter:
          type: object
          description: "Newsletter configuration"
          properties:
            subscribeUrl:
              type: string
              description: "Newsletter subscribe URL"
        downloadLinks:
          type: object
          description: "Download links configuration"
          properties:
            appStoreUrl:
              type: string
              description: "App Store URL"
            playStoreUrl:
              type: string
              description: "Play Store URL"
            deepLinkUrl:
              type: string
              description: |-
                This is a deeplink url that can be used to download the app in mobile responsive views.
                It will redirect to the App Store or Play Store based on the device.
            twiikLinkUrl:
              type: string
              description: |-
                This is a url that customer's can configure, and then use to link to their particular twiik app installation.
        languages:
          type: array
          description: "List of available ISO language codes, conforming to the ISO 639-1 standard"
          items:
            type: string

    "ArticleProductOut":
      type: object
      description: "Article product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product"
        properties:
          type: array
          description: "Product property values on this product"
          items:
            $ref: "#/components/schemas/ProductPropertyOutRef"

    "AssetOut":
      type: object
      description: "Asset details and metadata"
      properties:
        reference:
          type: string
          description: "This identifier is the same for all resolutions of an image"
        type:
          type: string
          description: "Place where the image should be used. E.g. an App may have both `FAVICON`, `LOGO` and `MAIN` images."
          enum:
            - FAVICON
            - LOGO
            - INFO
            - MAIN
            - CENTERED
        contentType:
          type: string
        contentUrl:
          type: string
        imageWidth:
          type: integer
        imageHeight:
          type: integer

    "Capacity":
      type: object
      description: "Available capacity left for a resource. resourceId: Number, availableCapacity: Number"
      properties:
        resourceId:
          type: integer
          description: "Resource ID"
        availableCapacity:
          type: integer
          description: "Available capacity in resource"

    "AuthLoginOut":
      type: object
      description: "Auth login response"
      properties:
        access_token:
          type: string
          description: "The token to use when requesting protected resources"
        expires_in:
          type: integer
          description: "Time in milliseconds"
        refresh_token:
          type: string
          description: "Token to use to create a new access token when current access token has expired"
        roles:
          type: array
          description: "User roles"
          items:
            type: string
            enum:
              - ROLE_ANONYMOUS
              - ROLE_CUSTOMER
              - ROLE_EMPLOYEE
              - ROLE_INTEGRATOR
        token_type:
          type: string
          description: "Is always `Bearer`"
        username:
          type: string
          description: "Customer ID that the token is valid for"
      example:
        username: "4711"
        roles: ["ROLE_CUSTOMER"]
        token_type: "Bearer"
        access_token: "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4MCIsImV4...WW-j6E"
        expires_in: 315360000
        refresh_token: "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI4MCIsIml...RusF3g"

    "AuthTokenOut":
      type: object
      description: "Token by integrator response"
      properties:
        customer:
          type: string
          description: "ID of customer that the token belongs to"
        tokenType:
          type: string
          description: "Is always `Bearer`"
        accessToken:
          type: string
          description: "The generated access token for the given customer"
        expiresIn:
          type: integer
          description: "Time in milliseconds"
        refreshToken:
          type: string
          description: "Token to use to create a new access token when current access token has expired"

    "AuthValidateOut":
      type: object
      description: "Auth validate response"
      properties:
        access_token:
          type: string
          description: "The token to use when requesting protected resources"
        expires_in:
          type: integer
          description: "Time in milliseconds"
        roles:
          type: array
          items:
            type: string
          description: "User roles. Any of `ROLE_ANONYMOUS`, `ROLE_CUSTOMER`, `ROLE_EMPLOYEE` and `ROLE_INTEGRATOR`"
        token_type:
          type: string
          description: "Is always `Bearer`"
        username:
          type: string
          description: "Customer ID that the token is valid for"

    "BankAccountIn":
      type: object
      description: "Bank account"
      properties:
        clearingNumber:
          type: string
          description: "Clearing number"
        accountNumber:
          type: string
          description: "Account number"
      example:
        clearingNumber: "3300"
        accountNumber: "9406083023"

    "BankAccountOut":
      type: object
      description: "Bank account"
      properties:
        bankName:
          type: string
          description: "Name of the bank"
        clearingNumber:
          type: string
          description: "Clearing number"
        accountNumber:
          type: string
          description: "Account number"
      example:
        bankName: "Nordea, Personkonton"
        clearingNumber: "3300"
        accountNumber: "9406083023"

    "BankClearing":
      type: string
      description: "Must be between 4 and 5 digits."
      example: "3300"

    "BenefitStatusOutRef":
      type: object
      description: "Reference object for benefit status"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"

    "BankIdentifierCodesOut":
      type: object
      description: "Object for a bank identifier code"
      properties:
        id:
          type: integer
          description: "Unique ID"
        code:
          type: string
          description: "Code"
          example: "APESAPES"
        name:
          type: string
          description: "Name of the bank"
          example: "Bank of Monke"
        country:
          type: string
          description: "Alpha-2 country code"
          example: "fi"

    "BusinessUnitsEventOut":
      type: object
      description: "Object for a business unit event."
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Event name"
        duration:
          allOf:
            - $ref: "#/components/schemas/Duration"
        bookingPeriod:
          allOf:
            - $ref: "#/components/schemas/TimeRange"
            - description: "During which time period it can be booked"
        eventProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it is based on"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "The business unit which it belongs to"
        description:
          type: string
          description: "The description of the event"
        information:
          type: string
          description: "Additional information regarding the event"
        slots:
          allOf:
            - $ref: "#/components/schemas/Slots"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for attending the event"
        occasions:
          allOf:
            - $ref: "#/components/schemas/Occasions"
        minimumAge:
          type: integer
          description: "Minimum age for participating in the event"
        registerParticipantAsPerson:
          type: boolean
          description: "If true, each participant without connected person will automatically 
                        be registered as a person in the system when booking this event. 
                        Each participant must also have a unique connected person."
        bookerAsParticipantOnWebPerDefault:
          type: boolean
          description: "Default value of if the booker should be set as the participant for the event"

    "BusinessUnitOut":
      type: object
      description: "Business unit"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company to which the business unit belongs"
        companyNameForInvoice:
          type: string
          description: "Legal name of company used in invoices"
        address:
          allOf:
            - $ref: "#/components/schemas/AddressOut"
            - description: "Physical address"
        location:
          type: string
          description: "Country code. https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2"
        region:
          allOf:
            - $ref: "#/components/schemas/RegionOutRef"
            - description: "Region to which the business unit belongs"
        currency:
          type: string
          description: "Local currency"
        releaseSuspensionProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product required to release suspension for a customer"
        settings:
          type: object
          properties:
            allowCancelServiceBooking:
              type: boolean
              description: "If it's allowed to cancel a service booking"
            allowCancelDebitedServiceBooking:
              type: boolean
              description: "If it's allowed to cancel a debited service booking (will not give potential refund)"
            allowDuplicateEmail:
              type: boolean
              description: "If it's allowed for two different customers to have the same email address"
            allowFreeze:
              type: boolean
              description: "If it's allowed to freeze a subscription. Note: This setting won't be considered if freeze rules are used in subscription product."
            allowRegistrationWithoutAddress:
              type: boolean
              description: "Allows a customer to register without specifying shipping address"
            allowRegistrationWithoutMobile:
              type: boolean
              description: "Allows a customer to register without specifying mobile number"
            allowRegistrationWithoutSex:
              type: boolean
              description: "Allows a customer to register without specifying gender"
            allowRegistrationWithoutSsnOrBirthDate:
              type: boolean
              description: "Allows a customer to register without specifying ssn or birthdate (is overridden by `requireSsnForCustomerRegistration` or age limitations on product)"
            allowSetParticipantsForEvent:
              type: boolean
              description: "If it's allowed to book others to an event. Otherwise, one may only book oneself."
            buySubscriptionsForOtherUsersInMobility:
              type: boolean
              description: |-
                A customer can buy a subscription for someone else.
                They can send an invitation link so that the user (adults) can register on their own,
                or if the user is a child (for which the buyer is the legal guardian) add the personal information.
            debitFrozenSubscription:
              type: boolean
              description: "If frozen subscription shall be debited during binding period"
            enableEventDebooking:
              type: boolean
              description: "Enable cancellation of event bookings"
            enableMobileCheckin:
              type: boolean
              description: "enableMobileCheckin"
            maxFreezePeriod:
              type: integer
              description: "Maximum length of freeze period in months"
            minFreezePeriod:
              type: integer
              description: "Minimum length of freeze period in months"
            registerCustomerMinAge:
              type: integer
              description: |-
                Minimum allowed age for registration. `null` if setting "Use age limit" is disabled.
            requireSsnForCustomerRegistration:
              type: boolean
              description: "If customers need to provide their ssn when registering"
            showBookingTerms:
              type: boolean
              description: "If booking terms should be shown when booking (group activity, service or event)"
            showCustomerImage:
              type: boolean
              description: "If customer image should be shown on app v3"
            showMessageFieldInCart:
              type: boolean
              description: "If it's allowed to leave message on order"
            showSubscriptionTerm:
              type: boolean
              description: "If subscription terms should be shown when purchasing new subscriptions"
            signAutogiroMinAge:
              type: integer
              description: "Minimum allowed age for signing direct debit consent"
            useFreezeReason:
              type: boolean
              description: "If freeze reason must be provided when freezing a subscription"
            useTerminationReason:
              type: boolean
              description: "If termination reason must be provided when terminating a subscription"
            youthMaxAge:
              type: integer
              description: "Customer must be younger than this age to belong to the `Youth` customer type."
            ageAvoidParentalConsent:
              type: integer
              description: "Customers younger than this age should have a parental consent to register."
            requireAcceptRegTermsIfNotDoneAfter:
              allOf:
                - $ref: "#/components/schemas/Day"
                - description: "Customers that have accepted the registration terms before this day should accept them again."
            useGdprTools:
              type: boolean
              description: "If the business unit has a license for GDPR-tools."
            groupActivitiesEnabledApp3:
              type: boolean
              description: "If the business unit has enabled group activities for app v3."
            mobilePassageTryEnabled:
              type: boolean
              description: "If the business unit has enabled passage for app v3."
            beaconIdentifier:
              type: string
              description: "Identifier for iBeacon used for app v3 passage try."
            beaconUUID:
              type: string
              description: "UUID for iBeacon used for app v3 passage try."
            enableAppMyPages:
              type: boolean
              description: "If the business unit has enabled my pages for app v3."
            enableWaitingListForFamilyBookings:
              type: boolean
              description: "If the waiting list is enabled for family bookings"
            appModeEnabled:
              type: boolean
              description: "If the business unit has enabled app mode for customer web."
            useEntryWebCategory:
              type: boolean
              description: "If the business unit has enabled web category of type Entry for customer web."
            useRecurringPayment:
              type: boolean
              description: "If recurring card payments is activated."
            pushNotificationsEnabled:
              type: boolean
              description: "If push notifications are activated."
            allowReleaseSuspension:
              type: boolean
              description: "If the business unit has enabled the possibility to release suspension for a customer"
            allowCancellationOfEntrances:
              type: boolean
              description: "If enabled, allow cancellation of entry bookings via the internet."
            allowRefundOfEntrancesUntil:
              type: integer
              description: "Allow refund of entrances until x minutes before the slot/day of the entrance. Refund is disabled if no value is set. If the value is 0, refund is possible until the start of the entrance slot."
            useFinvoiceReceiverProposal:
              type: boolean
              description: "If business unit uses receiver proposal data."
            underskriftBeforePurchase:
              type: boolean
              description: "If the agreement should be signed before payment."
            changeEmailOnWeb:
              type: boolean
              description: "If the customer can change their email on customer web"
            changeFirstNameOnWeb:
              type: boolean
              description: "If the customer can change their first name on customer web"
            changeLastNameOnWeb:
              type: boolean
              description: "If the customer can change their last name on customer web"
            changeBirthDateOnWeb:
              type: boolean
              description: "If the customer can change their birthdate on customer web"
            qrCodeMobilePassage:
              type: boolean
              description: "Enable scanning QR codes with the mobility app for passage"
            requireEmailConfirmationOnEntry:
              type: boolean
              description: "If the customer is required to confirm their email address when purchasing entries on customer web"
            hideInvalidValueCards:
              type: boolean
              description: "If customer web should show invalid value cards on my pages"
            daysBetweenSwitchingPassageDevice:
              type: integer
              description: "Number of days that must pass before being able to switch device used for passage."
            allowRegionInBuApiEndpoint:
              type: boolean
              description: "If API3 allows region filter in business unit requests"
            useWaitingListForPaidClasses:
              type: boolean
              description: "If customer web should show invalid value cards on my pages"
            useExorlive:
              type: boolean
              description: "If customer is allowed to use exorlive."
            arriveInterval:
              allOf:
                - $ref: "#/components/schemas/IntegerRangeApi3Out"
                - description: "Check off interval for classes [minutes from start]."
            useVippsLoginForSignup:
              type: boolean
              description: "If the business unit has enabled the possibility to fetch person data from Vipps"
            vippsLoginRedirectUrl:
              type: string
              description: "The redirect URL to use for Vipps signup flow"
            mobilityAllowProfileImageUpload:
              type: boolean
              description: "If enabled, let users upload their own profile image from the app"
            prioritizeWaitingListAtNoshowsRelease:
              type: boolean
              description: "This setting enables that customers on waiting list will automatically be booked to the class, prior to releasing the no-shows to dropins."
            cardReaderForParticipantCheckinPassageTry:
              allOf:
                - $ref: "#/components/schemas/CardReaderApi3Ref"
                - description: "Card reader for manually checked-in participants, when no reader is chosen"
            allowPayInvoiceWithStateDebtCollection:
              type: boolean
              description: "If enabled, allow payment of invoice with status 'Collection agency'"
            allowPayInvoiceWithStateReminderService:
              type: boolean
              description: "If enabled, allow payment of invoice with status 'Reminder service'"
            ageLimitForRCP:
              type: integer
              description: "Minimum allowed age for buying an RCP subscription"
            bluetoothMobilePassage:
              type: boolean
              description: "Enable bluetooth passages from the Mobility app"
            licensePackagingCoachModule:
              type: boolean
              description: "Enable the addon Go Active! Coach module in the mobility app"
            licensePackagingOnlineTrainingModule:
              type: boolean
              description: "Enable the addon Go Active! Online training module in the mobility app"
            useTechnogymEnterprise:
              type: boolean
              description: "Enable Technogym Enterprise features"
        hasRegisterUnitForInternet:
          type: boolean
          description: "Whether business unit has an associated internet register"

    "BusinessUnitOutRef":
      type: object
      description: "Reference object for business unit"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
        location:
          type: string
          description: "Country code of country where the business unit is"
        companyNameForInvoice:
          type: string
          description: "Name of company to use in invoices"
      example:
        id: 1
        name: "Facility 1"
        location: "SE"
        companyNameForInvoice: "Our Company"

    "BookingTypeOut":
      type: string
      description: "Can be either `groupActivityBooking` or `waitingListBooking`"
      example: "groupActivityBooking"
      enum:
        - groupActivityBooking
        - waitingListBooking

    "CountryOut":
      type: object
      description: "Country Object"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Localized country name"
        alpha2:
          type: string
          description: "Country code. https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2"
        phoneCountryCode:
          type: integer
          description: "Prefix for phone numbers. https://en.wikipedia.org/wiki/List_of_country_calling_codes"

    "CalendarInstructionOut":
      type: object
      description: "Calender instructions response"
      properties:
        icsLink:
          type: string
          format: url
          description: "ICS link"
        webCalLink:
          type: string
          format: url
          description: "WebCal link"
      example:
        icsLink: "https://example.brpsystems.com/api/ver3/services/calendar?token=..."
        webCalLink: "webcal://example.brpsystems.com/api/ver3/services/calendar?token=..."

    "CardConsentOut":
      type: object
      description: "Card consent"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that card consents belongs to"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that card consents belongs to"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that card consents belongs to"
        expirationDay:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Consent expiration day"
        cardNumber:
          type: string
          description: "Masked credit card number"
          example: "431940.......678"
        issuingNetwork:
          type: string
          description: "Credit card issuer. Eg. `American Express`, `Dankort`, `Maestro`, `MasterCard` and `VISA`."
          example: "VISA"

    "CardConsentOutRef":
      type: object
      description: "Reference object for card consent"
      properties:
        id:
          type: integer
          description: "Unique ID"

    "CardReaderApi3Ref":
      type: object
      description: "Reference object for card reader"
      properties:
        id:
          type: integer
          description: "Card reader ID"
        name:
          type: string
          description: "Card reader name"

    "CardReaderApi3Out":
      type: object
      description: "Card reader"
      properties:
        id:
          type: integer
          description: "Card reader ID"
        name:
          type: string
          description: "Card reader name"
        displayName:
          type: string
          description: "Card reader display name"
        usedForAttendance:
          type: boolean
          description: "Card reader's availability for the check-in process"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit where card reader is placed"

    "ChildOut":
      type: object
      description: "Child account details"
      properties:
        id:
          type: integer
          description: "Id of the created or existed user"
        created:
          type: boolean
          description: "True if new user is created false otherwise"
      example:
        id: 1
        created: true

    "CommonErrorOut":
      type: object
      description: "Common error. Read more at [Common error](#overview--common-error)"
      properties:
        errorCode:
          type: string
          description: "Any of the [Error codes](#overview--error-codes)"
      additionalProperties:
        type: string
        description: "Additional properties depends on the error code"

    "CompanyOut":
      type: object
      description: "Company"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Company name"
        organizationNumber:
          type: string
          description: "Organization number"
        directDebitAccountNumber:
          type: string
          description: "Direct debit account number (Swedish Bankgiro AG)"
        settings:
          type: object
          properties:
            useDirectDebitNoWebRegistration:
              type: boolean
              description: "True if the Norwegian direct debit web registration is enabled"
            requireSsnForPrepaidSubscriptions:
              type: boolean
              description: "The payer will be required to enter their SSN when they buy a prepaid subscription."
            requireSsnForRecurringSubscriptions:
              type: boolean
              description: "The payer will be required to enter their SSN when they buy a recurring subscription."
      example:
        id: 1
        name: "Our Company"
        organizationNumber: "551010-1016"
        directDebitAccountNumber: "123456789"
        settings:
          useDirectDebitNoWebRegistration: false

    "ColorOut":
      type: string
      description: "Color in HEX format"
      example: "#ff003c"

    "CompanyOutRef":
      type: object
      description: "Reference object for company"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
      example:
        id: 1
        name: "Our Company"

    "CountryOutRef":
      type: object
      description: "Reference object for country"
      properties:
        id:
          type: integer
          description: "Unique ID"
        alpha2:
          type: string
          description: "Country code. https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2"
          example: "SE"
        name:
          type: string
          description: "Localized country name"
          example: "Sverige"

    "CustomerDeviceOut":
      type: object
      description: "Customer device"
      properties:
        id:
          type: integer
          description: "Unique ID"
        platform:
          type: string
          description: "Platform name (`ios` or `android`)"
        deviceId:
          type: string
          description: "Unique ID of device"
        deviceModel:
          type: string
          description: "Name of device model"
        manufacturer:
          type: string
          description: "Name of device manufacturer"
        firebaseToken:
          type: string
          description: "Firebase token"
        lastBecamePrimary:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when device became primary device used for passage"

    "CustomerEventOfferOut":
      type: object
      description: "Customer event offer"
      properties:
        id:
          type: integer
          description: "Unique ID"
        participant:
          allOf:
            - $ref: "#/components/schemas/ParticipantOutRef"
            - description: "Participant for which the offer applies"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Event product for which the offer applies"
        validUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "The offer is valid until"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit where the event offer is valid"
      example:
        - id: 1
          participant:
            id: null
            firstName: "Olga"
            lastName: "Ordinarie"
            customer: 79
            ssn: "940608-3023"
            birthDate: "1994-06-08"
          product:
            id: 76
            name: "Tenniskurs f\u00f6r nyb\u00f6rjare"
          validUntil: "2022-11-07"
          businessUnit:
            id: 1
            name: "Anl\u00e4ggning 1"
            location: "SE"
            companyNameForInovice: "Bolag 1"
        - id: 2
          participant:
            id: null
            firstName: "Ulla"
            lastName: "Ungdom"
            customer: 84
            ssn: "101010-9302"
            birthDate: "2010-10-10"
          product:
            id: 76
            name: "Tenniskurs f\u00f6r nyb\u00f6rjare"
          validUntil: "2022-11-07"
          businessUnit:
            id: 1
            name: "Anl\u00e4ggning 1"
            location: "SE"
            companyNameForInovice: "Bolag 1"

    "CustomerMemberClubOut":
      type: object
      description: "Customer member club"
      properties:
        id:
          type: integer
          description: "Unique ID"
        state:
          type: string
          description: "State of member club"
          enum:
            - REGISTER
            - DELETE

    "CustomerOut":
      type: object
      description: "Customer"
      properties:
        id:
          type: integer
          description: "Unique ID"
        firstName:
          type: string
          description: "First name"
        lastName:
          type: string
          description: "Last name"
        sex:
          allOf:
            - $ref: "#/components/schemas/GenderOut"
            - description: "Gender"
        ssn:
          type: string
          description: "Personal identity number"
        birthDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Day of birth"
        shippingAddress:
          allOf:
            - $ref: "#/components/schemas/AddressOut"
            - description: "Address for physical mail"
        billingAddress:
          allOf:
            - $ref: "#/components/schemas/AddressOut"
            - description: "Address for invoice"
        email:
          allOf:
            - $ref: "#/components/schemas/Email"
            - description: "Email address"
        mobilePhone:
          allOf:
            - $ref: "#/components/schemas/PhoneNumberOut"
            - description: "Mobile phone number"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit the customer belongs to"
        customerType:
          allOf:
            - $ref: "#/components/schemas/CustomerTypeOutRef"
            - description: "The customer's customer type"
        customerTypeEndDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Until which date the current customer type will be valid"
        customerNumber:
          type: string
          description: "Unique identifier number"
        cardNumber:
          type: string
          description: "Number of the customer's membership card"
        acceptedBookingTerms:
          type: boolean
          description: "True if the customer has accepted the booking terms"
        acceptedSubscriptionTerms:
          type: boolean
          description: "True if the customer has accepted the subscription terms"
        acceptedRegistrationTerms:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when the registration terms was accepted"
        profileImage:
          allOf:
            - $ref: "#/components/schemas/DocumentOutRef"
            - description: "Profile image"
        benefitStatus:
          allOf:
            - $ref: "#/components/schemas/BenefitStatusOutRef"
            - description: "Benefit status"
        memberJoinDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Member since"
        allowMassSendEmail:
          type: boolean
          description: "Allow mass sending of email"
        allowMassSendMail:
          type: boolean
          description: "Allow mass sending of letter"
        allowMassSendSms:
          type: boolean
          description: "Allow mass sending of sms"
        consents:
          type: array
          items:
            $ref: "#/components/schemas/ConsentTypeOutRef"
          description: "List of consents that are active for the customer"
        temporary:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when customer was registered as a temporary customer"
        trainAwayGymId:
          type: string
          description: |-
            This is a gym ID provided by TrainAway. It will be an empty string if a person does not have access to
            train away. The property will not be include if the gym ID is empty.
        justFaceLocationId:
          type: string
          description: |-
            This is a gym ID provided by JustFace. The property will not be include if the gym ID is empty.
        lastPasswordChangedTime:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when the customer changed its password"
        familyMembers:
          type: array
          items:
            $ref: "#/components/schemas/CustomerOutRef"
          description: "List of family members of the customer's family subscription"
        suspended:
          type: boolean
          description: "True if the customer is suspended"
        suspendedReason:
          type: string
          description: "If the customer is suspended, the reason for the suspension"
        hasMembership:
          type: boolean
          description: "True if the customer has a membership"
        organization:
          allOf:
            - $ref: "#/components/schemas/OrganizationOutRef"
            - description: "The customer's organization"
        organizationConnectionEndDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Until which day the customer - organization link will be valid"

    "CustomerOutRef":
      type: object
      description: "Reference object for customer"
      properties:
        id:
          type: integer
          description: "Unique ID"
        firstName:
          type: string
          description: "First name"
        lastName:
          type: string
          description: "Last name"
      example:
        id: 1
        fistName: "John"
        lastName: "Smith"

    "CustomerTypeOut":
      type: object
      description: "Customer type"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name (localized)"
        priceList:
          allOf:
            - $ref: "#/components/schemas/PriceListOutRef"
            - description: "Price list that will be used when a customer has this customer type"
        upperAgeLimit:
          type: integer
          description: "Upper age limit of the customer type. This limit is exclusive, meaning it includes ages up to but not including the specified limit."
        lowerAgeLimit:
          type: integer
          description: "Lower age limit of the customer type. This limit is inclusive, meaning it includes the specified age and all ages above it."
      example:
        id: 2
        name: "Student"
        priceList:
          id: 45
          name: "Student 50%"

    "CustomerSubscriptionFamilyOut":
      type: object
      description: "Subscription family"
      properties:
        totalSlots:
          type: integer
          description: "Maximum number of users in the family subscription"
        users:
          type: array
          items:
            $ref: "#/components/schemas/UserData"
          description: "Users of the family subscription"
        invitations:
          type: array
          items:
            $ref: "#/components/schemas/InvitationData"
          description: "Issued invitations to the family subscription"
      example:
        totalSlots: 10
        users:
          - id: 1
            person:
              id: 221
              firstName: "Sherlock"
              lastName: "Holmes"
            userType: "PAYER"
        invitations:
          - id: 1
            invitationToken: "90c062ef-081c-4a17-a625-49b457ce7e1e"
            inviteeFirstName: "Mrs"
            inviteeLastName: "Hudson"
            email: "mrs.hudson@gmail.com"
            created: "2025-07-11"

    "CustomerTypeOutRef":
      type: object
      description: "Reference object for customer type"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name (localized)"
      example:
        id: 2
        name: "Student"

    "CustomerTypeWithPriceOut":
      type: object
      description: "Customer type reference object with corresponding price"
      properties:
        customerType:
          allOf:
            - $ref: "#/components/schemas/CustomerTypeOutRef"
            - description: "Customer type reference object"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price"
      example:
        customerType:
          id: 2
          name: "Student"
        price:
          amount: 250
          currency: "SEK"

    "CustomerValueCardOut":
      type: object
      description: "Customer value card"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: integer
          description: "Value card Number"
        validCardProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it is based on"
        validForProducts:
          type: array
          description: "Products which can be purchased/booked with this value card"
          items:
            $ref: "#/components/schemas/ProductOutRef"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that it belongs to"
        type:
          type: string
          description: "Set to `AMOUNT` if it holds an amount of local currency. Set to `UNIT `if it holds a number of units"
          enum: ["AMOUT", "UNIT"]
        allowNegativeUnits:
          type: boolean
          description: "True if `type = UNIT` and number of units to use is unlimited"
        unitsLeft:
          type: integer
          description: "Number of units left to use"
        amountLeft:
          type: integer
          description: "Amount of local currency left to use"
        validUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Date when the value card expires"
        isValid:
          type: boolean
          description: "True if value card is valid to be used"

    "CustomerWorkoutOut":
      type: object
      description: "Customer workout"
      properties:
        id:
          type: integer
          description: "Unique ID"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit connected to workout"
        name:
          type: string
          description: "Name of workout"
        timepoint:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "When the workout was done"
      example:
        id: 4
        businessUnit:
          id: 1
          name: "Anl\u00e4ggning 1"
          location: "SE"
          companyNameForInvoice: "Bolag 1"
        name: "Tr\u00e4nat"
        timepoint: "2022-10-04T01:00:00.000Z"

    "CustomerWorkoutSummaryOut":
      type: object
      description: "Work out year summary Response"
      properties:
        year:
          type: integer
          description: "For which year this summary is"
        jan:
          type: integer
          description: "Workouts attended in January"
        feb:
          type: integer
          description: "Workouts attended in February"
        mar:
          type: integer
          description: "Workouts attended in Mars"
        apr:
          type: integer
          description: "Workouts attended in April"
        may:
          type: integer
          description: "Workouts attended in May"
        jun:
          type: integer
          description: "Workouts attended in June"
        jul:
          type: integer
          description: "Workouts attended in July"
        aug:
          type: integer
          description: "Workouts attended in August"
        sep:
          type: integer
          description: "Workouts attended in September"
        oct:
          type: integer
          description: "Workouts attended in October"
        nov:
          type: integer
          description: "Workouts attended in November"
        dec:
          type: integer
          description: "Workouts attended in December"
        total:
          type: integer
          description: "Workouts attended during the whole year"
      example:
        year: 2022
        jan: 0
        fen: 0
        mar: 0
        apr: 0
        may: 0
        jun: 0
        jul: 0
        aug: 0
        sep: 0
        oct: 0
        nov: 0
        dec: 0
        total: 0

    "ConsentTemplateOut":
      type: object
      description: "Consent template"
      properties:
        id:
          type: integer
          description: "Unique ID"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit"
        title:
          type: string
          description: "Title of the consent"
        body:
          type: string
          description: "Message body of the consent"
        language:
          allOf:
            - $ref: "#/components/schemas/LanguageCodeOut"
            - description: "Language of title and body"
        type:
          allOf:
            - $ref: "#/components/schemas/ConsentTypeOutRef"
            - description: "Type of consent"

    "ConsentTypeOut":
      type: object
      description: "Consent type"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name of the consent type"
        type:
          type: string
          description: "The type of consent. E.g. `PUSH`, `MAIL`, `SMS` etc."
        title:
          type: string
          description: "Title of the associated consent template"
        canBeGivenInAPI:
          type: boolean
          description: "If the consent can be given through the API"
        canBeTakenBackInAPI:
          type: boolean
          description: "If the consent can be revoked through the API"
      example:
        id: 2
        name: Mass sending of email
        type: EMAIL
        title: Accept email
        canBeGivenInAPI: true
        canBeTakenBackInAPI: false

    "ConsentTypeOutRef":
      type: object
      description: "Reference object for consent type"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"

    "CurrencyOut":
      type: object
      description: "Amount with currency"
      properties:
        amount:
          type: integer
          description: "Amount in cents"
        currency:
          type: string
          description: "Currency. From the business unit that current object is related to. Eg. `SEK`, `EUR`, `NOK`, `HRK` and `PLN`."
      example:
        amount: 19900
        currency: "SEK"

    "Duration":
      type: object
      description: "Duration of an event"
      properties:
        start:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "First day of the event"
        end:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Last day of the event"
      example:
        start: "2022-09-25T22:00:00.000Z"
        end: "2022-10-16T22:00:00.000Z"

    "Addition" :
      type: object
      description: "Addition information"
      properties:
        parentItemId:
          type: integer
          description: "Parent order item id"
        mandatory:
          type: boolean
          description: "Is a mandatory addition or not"

    "Day":
      type: string
      format: date
      description: "Date"
      example: "2022-09-19"

    "DayRange":
      type: object
      description: "Day range"
      properties:
        start:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Start date"
        end:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "End date"
      example:
        start: "2022-09-19"
        end: "2022-09-20"

    "DkDirectDebitOut":
      type: object
      description: "Danish direct debit consent"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that it belongs to"

    "DocumentOutRef":
      type: object
      description: "Reference object for document"
      properties:
        id:
          type: integer
          description: "Unique ID"

    "Email":
      type: string
      format: email
      description: "Email"
      example: "sigurd@example.com"

    "Entry":
      type: object
      description: "Shows valid times and the card number for the entry ticket"
      properties:
        id:
          type: integer
          description: "Unique ID"
        start:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Start time"
        end:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "End time"
        cardnumber:
          type: string
          description: "Identifier for the entry. May be `null` if installation hasn't activated use of UUID"

    "EntryItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of entry item(s)"
        quantity:
          type: integer
          description: "Amount of entries"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        entries:
          type: array
          description: "List of entries in booking"
          items:
            $ref: "#/components/schemas/Entry"
        addition:
          allOf:
            - $ref: "#/components/schemas/Addition"
            - description: "Contains product addition information when this item is a product addition to another item in this order."

    "EntryProductAvailabilityOut":
      type: object
      properties:
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Entry product"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Product price"
        capacity:
          type: integer
          description: "Number of available capacity"

    "EntryProductOut":
      type: object
      description: "Entry product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Entry product name"
        productNumber:
          type: string
          description: "Entry Product number"
        productLabels:
          type: array
          description: "Product labels linked to the entry product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the entry product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of the entry product"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product"
        requirePersonConnectionOnInternet:
          type: boolean
          description: "True if the buyer must be a person registered in BRP."

    "EntryProductResourceOut":
      type: object
      properties:
        resourceRequirement:
          allOf:
            - $ref: "#/components/schemas/ResourceRequirementOut"
            - description: "Resource requirement"
        resources:
          type: array
          description: "Available resources for resource requirement"
          items:
            $ref: "#/components/schemas/EntryResourceOut"

    "EntryResourceOut":
      type: object
      properties:
        id:
          type: integer
          description: "Resource ID"
          example: 8
        name:
          type: string
          description: "Resource name"
          example: "Terapeut1"
        type:
          type: string
          description: "Resource type"
          example: "STAFF"
          enum:
            - STAFF
            - OTHER
        availableCapacity:
          type: integer
          description: |-
            Available capacity for each resource.
            Is only displayed when capacity is set for the main resource requirement.

    "EventItemOut":
      type: object
      description: "Event booking"
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of event item(s)"
        quantity:
          type: integer
          description: "Number of event items"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that the event booking belongs to"
        event:
          allOf:
            - $ref: "#/components/schemas/EventOutRef"
            - description: "Event to book"
        participants:
          type: array
          description: "Participants to book"
          items:
            $ref: "#/components/schemas/ParticipantOutRef"
        isDebited:
          type: boolean
          description: "Flag indicating if order is debited or not"
        shouldAutoRefundOnCancel:
          type: boolean
          description: "Flag indicating that product can be refundable after debooking from internet"

    "EventBookingOutRef":
      type: object
      description: "Reference object for event booking"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"

    "EventOutRef":
      type: object
      description: "Reference object for event"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"

    "EventProductOut":
      type: object
      description: "Event product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        requireConsentToBook:
          allOf:
            - $ref: "#/components/schemas/ConsentTypeOutRef"
            - description: "The consent type that the customer must accept to be allowed to purchase/book the product"

    "ExportTemplateOut":
      type: object
      properties:
        result:
          type: string
          description: "Result from export template"

    "FamilyInvitationOut":
      type: object
      description: "Invitations to family subscriptions"
      properties:
        id:
          type: integer
          description: "Invitation ID"
        subscriptionId:
          type: integer
          description: "Subscription ID"
        subscriptionProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that the subscription is based on"
        payer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Payer of the subscription"
        invitationToken:
          type: string
          description: "Invitation UUID token  unique for each invitation and used by the user to apply the invitation"
      example:
        id: 1
        subscriptionId: 80
        subscriptionProduct:
          id: 82
          name: "Year Gold card"
        payer:
          id: 11
          firstName: "Anna"
          lastName: "Smith"
        invitationToken: "d27b99ed-e34f-4730-9fea-81683ec40384"

    "FamilyInvitationReplyOut":
      type: object
      description: "Reply on invitation to the family"
      properties:
        subscriptionId:
          type: integer
          description: "Subscription ID"
        subscriptionProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that the subscription is based on"
        payer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Payer of the subscription"
        accepted:
          type: boolean
          description: "If user accepted the invitation or not"
      example:
        subscription: 80
        subscriptionProduct:
          id: 82
          name: "Year Gold card"
        payer:
          id: 11
          firstName: "Anna"
          lastName: "Smith"
        accepted: "true"

    "FeeProductOut":
      type: object
      properties:
        id:
          type: integer
          description: "Fee product ID"
        name:
          type: string
          description: "Fee product name"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of the fee product"

    "FiDirectDebitOut":
      type: object
      description: "Finnish direct debit consent"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        handledTimepoint:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time the consent is handled"
        finishedTimepoint:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "When the consent expires"
        state:
          type: string
          description: "The state of the consent"
          example: "STATE_NEW"
        bic:
          type: string
          description: "The bank identifier code (BIC)"
          example: "APESAPES"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that the consent belongs to"

    "FreezeReasonWithFeeProductOut":
      type: object
      properties:
        id:
          type: integer
          description: "Freeze reason ID"
        name:
          type: string
          description: "Freeze reason name"
        feeProduct:
          allOf:
            - $ref: "#/components/schemas/FeeProductOut"
            - description: "Fee product of the freeze reason"

    "FreezeReasonOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Freeze reason name"
      example:
        id: 1
        name: "Militrtjnst"

    "GenderIn":
      type: string
      description: "Gender"
      enum:
        - male
        - female
        - other

    "GenderOut":
      type: string
      description: "Gender"
      enum:
        - male
        - female
        - other
        - unknown

    "GroupActivityBookingOut":
      type: object
      properties:
        type:
          allOf:
            - $ref: "#/components/schemas/BookingTypeOut"
            - description: "Always set to `groupActivityBooking"
        groupActivity:
          allOf:
            - $ref: "#/components/schemas/ServiceBookingOutRef"
            - description: "Which group activity is booked"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit this group activity booking belongs"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer who booked the group activity"
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the group activity starts"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the group activity ends"
        groupActivityBooking:
          type: object
          properties:
            id:
              type: integer
              description: "Unique ID of the group activity booking"
            order:
              allOf:
                - $ref: "#/components/schemas/OrderOutRef"
                - description: "To which order the group activity booking belongs"
        additionToEventBooking:
          allOf:
            - $ref: "#/components/schemas/EventBookingOutRef"
            - description: "Is set if the group activity of this group activity booking is an addition to an Event"
        isDebited:
          type: boolean
          description: |-
            Whether the order of a paid group activity booking is debited or not. 
            Only when the participantsMustPay = true for the group activity product. 
        isRefundable:
              type: boolean
              description: |-
                If the group activity booking is refundable or not.
                The group activity booking product must be debitable, have participantsMustPay = true,
                and the booking must be paid.
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for the paid group activity booking. Only when the participantsMustPay = true for the group activity product."
        checkedIn:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "User's checked-in time, if the user is not checked-in, this will be null."

    "GroupActivityFamilyBookingApi3Out":
      type: object
      properties:
        action:
          type: string
          description: |-
            Which type of action was executed.
            A `GET` request will return `BOOK_SUMMARY`. A `POST` request will return `BOOK_RESULT`.
          enum: [ "BOOK_SUMMARY", "BOOK_RESULT" ]
        actionData:
          type: object
          properties:
            bookResult:
              type: boolean
              description: "Final result of the entire family booking"
            bookings:
              type: array
              description: "bookings of the each family member"
              items:
                $ref: "#/components/schemas/GroupActivityFamilyMemberBookingApi3Out"

    "GroupActivityFamilyMemberBookingApi3Out":
      type: object
      properties:
        action:
          type: string
          description: |-
            Which type of action was executed.
            Group activity bookings that need to be deleted or updated will return `CANCEL`, while new or existing group activity bookings will return `BOOK`.
            Waiting list bookings that need to be deleted will return `CANCEL_WAITING_LIST`, while new or existing waiting list bookings will return `BOOK_WAITING_LIST`.
          enum: [ "BOOK", "CANCEL", "BOOK_WAITING_LIST", "CANCEL_WAITING_LIST" ]
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Family member of the booking"
        booking:
          allOf:
            - $ref: "#/components/schemas/GroupActivityBookingOut"
            - description: "Group activity booking. (If the family member is in the group activity)"
        waitingListBooking:
          allOf:
            - $ref: "#/components/schemas/WaitingListBooking"
            - description: "Waiting list booking. (If the family member is in the waiting list)"
        error:
          allOf:
            - $ref: "#/components/schemas/CommonErrorOut"
            - description: "Errors of booking conditions violations or cancellation conditions violations"

    "GroupActivityItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of group activity item(s)"
        quantity:
          type: integer
          description: "Number of group activities"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        groupActivityBookingId:
          type: integer
          description: "Id of the group activity booking"
        groupActivityItemId:
          type: integer
          description: "Id of the group activity item"
        additionToEventBooking:
          allOf:
            - $ref: "#/components/schemas/EventBookingOutRef"
            - description: "Is set if the group activity of this group activitiy booking is an addition to an Event"
        isDebited:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Whether the order of a paid group activity booking is debited or not"
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Group activity start time"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Group activity end time"

    "GroupActivityOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Group activity name"
        duration:
          allOf:
            - $ref: "#/components/schemas/TimeRange"
            - description: "When it starts and ends"
        groupActivityProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it's based on"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit it belongs"
        locations:
          type: array
          description: "Rooms/locations where it will be held"
          items:
            $ref: "#/components/schemas/ResourceLocationOutRef"
        instructors:
          type: array
          description: "Instructors the lead the group activity"
          items:
            $ref: "#/components/schemas/ResourceInstructorOutRef"
        bookableEarliest:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "From which point forward it can be booked"
        bookableLatest:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "From which point forward it stops being bookable"
        bookableEarliestExtended:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Only if customer parameter is given. From which point forward it can be booked for this customer. Takes replacement rules into account"
        bookableLatestExtended:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Only if customer parameter is given. From which point forward it stops being bookable for this customer. Takes replacement rules into account"
        externalMessage:
          type: string
          description: "Information regarding the group activity which should be displayed to end users"
        cancelled:
          type: boolean
          description: "If it no longer is to be held"
        ageLimit:
          type: integer
          description: "Age limit (minimum age, inclusive) for the participation in group activity. Not returned if not set"
        upperAgeLimit:
          type: integer
          description: "Age limit (maximum age, inclusive) for the participation in group activity. Not returned if not set or disabled by setting"
        slots:
          type: object
          properties:
            total:
              type: integer
              description: "Total number of slots (bookable and drop-in)"
            totalBookable:
              type: integer
              description: "Total number of initially bookable slots"
            reservedForDropin:
              type: integer
              description: "Number of slots available for drop-in"
            leftToBook:
              type: integer
              description: "Number of currently available bookable slots"
            leftToBookIncDropin:
              type: integer
              description: "Number of currently available bookable slots including drop-in slots."
            hasWaitingList:
              type: boolean
              description: "If the activity has a waiting list (this property is include only if set to true)"
            inWaitingList:
              type: integer
              description: "Number of customers in the waiting list (this property is include if `slots.hasWaitingList` is true)"
          example:
            total: 30
            totalBookable: 20
            reservedForDropin: 10
            leftToBook: 15
            leftToBookIncDropin: 25
            hasWaitingList: true
            inWaitingList: 2

    "GroupActivityProductOut":
      type: object
      description: "Group activity product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Group activity product name"
        productNumber:
          type: string
          description: "Group activity product number"
        productLabels:
          type: array
          description: "Product labels linked to the group activity product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the group activity product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        businessUnitIds:
          type: array
          description: "List of business unit ids where the group activity product exists. Not returned if empty."
          items:
            type: number
        description:
          type: string
          description: "Description of the group activity product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        participantsMustPay:
          type: boolean
          description: "True, if the participants need to pay for a group activity to join"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of the group activity product (Only if the participantsMustPay = true)"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product (Only if the participantsMustPay = true)"
        ageLimit:
          type: integer
          description: "Age limit for the participation in group activity. Not returned if not set"

    "ImageBannerOut":
      type: object
      description: "Banner text and color to use in an image overlay."
      properties:
        text:
          type: string
          example: "New this year!"
        backgroundColor:
          $ref: "#/components/schemas/ColorOut"

    "IntegerRangeApi3Out":
      type: object
      description: "Integer range object"
      properties:
        start:
          type: integer
          description: "start"
        end:
          type: integer
          description: "end"

    "InvitationData":
      type: object
      description: "Invitations to the family subscription"
      properties:
        id:
          type: integer
          description: "Unique ID"
        invitationToken:
          type: string
          description: "Invitation UUID token  unique for each invitation and used by the user to apply the invitation"
        inviteeCustomerId:
          type: integer
          description: "Invited customer id. Included only if the invitation is personalized"
        inviteeFirstName:
          type: string
          description: "Invitees first name provided by the inviter. Included only if provided by the inviter"
        inviteeLastName:
          type: string
          description: "Invitees last name provided by the inviter. Included only if provided by the inviter"
        inviteeEmail:
          allOf:
            - $ref: "#/components/schemas/Email"
            - description: "Invitees email, provided by the inviter. Included only if provided by the inviter"
        created:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Invitation creation date"
      example:
        id: 1
        invitationToken: "bdc2add9-7935-432b-ac21-895037a65ed9"
        inviteeCustomerId: 82
        inviteeFirstName: "Jane"
        inviteeLastName: "Smith"
        inviteeEmail: "jane.smith@gmail.com"
        created: "2025-07-11"

    "InvoiceOut":
      type: object
      description: "Object for an invoice"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: integer
          description: "Invoice number"
        type:
          type: string
          description: "Invoice type"
          enum:
            - DIRECT_DEBIT
            - REGULAR
            - INTERNAL
            - RCP
            - EXTERNAL
            - UNKNOWN
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that it belongs to"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit it belongs"
        prefix:
          type: string
          description: "Invoice prefix value is configured for the businessUnit of the invoice"
        ocr:
          type: string
          description: "OCR number of the invoice"
        order:
          allOf:
            - $ref: "#/components/schemas/OrderOutRef"
            - description: "The order that the invoice belongs too"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        organization:
          allOf:
            - $ref: "#/components/schemas/OrganizationOutRef"
            - description: "Organization of the invoice"
        reference:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Reference person of the invoice"
        message:
          type: string
          description: "Message of the invoice"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
          description: "When the invoice was created"
        dueDate:
          allOf:
            - $ref: "#/components/schemas/Day"
          description: "Due date of the invoice"
        totalAmount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total amount"
        rest:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Balance due"
        reminderFeeAmount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Reminder free amount"
        state:
          type: string
          description: "State of the invoice"
          enum:
            - STATE_NOT_SENT
            - STATE_SENT
            - STATE_SENT_PENDING_RESPONSE
            - STATE_DONE
            - STATE_REMINDER
            - STATE_REMINDER_SERVICE
            - STATE_DEBT_COLLECTION
            - STATE_EXPORTED
            - STATE_PENDING_SEND
            - STATE_UNKNOWN
        vat:
          type: array
          description: "VAT amount list"
          items:
            $ref: "#/components/schemas/VatOut"
        numberOfDebitAttempts:
          type: integer
          description: "Number of debited attempts"

    "InvoiceOutRef":
      type: object
      description: "Reference object for an invoice"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: string
          description: "Invoice number"

    "JustFaceAttendanceOut":
      type: object
      description: "JustFaceAttendance Response"
      properties:
        wasAllowed:
          type: boolean
          description: "If the customer was allowed"
        attendanceTime:
          type: string
          description: "The attendance time in UTC"
        comment:
          type: string
          description: "Why the customer was not allowed"
      example:
        wasAllowed: true
        attendanceTime: "2022-10-04T16:12:49Z"
        comment: ""

    "JournalNoteOut":
      type: object
      description: "Journal note"
      properties:
        id:
          type: integer
          description: "Unique ID"

    "LanguageCodeOut":
      type: string
      description: "Language code"
      enum: ["sv", "en", "nb", "fi", "pl", "hr", "is", "da", "es", "de", "th", "fo", "co"]
      example: "sv"

    "LeadSourceOut":
      type: object
      description: "Lead Source"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Lead source name"
        external:
          type: boolean
          description: "If the lead source is external"
        personInformationList:
          type: array
          description: "Person information list defined for the lead source"
          items:
            $ref: "#/components/schemas/PersonInformationOut"
        ownDefinedParameters:
          type: array
          description: "Own defined parameters defined for the lead source"
          items:
            $ref: "#/components/schemas/OwnDefinedParameterOut"

    "MembershipLevel":
      type: string
      description: "Member on all units on level, any of NO, ALL, LOCAL_BUSINESSUNIT, LOCAL_COMPANY, LOCAL_REGION"
      enum:
        - NO
        - ALL
        - LOCAL_BUSINESSUNIT
        - LOCAL_COMPANY
        - LOCAL_REGION

    "NoDirectDebitOut":
      type: object
      description: "Norwegian direct debit consent for Avtalegiro"
      properties:
        id:
          type: integer
          description: "Unique ID"
        accountNumber:
          type: string
          description: "Bank account number"
          example: "2131241234234"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that it belongs to"
        contractSent:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "When the contract was sent in to Avtalogiro"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        kid:
          type: string
          description: "KID number of consent"
          example: "000462800000004"
        status:
          type: object
          description: "Current status for consent"
          properties:
            code:
              type: string
              description: "Status"
              enum:
                - ACTIVE
                - AT_DIRECT_DEBIT_PROVIDER
                - CANCELED
                - NOT_ACTIVATED
            level:
              type: string
              description: "Level of status"
              enum:
                - INFO
                - ERROR
                - SUCCESS
                - WARNING

    "NoDirectDebitOutRef":
      type: object
      description: "Reference object for Norwegian direct debit consent"
      properties:
        id:
          type: integer
          description: "Unique ID"

    "NetPromoterScoreRequestOut":
      type: object
      description: "NetPromoterScoreRequest"
      properties:
        Id:
          type: integer
          description: "NPS Request ID"
        config:
          type: object
          description: "NPS config for the NPSRequest"
          properties:
            npsId:
              type: integer
              description: "NPS Request ID"
            npsQuestion:
              type: string
              description: "NPS question"
            npsType:
              type: string
              description: "Type of the nps configuration"
              enum:
                - GENERAL

    "NoShowOut":
      type: object
      description: "No Show"
      properties:
        id:
          type: integer
          description: "No-show ID"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that is connected to the no-show."
        startTime:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Start time of the no-show."
        booking:
          allOf:
            - $ref: "#/components/schemas/ServiceBookingOut"
            - description: "Booking connected to the no-show. Either a class (group activity) or a service booking."
        bookingType:
          type: string
          description: "Can be either `GROUP_ACTIVITY` or `SERVICE`"
          enum:
            - GROUP_ACTIVITY
            - SERVICE
        status:
          type: string
          description: "Status of the no-show."
          enum:
            - NOT_PROCESSED
            - ACTIVE
            - PAID
            - MANUALLY_INACTIVATED
            - ARRIVED_LATE
            - OLD
            - STATE_UNKNOWN

    "OrderOut":
      type: object
      description: "Order"
      properties:
        id:
          type: integer
          description: "Unique ID"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
          description: "Business unit to which this order belongs"
        number:
          type: integer
          description: "Order number"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
          description: "When the order was created"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
          description: "Purchaser"
        customerType:
          allOf:
            - $ref: "#/components/schemas/CustomerTypeOutRef"
          description: "Customer type of purchaser"
        preliminary:
          type: boolean
          description: "If the order is preliminary"
        subscriptionItems:
          type: array
          description: "Subscriptions to purchase"
          items:
            $ref: "#/components/schemas/SubscriptionItemOut"
        articleItems:
          type: array
          description: "Articles to purchase"
          items:
            $ref: "#/components/schemas/ProductItemOut"
        valueCardItems:
          type: array
          description: "Value cards to purchase"
          items:
            $ref: "#/components/schemas/ValueCardItemOut"
        eventItems:
          type: array
          description: "Events to purchase"
          items:
            $ref: "#/components/schemas/EventItemOut"
        serviceItems:
          type: array
          description: "Services to purchase"
          items:
            $ref: "#/components/schemas/ServiceItemOut"
        entryItems:
          type: array
          description: "Entries to purchase"
          items:
            $ref: "#/components/schemas/EntryItemOut"
        groupActivityItems:
          type: array
          description: "Group activites to purchase"
          items:
            $ref: "#/components/schemas/GroupActivityItemOut"
        packageItems:
          type: array
          description: "Packages to purchase"
          items:
            $ref: "#/components/schemas/PackageItemOut"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
          description: "The total price of the order"
        leftToPay:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
          description: "The total amount left to pay for the order"
        couponDiscount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Combined discount from all order items"
        vatSums:
          type: array
          description: "Vat to pay for order items"
          items:
            $ref: "#/components/schemas/VatOut"
        totalCost:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total cost for the order and all future debits of subscription items. Is only displayed when order contains a subscription item."
        externalNote:
          type: string
          description: "Custom information from customer"
        disclaimer:
          type: string
          description: "Status indicating if disclaimer is set on any of the products on the order. Any of NONE, WITHOUT_MESSAGE or WITH_MESSAGE."
          enum:
            - NONE
            - WITHOUT_MESSAGE
            - WITH_MESSAGE
        receiverTarget:
          allOf:
            - $ref: "#/components/schemas/Email"
            - description: "Email address to send tickets attached to the order"
        externalId:
          type: string
          description: "External ID for order"
        orderStatus:
          allOf:
            - $ref: "#/components/schemas/OrderStatusOut"
            - description: "Last status of this order"
        lastModified:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when order was modified"
        invalidateTime:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "For a preliminary order. When this time has past, the order is invalid and can be removed by the server at any time."

    "OrderOutRef":
      type: object
      description: "Reference object for order"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: string
          description: "Order number"
        externalId:
          type: string
          description: "External ID"
        lastModified:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time point when order was modified"
      example:
        id: 42
        number: 1042
        externalId: "BO-3711"
        lastModified: "2022-09-19T10:27:42.000Z"

    "OrderStatusOut":
      type: object
      description: "Order status"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Status name"

    "Occasions":
      type: object
      description: "Occasions of the event"
      properties:
        weekday:
          type: string
          description: "Day of the week when each occasion is held. Any of MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY or INTENSE."
        startTime:
          type: object
          description: "What time each week when each occasion starts. Is not useful when occasions.weekday is INTENSE."
          properties:
            hour:
              type: integer
            minute:
              type: integer
        numberOf:
          type: integer
          description: "Number of occasions in the event"
        times:
          type: array
          items:
            allOf:
              - $ref: "#/components/schemas/TimeRangeRoom"
              - description: "Time range for each occasion"

    "OrganizationOut":
      type: object
      description: "Organization details"
      properties:
        id:
          type: integer
          description: "ID of the organization"
        name:
          type: string
          description: "Name of the organization"
        registrationLink:
          type: object
          description: "Registration offer details related to a configured registration link"
          properties:
            organizationOfferExpiryDate:
              type: string
              description: "Expiry day of the customer type `Organization customer`"
            linkExpiryDate:
              type: string
              description: "Expiry day of the organization registration link"
            webCategory:
              type: integer
              description: "The web category to redirect user to once they successfully register through the link"

    "OrganizationOutRef":
      type: object
      description: "Reference object for organization"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
      example:
        id: 1
        name: "Organization 1"

    "OtherUserOut":
      type: object
      description: "Other user detail"
      properties:
        id:
          type: integer
          description: "Id of the created or existed user"
        created:
          type: boolean
          description: "True if new user is created false otherwise"

    "OwnDefinedParameterOut":
      type: object
      description: "Own defined parameter"
      properties:
        id:
          type: string
          description: "Unique ID"
        name:
          type: string
          description: "Name of the own defined parameter"
        type:
          allOf:
            - $ref: "#/components/schemas/OwnDefinedParameterTypeOut"
            - description: "Value type of the parameter"
        options:
          type: array
          description: "Options for type `LIST` or `MULTI_LIST`. Only visible when type is one of those."
          items:
            $ref: "#/components/schemas/OwnDefinedParameterListOptionOut"
        defaultValue:
          type: string
          description: "Default value for a `LIST` or `MULTI_LIST`. Optional. Only visible if a value is available."
        usedOnPerson:
          type: boolean
          description: "If the own defined parameter is used on staff and/or customers"
        usedAsPersonAdditionalInformation:
          type: boolean
          description: "If the own defined parameter is used on customer registration as additional information"
        usedOnSubscription:
          type: boolean
          description: "If the own defined parameter is used on subscriptions"
        required:
          type: boolean
          description: |-
            If the own defined parameter is required for all customers.
            This does not necessarily mean it is guaranteed to be set.
        useWhenRegisteringOnInternet:
          type: string
          description: |-
            `SHOW` means that it should be set during registration, and not changed afterwards.
            `SHOW_ALTER` means the customer should be able to change it on demand, e.g. from a "My Pages".
          enum: ["SHOW", "SHOW_ALTER"]
        sortIndex:
          type: integer
          description: "Used when sorting own defined parameters. Several own defined parameters may have the same sort index."

    "OwnDefinedParameterTypeOut":
      type: string
      description: "Value type of own defined parameter"
      enum:
        - BOOLEAN
        - DAY
        - DAY_RANGE
        - LIST
        - MULTI_LIST
        - NUMBER
        - TEXT
        - TEXT_AREA

    "OwnDefinedParameterListOptionOut":
      type: object
      description: "Option for a own defined parameter of type `LIST` or `MULTI_LIST`"
      properties:
        name:
          type: string
          description: "Name of list option"

    "OwnDefinedParameterValueOut":
      type: object
      description: "Own defined parameter value"
      properties:
        id:
          type: integer
          description: "Unique ID"
        parameter:
          type: integer
          description: "ID of the own defined parameter that this is a value for"
        value:
          type: object
          description: "Value. To know the value type, see the type of the own defined parameter."
          oneOf:
            - type: integer
            - type: number
            - type: string
            - $ref: "#/components/schemas/Day"
            - $ref: "#/components/schemas/DayRange"
            - type: object
              description: "Selected list item"
              properties:
                name:
                  type: string
            - type: array
              description: "Selected multi list items"
              items:
                type: object
                properties:
                  name:
                    type: string
        usedOnPersonRegistration:
          type: boolean
          description: |-
            If this is true, the value has been added as additional customer registration information, if false, it has
            been added from a different flow. (eg: As a customer onboarding question)

    "PackageItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of package item(s)"
        quantity:
          type: integer
          description: "Amount of packages"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        externalMessage:
          type: string
          description: "External message"
        entryItems:
          type: array
          description: "List of entry bookings"
          items:
            $ref: "#/components/schemas/EntryItemOut"

    "PackageProductOut":
      type: object
      description: "Package product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        packageRequirements:
          type: array
          description: "List of products that belong to the main package product."
          items:
            $ref: "#/components/schemas/PackageRequirementOut"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product"

    "PackageRequirementOut":
      type: object
      description: "Package requirement details"
      properties:
        id:
          type: integer
          description: "Product ID"
        name:
          type: string
          description: "Product name"
        quantity:
          type: integer
          description: "Number of products which will be included in the package"

    "ParticipantDetailsOut":
      type: object
      description: "Details about a participant"
      properties:
        firstName:
          type: string
          description: "First name"
        lastName:
          type: string
          description: "Last name"
        birthDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Birth date"
        ssn:
          type: string
          description: "Person number"
        customer:
          type: integer
          description: "Customer ID"

    "ParticipantOutRef":
      type: object
      description: "Reference object for participant"
      properties:
        id:
          type: integer
          description: "Unique ID"
        firstName:
          type: string
          description: "First name"
        lastName:
          type: string
          description: "Last name"
        ssn:
          allOf:
            - $ref: "#/components/schemas/SSN"
            - description: "Personal identity number"
        birthDate:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Birth date"
        customer:
          type: integer
          description: "ID of customer (if the participant is a customer)"

    "PassageTryOut":
      type: object
      description: "Passage try result"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer who did the passage"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit where passage were done"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product used for the passage"
        subscription:
          allOf:
            - $ref: "#/components/schemas/SubscriptionOutRef"
            - description: "Subscription used for the passage"
        valuecard:
          allOf:
            - $ref: "#/components/schemas/ValueCardOutRef"
            - description: "Value card used for the passage"
        readerOfflineInformation:
          type: object
          description: "Card reader offline information"
          properties:
            readerIsOffline:
              type: boolean
              description: "If the card reader is reported as offline"
            readerHandlesAuthWhenOffline:
              type: boolean
              description: "The reader performs authentication when offline"
            offlinePinCode:
              type: string
              description: "Pin code used for authentication when offline"
        passageTryTime:
          type: string
          description: "Created time of the passage try"
        passageTryResult:
          type: string
          description: "Localized message of the passage try result."
        passageTryMessage:
          type: string
          description: |-
            Detailed message of the created passage try.
            Will be in the language of the reader where the passage try took place.
        cardReader:
          allOf:
            - $ref: "#/components/schemas/CardReaderApi3Out"
            - description: "Card reader used for the passage"

    "PaymentMethodOut":
      type: object
      description: "Payment method"
      properties:
        id:
          type: integer
          description: "Unique ID"
        type:
          type: string
          description: "Payment method type"
          enum:
            - BANK
            - CARD_DEBIT
            - CARD_CREDIT
            - CUSTOMER_ACCOUNT
            - INVOICE
            - KLARNA
            - PMS
            - SWISH
            - VIPPS

    "PersonInformationOut":
      type: object
      description: "Person information"
      properties:
        field:
          type: string
          description: "Person information field name"
        option:
          type: string
          description: "Person information option type"
          enum:
            - MANDATORY
            - REQUESTED
            - OPTIONAL
            - INACTIVE

    "PersonLookupOut":
      type: object
      properties:
        status:
          type: string
          description: "Any of NOT_ACTIVATED, EXIST_IN_BRP, FOUND or NOT_FOUND"
          example: "FOUND"
          enum:
            - NOT_ACTIVATED
            - EXISTS_IN_BRP
            - FOUND
            - NOT_FOUND
        data:
          type: object
          properties:
            firstName:
              type: string
              description: "First name"
              example: "Irene"
            lastName:
              type: string
              description: "Last name"
              example: "Isaksson"
            sex:
              allOf:
                - $ref: "#/components/schemas/GenderOut"
                - description: "Gender"
                - example: "female"
            ssn:
              type: string
              description: "Personal identity number"
              example: "801216-0845"
            birthDate:
              allOf:
                - $ref: "#/components/schemas/Day"
                - description: "Day of birth"
                - example: "1980-12-16"
            shippingAddress:
              allOf:
                - $ref: "#/components/schemas/AddressOut"
                - description: "Address for physical mail"

    "PhoneNumberIn":
      type: object
      description: "Phone number"
      required:
        - number
      properties:
        number:
          type: string
          description: "Phone number without country code"
        countryCode:
          type: string
          description: "Country code. With or without `+` prefix. https://en.wikipedia.org/wiki/List_of_country_calling_codes"
      example:
        number: "0731234567"
        countryCode: "46"

    "PhoneNumberOut":
      type: object
      description: "Phone number"
      properties:
        number:
          type: string
          description: "Phone number without country code or prefix. E.g. `0701234567` (Swedish) or `32123456` (Danish)"
        countryCode:
          type: integer
          description: |-
            Country code. One, two or three digits.
            NOTE: Country code is returned as an `integer`.
            https://en.wikipedia.org/wiki/List_of_country_calling_codes
      example:
        number: "0731234567"
        countryCode: 46

    "PostalCityLookupOut":
      type: object
      properties:
        status:
          type: string
          description: "`FOUND` or `NOT_FOUND`"
          enum:
            - FOUND
            - NOT_FOUND
        postalCity:
          type: string
          description: "Postal city corresponding to provided postal code and country"
      example:
        status: "FOUND"
        postalCity: "LINKPING"

    "PriceListOutRef":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name of price list"

    "ProductAdditionOut":
      type: object
      properties:
        id:
          type: integer
          description: "Product addition ID"
        addition:
          type: object
          properties:
            id:
              type: integer
              description: "Unique ID"
            name:
              type: string
              description: "Product name"
            productNumber:
              type: string
              description: "Product number of the addition product"
            productLabels:
              type: array
              description: "Product labels linked to the product"
              items:
                $ref: "#/components/schemas/ProductLabelOutRef"
            businessUnits:
              type: array
              description: "Business units where the product exists"
              items:
                $ref: "#/components/schemas/BusinessUnitOutRef"
            description:
              type: string
              description: "Description of the product"
            givesMembership:
              type: boolean
              description: "If the addition product gives membership (only applicable for subscription products)"
            debitMethod:
              allOf:
                - $ref: "#/components/schemas/SubscriptionDebitMethod"
                - description: "Debit method used to pay for the addition product"
            productType:
              $ref: "#/components/schemas/ProductType"
            priceWithInterval:
              type: object
              properties:
                interval:
                  allOf:
                    - $ref: "#/components/schemas/TimeUnitValue"
                    - description: "Debit interval"
                price:
                  allOf:
                    - $ref: "#/components/schemas/CurrencyOut"
                    - description: "Price for each debit"
            changesMainContractDate:
              type: boolean
              description: "Changes the contract end date of the main subscription"
            allowedToOrder:
              type: boolean
              description: "Only for additions that productType is `SUBSCRIPTION`. To determine whether the addition is bookable for the subscription user."
        selectOptions:
          type: object
          properties:
            NEW_CUSTOMER:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for New customer flow"
            SIGN_SUBSCRIPTION:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for Sign new subscription flow"
            TRANSFER_SUBSCRIPTION:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for Transfer subscription owner flow"
            NEW_EVENT_BOOKING:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for New event booking flow"
            NEW_SERVICE_BOOKING:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for New service booking flow"
            REGISTER_ORG_CUSTOMER:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for Register new customer with organization agreement flow"
            ORG_CUSTOMER:
              allOf:
                - $ref: "#/components/schemas/ProductAdditionOption"
                - description: "Select option for Sign new organizational agreement flow"

    "ProductAdditionOption":
      type: object
      description: |-
        Specifies if product addition shoule be mandatory and/or preselected. 
        The suggested flag can be used to present the addition in another way.
      properties:
        mandatory:
          type: boolean
        preSelected:
          type: boolean
        confirmationMandatory:
          type: boolean
        suggested:
          type: boolean

    "ProductItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of item(s)"
        quantity:
          type: integer
          description: "Amount of items"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        externalMessage:
          type: string
          description: "Custom information from customer"
        addition:
          allOf:
            - $ref: "#/components/schemas/Addition"
            - description: "Contains product addition information when this item is a product addition to another item in this order."

    "ProductLabelOutRef":
      type: object
      description: "Reference object for product label"
      properties:
        id:
          type: integer
          example: 42
        name:
          type: string
          example: "Tennis"
        availableFor:
          type: string
          description: "Returns `API` if the product label is available in the API and `PUBLIC` or `PUBLIC_EXCLUDE_FROM_CLASS_FILTER` if the product label is available in the API and exposed to the end user"
          enum:
            - API
            - PUBLIC
          example: "PUBLIC"

    "ProductListOut":
      type: array
      description: "List of products"
      items:
        oneOf:
          - $ref: "#/components/schemas/ArticleProductOut"
          - $ref: "#/components/schemas/EntryProductOut"
          - $ref: "#/components/schemas/EventProductOut"
          - $ref: "#/components/schemas/GroupActivityProductOut"
          - $ref: "#/components/schemas/ServiceProductOut"
          - $ref: "#/components/schemas/SubscriptionProductOut"
          - $ref: "#/components/schemas/ValueCardProductOut"

    "ProductOutRef":
      type: object
      description: "Reference object for product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
      example:
        id: 62
        name: "Spinning class"

    "ReceiverDetails":
      type: object
      description: "Details of the receiver for a value card."
      properties:
        name:
          type: string
          example: "Mats Sundin"
        target:
          allOf:
            - $ref: "#/components/schemas/Email"
            - example: "mats@sundin.se"

    "SenderDetails":
      type: object
      description: "Details of the sender for a value card."
      properties:
        name:
          type: string
          example: "Peter Forsberg"
        greeting:
          type: string
          example: "You are the best Mats! You deserve a gift card!"

    "ProductPropertyOutRef":
      type: object
      properties:
        propertyType:
          type: object
          properties:
            id:
              type: integer
              description: "Unique ID for product property"
            type:
              type: string
              description: "Type of product property"
              enum:
                - VARIANT
            name:
              type: string
              description: "Product property name"
        propertyValue:
          type: object
          properties:
            id:
              type: integer
              description: "Unique ID for product property value"
            name:
              type: string
              description: "Product property value name"
            sortOrder:
              type: integer
              description: "Sort order for product property value. Unique per product property value with the same product property"

    "ProductType":
      type: string
      description: "Product type"
      enum:
        - ARTICLE
        - SERVICE
        - EVENT
        - ENTRY
        - VALUE_CARD
        - SUBSCRIPTION
        - GROUP_ACTIVITY

    "RegionOutRef":
      type: object
      description: "Reference object for region"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name of region"
      example:
        id: 32
        name: "North"

    "RegisterItemOut":
      type: object
      description: "Register item"
      properties:
        id:
          type: integer
          description: "Unique ID"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product of order item"
        description:
          type: string
          description: "Register item description"
        quantity:
          type: string
          description: "Number of products"
          example: "3"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total price"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Coupon discount received (only visible if applied)"
            name:
              type: string
              description: "Identifier of coupon used (only visible if applied)"
        createdTime:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Created time point"
        valueCard:
          allOf:
            - $ref: "#/components/schemas/ValueCardOutRef"
            - description: "Value card reference. Only included if item is a value card."
        isRepurchase:
          type: boolean
          description: "Whether this is a repurchase or not"
        repurchaseDescription:
          type: string
          description: "Repurchase product description"

    "RegisterOrderItemOut":
      type: object
      description: "Register order item"
      properties:
        id:
          type: integer
          description: "Unique ID"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product of order item"
        quantity:
          type: string
          description: "Number of products"
          example: "3"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total price"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Coupon discount received (only visible if applied)"
            name:
              type: string
              description: "Identifier of coupon used (only visible if applied)"
        createdTime:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Created time point"
        valueCard:
          allOf:
            - $ref: "#/components/schemas/ValueCardOutRef"
            - description: "Value card reference. Only included if item is a value card."
        isRepurchase:
          type: boolean
          description: "Whether this is a repurchase or not"
        repurchaseDescription:
          type: string
          description: "Repurchase product description"

    "RegisterPaymentItemOut":
      type: object
      description: "Register payment item"
      properties:
        id:
          type: integer
          description: "Unique ID"
        amount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Cost"
        paymentMethod:
          type: string
          description: "Method of payment"
        valueCard:
          allOf:
            - $ref: "#/components/schemas/ValueCardOutRef"
            - description: "Used value card"

    "ReceiptOut":
      type: object
      description: "Receipt"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer who owns the receipt"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "When the receipt was created"
        number:
          oneOf:
            - type: string
            - type: integer
          description: |-
            Receipt number. The number is returned as a `string` if the receipt has a control code.
            The string will contain non-digits when the setting `Unit number for invoice counter` is enabled.
            The receipt number is returned as an `integer` when the receipt has no control code.
        orders:
          type: array
          description: "Orders paid for"
          items:
            $ref: "#/components/schemas/OrderOutRef"
        paymentMethod:
          type: string
          description: "Name of payment method that were used to pay for the receipt"
        debitConsents:
          type: object
          properties:
            required:
              type: array
              description: "Consents required for payment"
              items:
                type: string
            card:
              allOf:
                - $ref: "#/components/schemas/CardConsentOutRef"
                - description: "Consent given for recurring card payment"
            directDebitSe:
              allOf:
                - $ref: "#/components/schemas/SeDirectDebitOutRef"
                - description: "Consent given for Swedish direct debit"
            directDebitNo:
              allOf:
                - $ref: "#/components/schemas/NoDirectDebitOutRef"
                - description: "Consent given for Norwegian direct debit"
        sellerDetails:
          type: object
          properties:
            company:
              allOf:
                - $ref: "#/components/schemas/CompanyOutRef"
                - description: "Selling company"
            businessUnit:
              allOf:
                - $ref: "#/components/schemas/BusinessUnitOutRef"
                - description: "Selling business unit"
            organizationNumber:
              type: string
              description: "Seller organization number"
            vatNumber:
              type: string
              description: "Seller VAT number"
            address:
              allOf:
                - $ref: "#/components/schemas/AddressOut"
                - description: "Seller business unit's physical location"
            phoneNumber:
              allOf:
                - $ref: "#/components/schemas/PhoneNumberOut"
                - description: "Seller business unit's phone number"
            email:
              allOf:
                - $ref: "#/components/schemas/Email"
                - description: "Seller business unit's email address"
            url:
              type: string
              format: url
              description: "Seller business unit's home page URL"
        items:
          type: array
          description: "Register items that were purchased"
          items:
            $ref: "#/components/schemas/RegisterItemOut"
        payments:
          type: array
          description: "How the order items were paid"
          items:
            $ref: "#/components/schemas/RegisterPaymentItemOut"
        amount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total amount paid"
        vatSums:
          type: array
          description: "VAT paid for items"
          items:
            $ref: "#/components/schemas/VatOut"
        qrData:
          type: string
          description: "QR data for Croatian tax url. Is only included if available."

    "ReceiptOutRef":
      type: object
      description: "Reference object for a receipt"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: integer
          description: "Receipt number"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "When the receipt was created"
        amount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Total amount paid"

    "ResourceInstructorOutRef":
      type: object
      description: "Reference object for an instructor resource"
      properties:
        id:
          type: integer
          description: "Unique ID (ID of a resource)"
        name:
          type: string
          description: "Name of instructor"
        isSubstitute:
          type: boolean
          description: "True if this instructor is a substitute for the planned instructor"
      example:
        id: 26
        name: "Olga"
        isSubstitute: false

    "ResourceLocationOutRef":
      type: object
      description: "Reference object for a location resource"
      properties:
        id:
          type: integer
          description: "Unique ID (ID of a resource)"
        name:
          type: string
          description: "Name of room/location"
      example:
        id: 27
        name: "Main court"

    "ResourceAvailabilityOut":
      type: object
      properties:
        resource:
          allOf:
            - $ref: "#/components/schemas/ResourceOutRef"
            - description: "Requested resource"
        capacityTypes:
          type: array
          description: "Max capacity for each capacity type"
          items:
            type: object
            description: "Capacity type of resource"
            properties:
              capacityType:
                $ref: "#/components/schemas/ResourceCapacityTypeOut"
              maxCapacity:
                type: integer
                description: "Max capacity of the resource for the capacity type"
        slots:
          type: array
          description: "List of available time slots and capacity for requested resource"
          items:
            type: object
            description: "Capacity for available time slots"
            properties:
              period:
                allOf:
                  - $ref: "#/components/schemas/TimeRange"
                  - description: "Time range of slot"
              slotCapacity:
                type: array
                description: "Capacity for a time slot"
                items:
                  type: object
                  properties:
                    capacityType:
                      $ref: "#/components/schemas/ResourceCapacityTypeOut"
                    capacity:
                      type: number
                      description: "Capacity"

    "ResourceCapacityTypeOut":
      type: object
      description: "Capacity type of resource"
      properties:
        id:
          type: number
          description: "Unique ID"
        name:
          type: string
          description: "Name of capacity type"

    "RegisterCardConsent":
      type: object
      properties:
        url:
          type: string
          description: "Generated link"

    "ResourceOut":
      type: object
      properties:
        id:
          type: integer
          description: "Resource ID"
        name:
          type: string
          description: "Resource name"
        type:
          type: string
          description: "Resource type"
          enum:
            - STAFF
            - OTHER
        externalDescription:
          type: string
          description: "External resource description"
        thumbnailUrl:
          type: string
          description: "Thumbnail url. The maximum size of the image is 128x128. Not returned if the thumbnail image is not specified for the resource."
        priority:
          type: integer
          description: "Resource priority. Not returned if empty."
        assets:
          type: array
          description: "List of assets related to this resource. Not returned if empty."
          items:
            $ref: "#/components/schemas/AssetOut"
        businessUnitIds:
          type: array
          description: "Ids of business units that the resource belongs to. Not returned if empty."
          items:
            type: number

    "ResourceOutRef":
      type: object
      description: "Reference object for resource"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"

    "ResourceRequirementOut":
      type: object
      properties:
        id:
          type: integer
          description: "Id of resource requirement"
          example: 23
        label:
          type: string
          description: "Name of resource requirement"
          example: "Entry Staff"
        selectable:
          type: boolean
          description: "True if the user should be able to select a resource"
          example: true
        type:
          type: string
          description: "Resource requirement type. Any of: `STAFF` and `OTHER`."
          enum:
            - STAFF
            - OTHER
          example: "STAFF"

    "ResourceViewBookingOut":
      type: object
      properties:
        resource:
          type: object
          properties:
            id:
              type: integer
              description: "Resource ID"
            name:
              type: string
              description: "Resource name"
            resourceBookings:
              type: array
              items:
                type: object
                properties:
                  duration:
                    allOf:
                      - $ref: "#/components/schemas/TimeRange"
                      - description: "Booking start and end time"
                  product:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: "Product ID"
                      name:
                        type: string
                        description: "Product name"
                      productType:
                        $ref: "#/components/schemas/ProductType"
                      color:
                        type: string
                        description: "RGB value set for the product"
                        example: "#FF8833"
                  partOfEvent:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: "Id of event product (only included if booking is part of event)"
                      name:
                        type: string
                        description: "Event product name (only included if booking is part of event)"
                  order:
                    type: object
                    properties:
                      id:
                        type: integer
                        description: "Id of the order that the booking belongs to"
                      organization:
                        type: string
                        description: "Name of organization (if booked by an organization)"
                  cancelled:
                    type: boolean
                    description: "If group activity is cancelled (only included if group activity)"

    "ResourceViewOut":
      type: object
      properties:
        id:
          type: integer
          description: "Resource view ID"
        name:
          type: string
          description: "Resource view name"
      example:
        id: 19
        name: "Instructors"

    "ResourceWithCapacityOut":
      type: object
      description: "Reference object for resource with available capacity"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
        type:
          type: string
          description: "Resource requirement type. Any of: `STAFF` and `OTHER`."
          enum:
            - STAFF
            - OTHER
        availableCapacity:
          type: integer
          description: "Number of slots available."

    "SignatureCaseOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
          example: 1
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that it belongs to"
        order:
          allOf:
            - $ref: "#/components/schemas/OrderOutRef"
            - description: "Order where this signature case was required"
        subscription:
          type: integer
          description: "ID of subscription that this signature case was created for"
          example: null
        directDebitConsentSe:
          type: integer
          description: "ID of Swedish direct debit consent that this signature case was created for"
          example: null
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Creation time point"
        signed:
          type: boolean
          description: "True if signature is signed"
        documentUrl:
          type: string
          description: "URL to signature case document"

    "SsnValidateOut":
      type: object
      description: "Validation result for Swedish, Danish or Croatian ssn"
      properties:
        isValid:
          type: boolean
          description: "Whether the given ssn is valid or not"
        existsInBrp:
          type: boolean
          description: "Whether the given ssn already exists in the system"
        sex:
          type: string
          description: "The gender derived from the ssn (when possible)"
        birthDate:
          type: string
          description: "The date of birth derived from the ssn (when possible)"

    "SeDirectDebitOut":
      type: object
      description: "Swedish direct debit consent for Autogiro"
      properties:
        id:
          type: integer
          description: "Unique ID"
        bankAccount:
          allOf:
            - $ref: "#/components/schemas/BankAccountOut"
            - description: "Bank account"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that it belongs to"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time when consent was created"
        payerNumber:
          type: string
          description: "Consent payer number. Normally this is a Swedish personal identity number consisting of 12 numbers."
          example: "197012071234"
        statuses:
          type: array
          description: "Additional statuses of the consent."
          items:
            type: object
            properties:
              code:
                type: string
                description: "Status"
                enum:
                  - WAITING_FOR_INTERNET_BANK_REGISTRATION
                  - INCOMPLETE
                  - ERROR_RECEIVED_FROM_BGC
                  - DURING_PROCESSING_AT_BGC
                  - REGISTERED_AT_BCG
                  - NOT_REGISTERED_AT_BGC
                  - PENDING_ADD
                  - PENDING_MODIFY
                  - PENDING_DELETE
                  - CONTRACT_NOT_SIGNED
              level:
                type: string
                description: "Level of status"
                enum:
                  - INFO
                  - ERROR
                  - SUCCESS
                  - WARNING
        validActions:
          type: array
          description: "List of currently valid actions for the consent. Possible actions are: `UPDATE`."
          items:
            type: string
            enum:
              - UPDATE
          example: ["UPDATE"]
        otherUsers:
          type: array
          description: "Other customers that this consent is used for"
          items:
            $ref: "#/components/schemas/CustomerOutRef"
        customerHasSignedContract:
          type: boolean
          description: "True if the consent is signed"

    "SeDirectDebitOutRef":
      type: object
      description: "Reference object for Swedish direct debit consent"
      properties:
        id:
          type: integer
          description: "Unique ID"
          
    "TrustlyDirectDebitConsentOut":
      type: object
      description: "Trustly direct debit consents"
      properties:
        id:
          type: integer
          description: "Unique ID"
        trustlyAccount:
          allOf:
            - $ref: "#/components/schemas/TrustlyAccountApi3OutRef"
            - description: "Trustly account"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer that it belongs to"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "Company that it belongs to"
        created:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Time when the consent was created"
        status:
            type: string
            description: "Status of the consent"
            enum:
              - PENDING
              - ACTIVE
              - PENDING_CANCELLATION
              - CANCELLED

    "EntryBookingOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        order:
          allOf:
            - $ref: "#/components/schemas/OrderOutRef"
            - description: "The order that the entry belongs too"
        entryProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it is based on"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit it belongs"
        quantity:
          type: integer
          description: "Number of entries"
        entries:
          type: array
          description: "Entries that belong to the entry booking"
          items:
            $ref: "#/components/schemas/EntryWithQRCode"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for booking. Including VAT."
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the entry starts"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the entry ends"
        actions:
          type: array
          description: "List of currently valid actions for the entry booking"
          items:
            type: string
            enum:
              - REFUND
        packageProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The package product that the entry is related to"
        packageBookingId:
          type: integer
          description: "The package booking ID, if the entry booking belongs to a package booking"
        shouldAutoRefundOnCancel:
          type: boolean
          description: "Flag indicating that product can be refundable after debooking from internet"

    "EntryItemSuggestionOut":
      type: object
      properties:
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Start time of suggestion"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "End time of suggestion"
        resources:
          type: array
          description: |-
            List of resources for the main resource requirement.
            One of the resources is enough to book an entry
          items:
            $ref: "#/components/schemas/ResourceWithCapacityOut"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for suggestion."

    "EntryWithQRCode":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        status:
          type: string
          description: "Status of the entry"
          enum:
            - NOT_USED
            - CONSUMED
            - ENTERED
        qrCode:
          type: string
          description: "Barcode for the entry"

    "ServiceBookingOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        serviceProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it is based on"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit it belongs"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer who booked the service"
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the service starts"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the service ends"
        order:
          allOf:
            - $ref: "#/components/schemas/OrderOutRef"
            - description: "To which order this booking belongs"
        isDebited:
          type: boolean
          description: "Flag indicating if order is debited or not"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for booking"
        selectedResource:
          allOf:
            - $ref: "#/components/schemas/ResourceOutRef"
            - description: "Resource selected by customer when booking was done (only exists if customer selected a resource)"
        externalMessage:
          type: string
          description: "Custom information from customer. Avoid putting sensitive information here."
        shouldAutoRefundOnCancel:
          type: boolean
          description: "Flag indicating that product can be refundable when booking is cancelled"

    "ServiceBookingOutRef":
      type: object
      description: "Reference object for service booking"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Service booking name"
      example:
        id: 42
        name: "massage"

    "ServiceItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of service item(s)"
        quantity:
          type: integer
          description: "Amount of service items"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Service start time"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Service end time"
        selectedResource:
          allOf:
            - $ref: "#/components/schemas/ResourceOutRef"
            - description: "Resource selected by customer when booking was done (only exists if customer selected a resource)"

    "ServiceItemSuggestionOut":
      type: object
      properties:
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "Start time of suggestion"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "End time of suggestion"
        availableSlots:
          type: integer
          description: "Number of slots available."
        capacity:
          type: array
          description: |-
            Available capacity for each resource matching the main resource requirement. 
            Is only displayed when capacity is set for the main resource requirement.
          items:
            $ref: "#/components/schemas/Capacity"
        selectableResources:
          type: array
          description: |-
            List of selectable resources for the main resource requirement. Is only displayed when the main resource 
            requirement is set to be selectable from internet.
          items:
            $ref: "#/components/schemas/ResourceOutRef"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price for suggestion. Is only shown when `renderPrice` parameter given in request"

    "ServiceProductOut":
      type: object
      description: "Service product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of the service product"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product"
        time:
          type: string
          description: "Time length in minutes for a service of this product"
        requireConsentToBook:
          allOf:
            - $ref: "#/components/schemas/ConsentTypeOutRef"
            - description: "The consent type that the customer must accept to be allowed to purchase/book the product"
        generateQrCodeForAdmittance:
          type: boolean
          description: "Generate QR code for admittance to the product"
        accountingCode:
          type: integer
          description: "Account number (only when `includeAccountData=true`)"
        dimension1:
          type: string
          description: "Dimension 1 number (only when `includeAccountData=true`)"
        dimension2:
          type: string
          description: "Dimension 2 number (only when `includeAccountData=true`)"
        externalCodes:
          type: string
          description: "External codes set for account (only when `includeAccountData=true`)"

    "ServiceProductPriceOut":
      type: object
      properties:
        resource:
          allOf:
            - $ref: "#/components/schemas/ResourceOutRef"
            - description: "Resource reference"
        incVat:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price inc. VAT"
        exVat:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price ex. VAT"
        quantity:
          type: integer
          description: "Price is valid for this quantity of the product"
      example:
        resource: null
        incVat:
          amount: 45000
          currency: "SEK"
        exVat:
          amount: 36000
          currency: "SEK"
        quantity: 1

    "ServiceProductResourceOut":
      type: object
      properties:
        resourceRequirement:
          allOf:
            - $ref: "#/components/schemas/ResourceRequirementOut"
            - description: "Resource requirement"
            - example:
              - id: 36
                label: "Massr"
                selectable: true
                type: "STAFF"
        resources:
          type: array
          description: "Available resources for resource requirement"
          items:
            $ref: "#/components/schemas/ResourceOut"
          example:
            - id: 8
              name: "Terapeut1"
              type: "STAFF"
            - id: 10
              name: "Terapeut2"
              type: "STAFF"

    "Slots":
      type: object
      description: "Slots for the event"
      properties:
        totalBookable:
          type: integer
          description: "Total number of initially bookable slots"
        leftToBook:
          type: integer
          description: "Number of currently available bookable slots"
      example:
        totalBookable: 5
        leftToBook: 5

    "SubscriptionFreezeResultOut":
      type: object
      properties:
        action:
          type: string
          description: |-
            Which type of action was executed.
            A `GET` request will return `FREEZE_SUMMARY`. A `POST` request will return `FREEZE_RESULT`.
          enum: ["FREEZE_SUMMARY", "FREEZE_RESULT"]
        actionData:
          type: object
          properties:
            mainSubscription:
              allOf:
                - $ref: "#/components/schemas/SubscriptionOut"
                - description: "Frozen subscription"
            additions:
              type: array
              description: "Frozen additions to the main subscription"
              items:
                $ref: "#/components/schemas/SubscriptionOut"
            order:
              allOf:
                - $ref: "#/components/schemas/OrderOut"
                - description: "Is only included when `POST`. An order with the freeze fee of the selected freeze reason."
            totalPrice:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Is only included when `GET`. The freeze fee of the selected freeze reason."

    "SubscriptionFreezeRequestOut":
      type: object
      properties:
        id:
          type: integer
          description: "Freeze request ID"
        requestedDay:
          type: string
          description: "The day that the freeze request was created"
        message:
          type: string
          description: "Message from the user regarding the freeze request"
        status:
          type: string
          description: "The status of the freeze request."
          enum:
            - OPEN
            - ACCEPTED
            - REJECTED

    "SubscriptionFreezeRuleOut":
      type: object
      properties:
        id:
          type: integer
          description: "Freeze rule ID"
        description:
          type: string
          description: "Description of the Freeze rule"
        maxNumberOfFreezesPerYear:
          type: integer
          description: "Number of freezes that are allowed per year. If `NULL`, the subscription may be frozen unlimited times"
        minLengthOfFreeze:
          allOf:
            - $ref: "#/components/schemas/TimeUnitValue"
            - description: "Minimum length of one freeze period"
        maxLengthOfFreeze:
          allOf:
            - $ref: "#/components/schemas/TimeUnitValue"
            - description: "Maximum length of one freeze period"
        canBeAppliedBy:
          type: array
          description: "Returns an array with `STAFF` and/or `CUSTOMER`. Freezing through the API is only possible when `CUSTOMER` is in the list"
          items:
            type: string
            enum:
              - STAFF
              - CUSTOMER
        freezeReasons:
          type: array
          description: "Freeze reasons list of the Freeze rule"
          items:
            $ref: "#/components/schemas/FreezeReasonWithFeeProductOut"

    "SubscriptionFreezeOut":
      type: object
      properties:
        id:
          type: integer
          description: "Subscription freeze ID"
        freezePeriod:
          allOf:
            - $ref: "#/components/schemas/DayRange"
            - description: "Subscription freeze period"

    "SubscriptionItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of subscription item(s)"
        quantity:
          type: integer
          description: "Amount of subscription items"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        initialPaymentPeriod:
          allOf:
            - $ref: "#/components/schemas/DayRange"
            - description: "The first payment period to pay for. Depends on the length of the subscription and if it is payed monthly or in total."
        subscription:
          allOf:
            - $ref: "#/components/schemas/SubscriptionOutRef"
            - description: "Reference to subscription"
        payRecurring:
          type: object
          properties:
            interval:
              allOf:
                - $ref: "#/components/schemas/TimeUnitValue"
                - description: "In which interval the subscription is debited. Not displayed for cash subscriptions."
            price:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Which amount is debited each interval. Not displayed for cash subscriptions"
        boundUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "End of the subscription binding period. Not displayed for cash subscriptions."
        expirationDay:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "If terminated: this date is the same as `boundUntil`. If not terminated: this date is the expected expiration day if the subscription was terminated today."
        adjustCancellationToMonth:
          type: boolean
          description: "If cancellation of subscription should be adjusted to end of month."
        addition:
          allOf:
            - $ref: "#/components/schemas/Addition"
            - description: "Contains product addition information when this item is a product addition to another item in this order."
        paymentOption:
          type: object
          description: "Selected payment option for subscription"
          properties:
            id:
              type: integer
              description: "Payment option ID"
            name:
              type: string
              description: "Translated payment option name"

    "SubscriptionTerminateResultOut":
      type: object
      properties:
        action:
          type: string
          description: |-
            Which type of action was executed.
            A `GET` request will return `TERMINATE_SUMMARY`. A `POST` request will return `TERMINATE_RESULT`.
          enum: ["TERMINATE_SUMMARY", "TERMINATE_RESULT"]
        actionData:
          type: object
          properties:
            mainSubscription:
              allOf:
                - $ref: "#/components/schemas/SubscriptionOut"
                - description: "Terminated subscription"
            additions:
              type: array
              description: "Terminated additions to the main subscription"
              items:
                $ref: "#/components/schemas/SubscriptionOut"
            errors:
              type: object
              description: "Map of errors occurred. The map key is the ID of a subscription."
              additionalProperties:
                $ref: "#/components/schemas/CommonErrorOut"

    "SubscriptionUnfreezeResultOut":
      type: object
      properties:
        action:
          type: string
          description: |-
            Which type of action was executed.
            A `GET` request will return `UNFREEZE_SUMMARY`. A `POST` request will return `UNFREEZE_RESULT`.
          enum: ["UNFREEZE_SUMMARY", "UNFREEZE_RESULT"]
        actionData:
          type: object
          properties:
            mainSubscription:
              allOf:
                - $ref: "#/components/schemas/SubscriptionOut"
                - description: "Unfrozen subscription"
            additions:
              type: array
              description: "Unfrozen additions to the main subscription"
              items:
                $ref: "#/components/schemas/SubscriptionOut"
            order:
              allOf:
                - $ref: "#/components/schemas/OrderOut"
                - description: |-
                    Is only included when `POST`.
                    After unfreezing the subscription and its additions there might be days that are not debited.
                    An order with subscription bookings will then be returned.
            debitInfo:
              type: object
              description: |-
                Is only included when `GET`.
                There might be days that are not debited after unfreezing the subscription and its additions.
                A map with subscription IDs and data will then be returned.
              additionalProperties:
                type: object
                properties:
                  price:
                    allOf:
                      - $ref: "#/components/schemas/CurrencyOut"
                      - description: "Amount to debit"
                  undebitedDays:
                    type: integer
                    description: "Number of days that needs to be debited"

    "SubscriptionDebitMethod":
      type: string
      description: "Any of `MANUAL_DEBIT`, `RECURRING_CARD_PAYMENT`, `DIRECT_DEBIT_SE`, `DIRECT_DEBIT_NO` and `DIRECT_DEBIT_DK`."
      enum:
        - MANUAL_DEBIT
        - RECURRING_CARD_PAYMENT
        - DIRECT_DEBIT_SE
        - DIRECT_DEBIT_NO
        - DIRECT_DEBIT_DK

    "SubscriptionOut":
      type: object
      description: "Subscription"
      properties:
        id:
          type: integer
          description: "Unique ID"
        start:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "First valid day of subscription"
        end:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "DEPRECATED. Use `boundUntil`."
            - deprecated: true
        boundUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Currently the last valid day of the subscription. The customer is bound to pay for the subscription until this day."
        debitedUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Day that the subscription is debited until"
        expirationDay:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "If terminated: this date is the same as `boundUntil`. If not terminated: this date is the expected expiration day if the subscription was terminated today."
        terminationTime:
          allOf:
            - $ref: "#/components/schemas/TimeUnitValue"
            - description: "Minimum time for the termination period. From the day when the termination is done."
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that the subscription belongs to"
        subscriptionProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that the subscription is based on"
        users:
          type: array
          description: "Customers using the subscription"
          items:
            $ref: "#/components/schemas/CustomerOutRef"
        payer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer paying for the subscription"
        statuses:
          type: array
          description: "Additional statuses of the subscription"
          items:
            type: object
            properties:
              code:
                type: string
                description: "Status"
                enum:
                  - CONTRACT_NOT_SIGNED
                  - CONTRACT_NOT_SIGNED_PAYYER
                  - FREEZE_REQUEST_PENDING_APPROVAL
                  - FROZEN
                  - FUTURE_FREEZE
                  - MISSING_ACTIVE_DIRECTDEBITCONSENT_NO
                  - MISSING_CARDCONSENT
                  - MISSING_DIRECTDEBITCONSENT_NO
                  - MISSING_DIRECTDEBITCONSENT_SE
                  - MISSING_VALID_CARDCONSENT
                  - TERMINATED
                  - WAITING_FOR_DIRECTDEBIT_NO_REGISTRATION
              level:
                type: string
                description: "Level of status"
                enum:
                  - INFO
                  - ERROR
                  - WARNING
        actions:
          type: array
          description: "List of currently valid actions for the subscription."
          items:
            type: string
            enum:
              - CREATE_DIRECTDEBITCONSENT_SE
              - CREATE_DIRECTDEBITCONSENT_NO
              - CREATE_CARDCONSENT
              - TERMINATE
              - REGRET_TERMINATE
              - FREEZE
              - UNFREEZE
              - SIGN_CONTRACT
              - SIGN_CONTRACT_PAYER
              - REQUEST_FREEZE
        freeze:
          type: object
          description: "Is included if the subscription is frozen"
          properties:
            period:
              allOf:
                - $ref: "#/components/schemas/DayRange"
                - description: "If the subscription is currently frozen, the freeze period will be given here"
            reason:
              type: integer
              description: "If the subscription is currently frozen and has a freeze reason set, the freeze reason ID is specified here."
        subscriptionBookingId:
          type: integer
          description: "Latest booking id of the subscription"
        paymentOption:
          type: object
          description: "Selected payment option for subscription"
          properties:
            id:
              type: integer
              description: "Payment option ID"
            name:
              type: string
              description: "Translated payment option name"
        priceWarrantyDay:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Day that the subscription has a price warranty until"
        newPriceDay:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Day that the subscription has a price change"
        newPrice:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "New price for subscription (applied on `newPriceDay`)"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "The current price of this subscription (inc vat) for this customer"

    "SubscriptionOutRef":
      type: object
      description: "Reference object for subscription"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Name"
        users:
          type: array
          description: "Customers using the subscription"
          items:
            $ref: "#/components/schemas/CustomerOutRef"
        payer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer paying for the subscription"
        recruitedBy:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "If the subscription was created using a referral link, this should be Customer id of the person who shared the referral link"
      example:
        id: 47
        name: "Premium member"
        users:
          - id: 1
            fistName: "John"
            lastName: "Smith"
        payer:
          id: 1
          fistName: "John"
          lastName: "Smith"
        recruitedBy:
          id: 4
          firstName: "Jane"
          lastName: "Doe"

    "SubscriptionProductOut":
      type: object
      description: "Subscription product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        externalProductInfo:
          type: string
          description: "External product information"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        debitMethod:
          allOf:
            - $ref: "#/components/schemas/SubscriptionDebitMethod"
            - description: "Debit method used to pay for the product"
        givesMembership:
          type: boolean
          description: "If the product gives membership"
        membershipLevel:
          allOf:
            - $ref: "#/components/schemas/MembershipLevel"
            - description: "On which level the membership is valid"
        priceWithInterval:
          type: object
          properties:
            interval:
              allOf:
                - $ref: "#/components/schemas/TimeUnitValue"
                - description: "Debit interval"
            price:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Price for each debit"
            vat:
              allOf:
                - $ref: "#/components/schemas/VatOut"
                - description: "Total VAT amount for each debit"
        allowedToOrder:
          type: boolean
          description: "To determine whether the subscription product is bookable for the subscription user or not"
        applicableCustomerTypes:
          type: array
          description: "List of applicable customer types with corresponding price of this product."
          items:
            $ref: "#/components/schemas/CustomerTypeWithPriceOut"
        userType:
          type: string
          description: "User type of the subscription  it can be SINGLE_USER, ORGANIZATION, or FAMILY"
          enum:
            - SINGLE_USER
            - ORGANIZATION
            - FAMILY
      example:
        - id: 2
          name: "rskort"
          productLabels:
            id: 5
            name: "Abonnemang"
          businessUnits:
            - id: 1
              name: "Anlggning 1"
              location: "SE"
              companyNameForInvoice: "Bolag 1"
            - id: 14
              name: "Anlggning 2"
              location: "SE"
              companyNameForInvoice: "Bolag 1"
          description: |-
            Detta abonnemang r bra fr det kan du kpa kontant.
            Enkelt att betala med sedlar, gr snabbt att betala, knns i plnboken
          givesMembership: true
          membershipLevel: "ALL"
          debitMethod: "MANUAL_DEBIT"
          priceWithInterval:
            interval: null
            price:
              amount: 240000
              currency: "SEK"
          applicableCustomerTypes:
            - customerType:
                id: 2
                name: "Student"
              price:
                amount: 250
                currency: "SEK"
          allowedToOrder: true
          userType: "SINGLE_USER"

    "SSN":
      type: string
      format: string
      description: "SSN"
      example: "940608-3023"

    "SystemSettingItemOut":
      type: object
      additionalProperties:
        type: object
        properties:
          allowInternetCustomerRegistration:
            type: boolean
            description: "Allow customers to register through the login window without purchasing a subscription"
          allowToPayInvoiceBeforeInvoiceDate:
            type: boolean
            description: "Allow user to pay invoices before the invoice date in Mobility app and web"
          alternativeCurrencyType:
            type: object
            description: "Alternative currency type"
            properties:
              name:
                type: string
              currencyCode:
                type: string
              exchangeRate:
                type: number
                format: double
          appBaseFeaturesActive:
            type: boolean
            description: "Activate base app and customer web features"
          appPremiumFeaturesActive:
            type: boolean
            description: "Activate premium app and customer web features"
          couponsEnabled:
            type: boolean
            description: "Whether or not coupons can be used on a order"
          customerMaxWrongLoginAttempts:
            type: boolean
            description: "Max number of wrong login attempts of the customer"
          customerPasswordLifetimeValue:
            type: boolean
            description: "How long the customer password will be valid"
          customerPasswordMaximumLength:
            type: boolean
            description: "The maximum length of the customer's password"
          customerPasswordMinimumLength:
            type: boolean
            description: "The minimum length of the customer's password"
          customerWebUrl:
            type: string
            description: "URL to the installation's customer web"
          defaultBusinessUnit:
            type: integer
            description: "Business unit set on the order when buying value card"
          defaultPersonAllowEmail:
            type: boolean
            description: "If 'Allow mass sending of email to customer' should be preselected in registration form"
          defaultPersonAllowMail:
            type: boolean
            description: "If 'Allow mass sending of mail to customer' should be preselected in registration form"
          defaultPersonAllowSms:
            type: boolean
            description: "If 'Allow mass sending of sms to customer' should be preselected in registration form"
          enableConsentModeV2:
            type: boolean
            description: "Whether or not Google Consent Management v2 is enabled in Mobility to manage Google Tag Manager behavior"
          enableFilteringOfCentralLocalContent:
            type: boolean
            description: "Whether or not to enable filtering of central/local content in app and web  "
          enablePasswordPolicies:
            type: boolean
            description: "Whether or not to apply password policies in app and web"
          enablePayForCustomerAccountDebt:
            type: boolean
            description: "If customer account debt can be paid on the web and the app"
          enablePayWithCustomerAccount:
            type: boolean
            description: "If the web and the app allow users to pay with customer account"
          filterGroupActivitiesByInstructor:
            type: boolean
            description: "If it should be possible to filter the group activity bookings by instructor"
          googleAnalyticsTrackingCode:
            type: string
            description: "Google analytics tracking code"
          internetHideOldGroupActivities:
            type: boolean
            description: "If past group activities should be hidden in app/webb"
          loginPlaceholder:
            type: string
            description: "Placeholder for the username field in the sign in form, e.g. `Email address` or `Email address/Customer number`"
          logoLinkUrl:
            type: string
            description: "URL to use when linking back out of the booking site, usually set to main website"
          musicPreferenceEnabled:
            type: boolean
            description: "Whether or not music preferences is enabled"
          orderSourceCookieTtl:
            type: integer
            description: "How long the order source cookie will be valid"
          payWithValueCardEnabled:
            type: boolean
            description: "Whether or not it's allowed to pay with value card"
          paymentAlternativeEvent:
            type: string
            description: "Payment alternatives available for events"
          paymentAlternativeService:
            type: string
            description: "Payment alternatives available for services"
          purchasesVisibleNumberOfMonths:
            type: integer
            description: "A user of the app & web will only see their purchases/receipts for this number of months, 0 means no limit"
          requireSsnForAgeCheckFromEvent:
            type: boolean
            description: "Require personal identity number when checking age for event participants"
          requireSsnWithPersonConnectionFromEvent:
            type: boolean
            description: "Require personal identity number when connecting persons for event participants"
          showAvailableEventSlots:
            type: boolean
            description: "Whether or not available slots should be shown on events"
          showAvailableSlots:
            type: boolean
            description: "If the number of available group activity slots should be visible"
          showCustomerAccountDebt:
            type: boolean
            description: |-
              If the web and the app allow users to view the credit limit, available balance, and debt of their
              personal customer account
          showCustomerImage:
            type: boolean
            description: "Whether to show customer image on app v3"
          showGroupActivitiesMaxDaysAhead:
            type: number
            description: "Maximum number of days ahead of today to show group activities"
          showGroupActivityEmployeeResourceNames:
            type: boolean
            description: "If employee resource names should be visible on group activities"
          showGroupActivityRoomResourceNames:
            type: boolean
            description: "If location resource names should be visible on group activities"
          showNumberOfParticipants:
            type: boolean
            description: "Whether or not to show the number of participants on group activities"
          showTrainingStatistics:
            type: boolean
            description: "Whether or not training statistics should be displayed"
          siteTitle:
            type: string
            description: "Browser window title"
          useRecurringPayment:
            type: boolean
            description: "If recurring card payments is activated"

    "TerminationReasonOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Termination reason name"
      example:
        id: 1
        name: "Sjukdom"

    "TimePoint":
      type: string
      format: date-time
      description: "Time point"
      example: "2022-09-19T10:27:42.000Z"

    "TimeRange":
      type: object
      description: "Time range"
      properties:
        start:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Start time point"
        end:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "End time point"
      example:
        start: "2022-09-19T10:27:42.000Z"
        end: "2022-09-20T22:00:00.000Z"

    "TimeRangeRoom":
      type: object
      description: "Time range"
      properties:
        start:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "Start time point"
        end:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "End time point"
        room:
          allOf:
            - $ref: "#/components/schemas/ResourceOutRef"
            - description: "Room resource details"
      example:
        start: "2022-09-19T10:27:42.000Z"
        end: "2022-09-20T22:00:00.000Z"
        room:
          id: 1
          name: "Room 1"
          type: "Room"

    "TimeUnitValue":
      type: object
      description: "Unit can be YEAR, MONTH or WEEK"
      properties:
        numberOf:
          type: integer
        unit:
          type: string
          enum:
            - YEAR
            - MONTH
            - WEEK
    
    "TrustlyAccountApi3Out":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        accountId:
          type: string
          description: "Unique ID for the account from Trustly"
        bank:
          type: string
          description: "Name of the bank"
        lastDigits:
          type: string
          description: "Last digits of the bank account"
     
    "TrustlyAccountApi3OutRef":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        bankName:
          type: string
          description: "Name of the bank"
        lastDigits:
          type: string
          description: "Last digits of the bank account"      

    "UserData":
      type: object
      description: "Users of the family subscription"
      properties:
        id:
          type: integer
          description: "Unique ID"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Member of the family subscription"
        userType:
          type: string
          description: "User type"
          enum:
            - PAYER
            - MEMBER
            - MEMBER_CHILD
      example:
        id: 1
        person:
          id: 221
          firstName: "Sherlock"
          lastName: "Holmes"
        status: "PAYER"

    "ValueCardItemOut":
      type: object
      properties:
        id:
          type: integer
          description: "Unique ID"
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price of value card item(s)"
        quantity:
          type: integer
          description: "Amount of value cards"
        coupon:
          type: object
          properties:
            discount:
              allOf:
                - $ref: "#/components/schemas/CurrencyOut"
                - description: "Applied coupon discount (only set if positive)"
            name:
              type: string
              description: "Applied coupon name (only set if positive coupon discount)"
        product:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "Product"
        receiverTarget:
          type: string
          description: "To which email address this card was or will be sent"
        validUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Date when the value card expires"
        addition:
          allOf:
            - $ref: "#/components/schemas/Addition"
            - description: "Contains product addition information when this item is a product addition to another item in this order."

    "ValueCardOut":
      type: object
      description: "ValueCard object"
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: string
          description: "Value card number"
        valueCardProduct:
          allOf:
            - $ref: "#/components/schemas/ProductOutRef"
            - description: "The product that it is based on"
        validForProducts:
          type: array
          items:
            $ref: "#/components/schemas/ProductOutRef"
          description: "Products which can be purchased/booked with this value card"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "Business unit that it belongs to"
        type:
          type: string
          description: "Set to `AMOUNT` if it holds an amount of local currency. Set to `UNIT` if it holds a number of units"
          enum: ["AMOUNT", "UNIT"]
        allowNegativeUnits:
          type: boolean
          description: "True if type = `UNIT` and number of units to use is unlimited"
        unitsLeft:
          type: integer
          description: "Number of units left to use"
        amountLeft:
          type: integer
          description: "Amount of local currency left to use"
        validUntil:
          allOf:
            - $ref: "#/components/schemas/Day"
            - description: "Date when the value card expires"
        isValid:
          type: boolean
          description: "True if value card is valid to be used"

    "ValueCardOutRef":
      type: object
      description: "Reference object for value card."
      properties:
        id:
          type: integer
          description: "Unique ID"
        number:
          type: string
          description: "Card number"
          example: "4711200"

    "ValueCardProductOut":
      type: object
      description: "Value card product"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Product name"
        productNumber:
          type: string
          description: "Product number"
        productLabels:
          type: array
          description: "Product labels linked to the product"
          items:
            $ref: "#/components/schemas/ProductLabelOutRef"
        businessUnits:
          type: array
          description: "Business units where the product exists"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        description:
          type: string
          description: "Description of the product"
        assets:
          type: array
          description: "List of assets related to this product. Contain `MAIN` and `CENTERED` types."
          items:
            $ref: "#/components/schemas/AssetOut"
        imageBanner:
          allOf:
            - $ref: "#/components/schemas/ImageBannerOut"
            - description: "Banner to show on top of the product image."
        price:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "Price"
        vat:
          allOf:
            - $ref: "#/components/schemas/VatOut"
            - description: "Total VAT amount of the product"
        allowOptionalAmount:
          type: boolean
          description: "True if user should be allowed to enter a manual amount"
        requiresMembership:
          type: boolean
          description: "True if membership is required to use this product"
        validForProducts:
          type: array
          description: "Products which can be purchased/booked with this value card product"
          items:
            $ref: "#/components/schemas/ProductOutRef"
        requirePersonConnectionOnInternet:
          type: boolean
          description: "True if the buyer must be a person registered in BRP."
      example:
        id: 10
        name: "Presentkortet med stort P"
        productLabels: []
        businessUnits:
          - id: 1
            name: "Anlggning 1"
            location: "SE"
            companyNameForInvoice: "Bolag 1"
          - id: 14
            name: "Anlggning 2"
            location: "SE"
            companyNameForInvoice: "Bolag 1"
        description: "Ge bort ett presentkort till en vn"
        price: null
        allowOptionalAmount: true
        requiresMembership: false
        validForProducts: []
        requirePersonConnectionOnInternet: false

    "ValueCardReservationOut":
      type: object
      description: "ValueCard Reservation object"
      properties:
        id:
          type: integer
          description: "Unique ID"
        valueCard:
          allOf:
            - $ref: "#/components/schemas/ValueCardOut"
            - description: "Card reserved for use"
        amountUsed:
          type: integer
          description: "Value used with this order"
        amountLeft:
          type: integer
          description: "Value left after this order"
        unitsUsed:
          type: integer
          description: "Number of units used with this order (only shown if value card is of this type)"
        unitsLeft:
          type: integer
          description: "Number of units remaining after this order (only shown if value card is of this type)"

    "VatOut":
      type: object
      properties:
        amount:
          allOf:
            - $ref: "#/components/schemas/CurrencyOut"
            - description: "amount: Currency."
        rate:
          type: string
          description: "rate: String (percent)"

    "VippsLookupData":
      type: object
      properties:
        status:
          type: string
          description: "Any of NOT_ACTIVATED, EXIST_IN_BRP, FOUND or NOT_FOUND"
          example: "FOUND"
          enum:
            - NOT_ACTIVATED
            - EXISTS_IN_BRP
            - FOUND
            - NOT_FOUND
        data:
          type: object
          properties:
            firstName:
              type: string
              description: "First name"
              example: "Irene"
            lastName:
              type: string
              description: "Last name"
              example: "Isaksson"
            sex:
              allOf:
                - $ref: "#/components/schemas/GenderOut"
                - description: "Gender"
                - example: "female"
            ssn:
              type: string
              description: "Personal identity number"
              example: "801216-0845"
            birthDate:
              allOf:
                - $ref: "#/components/schemas/Day"
                - description: "Day of birth"
                - example: "1980-12-16"
            shippingAddress:
              allOf:
                - $ref: "#/components/schemas/AddressOut"
                - description: "Address for physical mail"
            email:
              allOf:
                - $ref: "#/components/schemas/Email"
                - description: "Email"
            mobilePhone:
              allOf:
                - $ref: "#/components/schemas/PhoneNumberOut"
                - description: "Mobile phone number"

    "WaitingListBooking":
      type: object
      properties:
        type:
          allOf:
            - $ref: "#/components/schemas/BookingTypeOut"
            - description: "Always set to `waitingListBooking"
          example: "waitingListBooking"
        groupActivity:
          allOf:
            - $ref: "#/components/schemas/ServiceBookingOutRef"
            - description: "Which group activity is booked"
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "To which business unit this group activity booking belongs"
        customer:
          allOf:
            - $ref: "#/components/schemas/CustomerOutRef"
            - description: "Customer who booked the group activity"
        duration:
          type: object
          properties:
            start:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the group activity starts"
            end:
              allOf:
                - $ref: "#/components/schemas/TimePoint"
                - description: "When the group activity ends"
        waitingListBooking:
          type: object
          properties:
            id:
              type: integer
              description: "Unique ID of waiting list booking"
            waitingListPosition:
              type: integer
              description: "Customer's queue number in waiting list"
        checkedIn:
          allOf:
            - $ref: "#/components/schemas/TimePoint"
            - description: "User's checked-in time, if the user is not checked-in, this will be null."

    "WebCategoryOut":
      type: object
      description: "Web category"
      properties:
        id:
          type: integer
          description: "Unique ID"
        name:
          type: string
          description: "Web category name"
        description:
          type: string
          description: "Web category description"
        sortOrder:
          type: integer
          description: "Web category sort order. Lower value has higher priority."
        type:
          type: string
          description: "The type of web category"
          enum:
            - PRODUCT
            - HEADER
            - INFORMATION
        productType:
          allOf:
            - $ref: "#/components/schemas/ProductType"
            - description: "Products, in this web category, have this product type"
        highlight:
          type: boolean
          description: "True if the web category shall be highlighted"
        includeInShortcuts:
          type: boolean
          description: "True if the web category shall be included in shortcut list"
        company:
          allOf:
            - $ref: "#/components/schemas/CompanyOutRef"
            - description: "DEPRECATED. Use companies instead. Company which it should be visible for"
            - deprecated: true
        businessUnit:
          allOf:
            - $ref: "#/components/schemas/BusinessUnitOutRef"
            - description: "DEPRECATED. Use business units instead. Facility which it should be visible for"
            - deprecated: true
        businessUnits:
          type: array
          description: "If `allowMultipleCompaniesAndBusinessUnits` parameter is true then business units which it should be visible for will be returned"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        companies:
          type: array
          description: "If `allowMultipleCompaniesAndBusinessUnits` parameter is true then business units which it should be visible for will be returned"
          items:
            $ref: "#/components/schemas/CompanyOutRef"
        assets:
          type: array
          description: "List of Assets related to this web category. Contains `MAIN` type assets."
          items:
            $ref: "#/components/schemas/AssetOut"
        showOnStartPage:
          type: boolean
          description: "Visible for the `OneApp` if `addonOneApp` setting is enabled"
        showOnGoActive1ExplorePage:
          type: boolean
          description: "True if the web category should be shown on the Explore page of the `GoActive` app."

    "WebCategoryResourceOut":
      type: object
      description: "Web category resource"
      properties:
        id:
          type: integer
          description: "Unique ID of resource"
        name:
          type: string
          description: "Resource name"
        type:
          type: string
          description: "Resource type"
          enum:
            - STAFF
            - OTHER
        businessUnits:
          type: array
          description: "Business units that resource belongs to"
          items:
            $ref: "#/components/schemas/BusinessUnitOutRef"
        products:
          type: array
          description: "Products by which the resource is used"
          items:
            $ref: "#/components/schemas/ProductOutRef"

  securitySchemes:
    api3SecurityScheme:
      type: http
      scheme: bearer
      bearerFormat: JWT
