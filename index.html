<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boulders - Bliv Medlem</title>
    <link rel="shortcut icon" type="image/png" href="./favicon.png">
    <link rel="icon" type="image/png" href="./favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="header-content">
                <!-- Text Above Logo -->
                <div class="header-text">JOIN</div>
                
                <!-- Logo Section -->
                <div class="logo-section">
                    <img src="https://storage.googleapis.com/boulderscss/logo-flat-white.png" alt="Boulders Logo" class="logo-image" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                    <div class="logo-fallback">BOULDERS</div>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Selected Gym Heads-up Display -->
    <div class="gym-heads-up" id="gymHeadsUp">
        <div class="gym-heads-up-content">
            <span class="gym-heads-up-label">Home gym selected:</span>
            <span class="gym-heads-up-name" id="selectedGymName">-</span>
        </div>
    </div>
    
    <!-- Selected Access Type Heads-up Display -->
    <div class="access-heads-up" id="accessHeadsUp">
        <div class="access-heads-up-content">
            <span class="access-heads-up-label">Access type selected:</span>
            <span class="access-heads-up-name" id="selectedAccessName">-</span>
        </div>
    </div>
    
    <!-- Step Indicator -->
    <div class="step-indicator">
        <div class="step-indicator-container">
            <div class="step-indicator-content">
                <div class="step active">
                    <div class="step-circle active">1</div>
                    <div class="step-label">Home Gym</div>
                </div>
                <div class="step-connector"></div>
                <div class="step inactive">
                    <div class="step-circle inactive">2</div>
                    <div class="step-label">Access</div>
                </div>
                <div class="step-connector"></div>
                <div class="step inactive">
                    <div class="step-circle inactive">3</div>
                    <div class="step-label">Boost</div>
                </div>
                <div class="step-connector"></div>
                <div class="step inactive">
                    <div class="step-circle inactive">4</div>
                    <div class="step-label">Send</div>
                </div>
            </div>
        </div>
    </div>

    <main class="main">
        
        
        <!-- Step Content -->
        <div class="step-content">
            <!-- Step 1: Gym Selection -->
            <div class="step-panel active" id="step-1">
                <div class="step-panel-content">
                    <!-- Forward Arrow -->
                    <button class="forward-arrow-btn" id="forwardArrowBtn" title="Next step">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                    
                    <p class="main-subtitle">Choose your home gym</p>
                    <p class="secondary-subtitle">This is where you will primarily train âˆ’ you will have access to all gyms.</p>
                    
                    <!-- Search Input -->
                    <div class="search-wrapper">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text" class="search-input" placeholder="Search gyms..." id="gymSearch">
                    </div>
                    
                    <!-- Gym List -->
                    <div class="gym-list">
                        <!-- Gym items will be dynamically loaded here -->
                    </div>
                    
                    <!-- No Results Message -->
                    <div class="no-results hidden" id="noResults">
                        No gyms found matching your search.
                    </div>
                </div>
            </div>

            <!-- Step 2: Choose Plan -->
            <div class="step-panel" id="step-2">
                <div class="step-panel-content">
                    <!-- Back Arrow -->
                    <button class="back-arrow-btn" id="backToGymBtn" title="Back to gym selection">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    
                    <!-- Forward Arrow -->
                    <button class="forward-arrow-btn" id="forwardArrowBtn" title="Next step">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                    <div class="container">
                        <p class="main-subtitle">Choose your access type</p>
                        <p class="secondary-subtitle">Choose membership if you climb at least once a month.</p>
                        <div class="category-list">
                            <!-- Membership Category -->
                            <div class="category-item" data-category="membership">
                                <div class="category-header">
                                    <div class="category-info">
                                        <div class="category-title">Membership</div>
                                        <div class="category-subtitle">Ongoing subscription, unlimited access</div>
                                    </div>
                                    <i data-lucide="chevron-down" class="category-icon"></i>
                                </div>
                                <div class="category-content">
                                    <div class="category-description">
                                        <p>Membership is an ongoing subscription with automatic renewal. No signup or cancellation fees. Notice period is the rest of the month + 1 month. </p>
                                    </div>
                                    <div class="plans-list">
                                        <div class="plan-card" data-plan="student">
                                            <div class="plan-info">
                                                <div class="plan-type">Student</div>
                                                <div class="plan-details">
                                                    <div class="plan-price">
                                                        <span class="price-amount">379</span>
                                                        <span class="price-unit">kr/mo</span>
                                                    </div>
                                                    <span class="plan-description">Valid student ID required</span>
                                                </div>
                                            </div>
                                            <div class="check-circle"></div>
                                        </div>

                                        <div class="plan-card" data-plan="adult">
                                            <div class="plan-info">
                                                <div class="plan-type">Adult</div>
                                                <div class="plan-details">
                                                    <div class="plan-price">
                                                        <span class="price-amount">445</span>
                                                        <span class="price-unit">kr/mo</span>
                                                    </div>
                                                    <span class="plan-description">Ages 16+</span>
                                                </div>
                                            </div>
                                            <div class="check-circle"></div>
                                        </div>

                                        <div class="plan-card" data-plan="junior">
                                            <div class="plan-info">
                                                <div class="plan-type">Junior</div>
                                                <div class="plan-details">
                                                    <div class="plan-price">
                                                        <span class="price-amount">249</span>
                                                        <span class="price-unit">kr/mo</span>
                                                    </div>
                                                    <span class="plan-description">Under 16 years</span>
                                                </div>
                                            </div>
                                            <div class="check-circle"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Punch Card Category -->
                            <div class="category-item" data-category="punchcard">
                                <div class="category-header">
                                    <div class="category-info">
                                        <div class="category-title">Punch Card</div>
                                        <div class="category-subtitle">10 entries, shareable physical card</div>
                                    </div>
                                    <i data-lucide="chevron-down" class="category-icon"></i>
                                </div>
                                <div class="category-content">
                                    <div class="category-description">
                                        <p>You can buy 1 type of value card at a time. Each entry uses one clip on your value card. Card is valid for 5 years and does not include membership benefits. Refill within 14 days after your last clip and get 100 kr off at the gym.</p>
                                    </div>
                                    <div class="plans-list">
                                        <div class="plan-card" data-plan="adult-punch" data-price="1200">
                                            <div class="plan-info">
                                                <div class="plan-type">Adult</div>
                                                <div class="plan-details">
                                                    <div class="plan-price">
                                                        <span class="price-amount">1,200</span>
                                                        <span class="price-unit">kr</span>
                                                    </div>
                                                    <span class="plan-description">10 entries â€¢ Ages 16+</span>
                                                </div>
                                            </div>
                                            <div class="check-circle"></div>
                                        </div>
                                        
                                        <!-- Quantity Selection Panel (initially hidden) -->
                                        <div class="quantity-panel" style="display: none;">
                                            <div class="quantity-header">
                                                <span class="quantity-label">Select Quantity</span>
                                                <span class="quantity-total" data-element="quantityTotal">1,200 kr</span>
                                            </div>
                                            
                                            <div class="quantity-selector">
                                                <div class="quantity-controls">
                                                    <button class="quantity-btn minus" data-action="decrement-quantity" data-plan-id="adult-punch" disabled="">âˆ’</button>
                                                    <div class="quantity-display">
                                                        <span data-element="quantityValue">1</span>
                                                    </div>
                                                    <button class="quantity-btn plus" data-action="increment-quantity" data-plan-id="adult-punch">+</button>
                                                </div>
                                                
                                                <button class="continue-arrow" data-action="continue-punch-card">
                                                    <i data-lucide="arrow-right"></i>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="plan-card" data-plan="junior-punch" data-price="800">
                                            <div class="plan-info">
                                                <div class="plan-type">Junior</div>
                                                <div class="plan-details">
                                                    <div class="plan-price">
                                                        <span class="price-amount">800</span>
                                                        <span class="price-unit">kr</span>
                                                    </div>
                                                    <span class="plan-description">10 entries â€¢ Up to 15 years</span>
                                                </div>
                                            </div>
                                            <div class="check-circle"></div>
                                        </div>
                                        
                                        <!-- Junior Punch Card Quantity Selection Panel (initially hidden) -->
                                        <div class="quantity-panel" style="display: none;">
                                            <div class="quantity-header">
                                                <span class="quantity-label">Select Quantity</span>
                                                <span class="quantity-total" data-element="quantityTotal">800 kr</span>
                                            </div>
                                            
                                            <div class="quantity-selector">
                                                <div class="quantity-controls">
                                                    <button class="quantity-btn minus" data-action="decrement-quantity" data-plan-id="junior-punch" disabled="">âˆ’</button>
                                                    <div class="quantity-display">
                                                        <span data-element="quantityValue">1</span>
                                                    </div>
                                                    <button class="quantity-btn plus" data-action="increment-quantity" data-plan-id="junior-punch">+</button>
                                                </div>
                                                
                                                <button class="continue-arrow" data-action="continue-punch-card">
                                                    <i data-lucide="arrow-right"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            
            <!-- Step 3: Add-ons -->
            <div class="step-panel" id="step-3">
                <div class="step-panel-content">
                    <!-- Forward Arrow -->
                    <button class="forward-arrow-btn" id="forwardArrowBtn" title="Next step">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                    
                            <p class="main-subtitle" id="mainSubtitle">Would you like fries with that?</p>

                    <!-- Add-on Products -->
                    <div class="plan-section">
                        <div class="plan-info-text">
                            <p data-i18n-key="addons.intro">Enhance your climbing experience with our add-on products.</p>
                        </div>
                        
                        <div class="plan-options" id="addonMode" data-scroll-container data-component="addon-plans"></div>
                        <div class="skip-section">
                            <button type="button" class="back-btn" id="backFromAddons" data-action="go-back-step">
                                Back
                            </button>
                            <button type="button" class="skip-btn" id="skipAddons" data-action="toggle-addons-step">
                                Skip
                            </button>
                        </div>
                        <div class="scroll-indicator" aria-hidden="true"></div>
                        
                        <!-- Navigation Buttons -->
                        
                    </div>
                </div>
            </div>
            
            <!-- Step 4: Info -->
            <div class="step-panel" id="step-4">
                <div class="step-panel-content">
                    <!-- Forward Arrow -->
                    <button class="forward-arrow-btn" id="forwardArrowBtn" title="Next step">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                    
                    <p class="main-subtitle">Confirm and complete your purchase</p>
                    <p class="secondary-subtitle">Log in to your existing account or create a new one to complete your purchase.</p>

                    <div class="info-layout">
                        <div class="info-form-section">
                            <!-- Mode Toggle -->
                            <div class="auth-mode-toggle">
                                <button class="auth-mode-btn" data-mode="create" data-action="switch-auth-mode">
                                    Create Account
                                </button>
                                <button class="auth-mode-btn" data-mode="login" data-action="switch-auth-mode">
                                    Login
                                </button>
                                <div class="auth-mode-slider"></div>
                            </div>
                    
                            <!-- Login Section (initially hidden) -->
                            <div class="info-section" data-auth-section="login" style="display: none;">
                                <div class="form-container">
                                    <h3 class="info-section-title">LOG IN</h3>

                                    <form class="login-form">
                                        <div class="form-group">
                                            <label for="loginEmail">E-mail*</label>
                                            <input type="email" id="loginEmail" name="loginEmail" placeholder="E-mail">
                                    </div>
                                            
                                        <div class="form-group">
                                            <label for="loginPassword">Password*</label>
                                            <input type="password" id="loginPassword" name="loginPassword" placeholder="Enter your password">
                                    </div>
                                            
                                        <button type="submit" class="login-btn">LOG IN</button>
                                    </form>
                                </div>
                            </div>
                            
                            <!-- Registration Section (initially visible) -->
                            <div class="info-section" data-auth-section="create" style="display: block;">
                        <div class="form-container">
                            <h3 class="info-section-title">CREATE PROFILE</h3>
                        <div class="buyer-section">
                            <div class="buyer-header">
                                <h4 class="buyer-title">Buyer</h4>
                            </div>
                        </div>
                            <form class="registration-form">
                        <div class="form-row">
                        <div class="form-group">
                                     <label for="firstName">First name*</label>
                                     <input type="text" id="firstName" name="firstName" placeholder="Enter your first name" data-api-field="customer.firstName" required>
                                     <div class="error-message">Please enter your first name</div>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="lastName">Last name*</label>
                                     <input type="text" id="lastName" name="lastName" placeholder="Enter your last name" data-api-field="customer.lastName" required>
                                     <div class="error-message">Please enter your last name</div>
                                 </div>
                             </div>
                             
                             <div class="form-group">
                                 <label for="dateOfBirth">Date of birth*</label>
                                 <div class="date-input-container">
                                     <input type="date" id="dateOfBirth" name="dateOfBirth" class="date-input" data-api-field="customer.dateOfBirth" required>
                                     
                                 </div>
                             </div>
                             
                             <div class="form-group">
                                 <label for="streetAddress">Street and house number*</label>
                                 <input type="text" id="streetAddress" name="streetAddress" placeholder="Enter street and house number" data-api-field="customer.address.street" required>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                     <label for="postalCode">Postal code*</label>
                                     <input type="text" id="postalCode" name="postalCode" placeholder="1234" data-api-field="customer.address.postalCode" required>
                            </div>
                            
                            <div class="form-group">
                                     <label for="city">City</label>
                                     <input type="text" id="city" name="city" placeholder="Auto" data-api-field="customer.address.city" readonly>
                            </div>
                        </div>
                        
                        <div class="form-group">
                                 <label for="email">E-mail*</label>
                                 <input type="email" id="email" name="email" placeholder="Enter your email" data-api-field="customer.email" required>
                                 <div class="error-message">Please enter a valid email address</div>
                             </div>
                             
                             <div class="form-row">
                                 <div class="form-group phone-country">
                                     <label for="countryCode">Country</label>
                                     <div class="country-selector">
                                         <span class="flag-icon">ðŸ‡©ðŸ‡°</span>
                                         <select id="countryCode" name="countryCode" data-api-field="customer.phone.countryCode" required>
                                             <option value="+45">+45</option>
                                         </select>
                                     </div>
                                 </div>
                                 
                                 <div class="form-group phone-number">
                                     <label for="phoneNumber">Mobile number*</label>
                                     <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="12345678" data-api-field="customer.phone.number">
                                 </div>
                             </div>
                             
                             <div class="form-group">
                                 <label for="password">Password*</label>
                                 <input type="password" id="password" name="password" placeholder="Create a password" data-api-field="customer.password" required>
                             </div>
                             
                             <div class="form-group">
                                 <label for="confirmPassword">Confirm password*</label>
                                 <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" data-api-field="customer.passwordConfirmation" required>
                             </div>
                    </form>
                        
                        <!-- Parent/Guardian Registration Form -->
                        <div class="parent-guardian-form" id="parentGuardianForm" style="display: none;">
                            <h4 class="parent-form-title">Parent/Guardian Information</h4>

                            
                            <!-- Same Address Toggle -->
                            <div class="same-address-toggle">
                                <label class="toggle-label">
                                    <input type="checkbox" class="toggle-input" id="sameAddressToggle" data-api-field="guardian.sameAddressAsCustomer">
                                    <span class="toggle-slider"></span>
                                    Same address and contact information
                                </label>
            </div>
            
                            <form class="registration-form">
                                <div class="form-group">
                                    <label for="parentFullName">First and last name*</label>
                                    <input type="text" id="parentFullName" name="parentFullName" placeholder="Enter your full name" data-api-field="guardian.fullName" required>
            </div>
            
                                <div class="form-group">
                                    <label for="parentDateOfBirth">Date of birth*</label>
                                    <div class="date-input-container">
                                        <input type="date" id="parentDateOfBirth" name="parentDateOfBirth" class="date-input" data-api-field="guardian.dateOfBirth" required>
                                       
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="parentStreetAddress">Street and house number*</label>
                                    <input type="text" id="parentStreetAddress" name="parentStreetAddress" placeholder="Enter street and house number" data-api-field="guardian.address.street" required>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="parentPostalCode">Postal code*</label>
                                        <input type="text" id="parentPostalCode" name="parentPostalCode" placeholder="1234" data-api-field="guardian.address.postalCode" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="parentCity">City</label>
                                        <input type="text" id="parentCity" name="parentCity" placeholder="Copenhagen" data-api-field="guardian.address.city" readonly>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="parentEmail">E-mail*</label>
                                    <input type="email" id="parentEmail" name="parentEmail" placeholder="Enter your email" data-api-field="guardian.email" required>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group phone-country">
                                        <label for="parentCountryCode">Country</label>
                                        <div class="country-selector">
                                            <span class="flag-icon">ðŸ‡©ðŸ‡°</span>
                                            <select id="parentCountryCode" name="parentCountryCode" data-api-field="guardian.phone.countryCode" required>
                                                <option value="+45">+45</option>
                                            </select>
                                            <span class="dropdown-arrow">â–¼</span>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group phone-number">
                                        <label for="parentPhoneNumber">Mobile number*</label>
                                        <input type="tel" id="parentPhoneNumber" name="parentPhoneNumber" placeholder="12345678" data-api-field="guardian.phone.number">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="parentPassword">Password*</label>
                                    <input type="password" id="parentPassword" name="parentPassword" placeholder="Create a password" data-api-field="guardian.password" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="parentConfirmPassword">Confirm password*</label>
                                    <input type="password" id="parentConfirmPassword" name="parentConfirmPassword" placeholder="Confirm your password" data-api-field="guardian.passwordConfirmation" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="parentPrimaryGym">Primary Boulders gym / Pick-up point*</label>
                                    <div class="select-container">
                                        <select id="parentPrimaryGym" name="parentPrimaryGym" data-api-field="guardian.primaryGym" required>
                                            <option value="">Select a gym</option>
                                            <option value="boulders-copenhagen">Boulders Copenhagen</option>
                                            <option value="boulders-aarhus">Boulders Aarhus</option>
                                            <option value="boulders-odense">Boulders Odense</option>
                                        </select>
                                        <span class="dropdown-arrow">â–¼</span>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                            </div>
                        </div>
                        
                        <!-- Order Summary Section -->
                        <div class="order-summary-section">
                            <div class="order-summary">
                                <div class="summary-header">
                                    <h3 class="summary-title">Cart</h3>
                                    <button class="summary-edit-btn" type="button" data-action="edit-cart" aria-label="Edit cart">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                            <path d="M12 20h9"/>
                                            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                                        </svg>
                                    </button>
                                </div>
                                
                                <!-- Cart Items -->
                                <template id="cart-item-template">
                                    <div class="cart-item" data-cart-item>
                                        <span class="item-name" data-element="name"></span>
                                        <span class="item-price" data-element="price"></span>
                                    </div>
                                </template>

                                <!-- Add-on Card Template for modal and in-page rendering -->
                                <template id="addon-card-template">
                                    <div class="plan-card addon-card" data-plan-id>
                                        <div class="plan-info">
                                            <div class="plan-type" data-element="name">Add-on</div>
                                            <div class="plan-details">
                                                <span data-element="originalPrice"></span>
                                                <div class="plan-price">
                                                    <span class="price-amount" data-element="discountedPrice">0</span>
                                                    <span class="price-unit">kr</span>
                                                </div>
                                                <span class="plan-description" data-element="description"></span>
                                            </div>
                                        </div>
                                        <div class="plan-meta">
                                            <div class="plan-original" style="text-decoration: line-through; opacity: .6;">
                                                
                                            </div>
                                            <ul class="plan-features" data-element="features"></ul>
                                        </div>
                                        <div class="check-circle" data-action="toggle-addon"></div>
                                    </div>
                                </template>

                                <div class="cart-items" data-component="cart-items"></div>
                                
                                <div class="cart-total">
                                    <span class="total-label">Total:</span>
                                    <span class="total-amount" data-summary-field="cart-total">0,00 kr.</span>
                                </div>
                                
                                <div class="period-note" data-summary-field="billing-period"></div>
                                
                                <!-- Discount Code -->
                                <div class="discount-section">
                                    <button class="discount-toggle" type="button">
                                        <span>Discount code</span>
                                        <span class="toggle-icon">+</span>
                                    </button>
                                    <div class="discount-form" style="display: none;">
                                        <input type="text" placeholder="Enter discount code" class="discount-input">
                                        <button type="button" class="apply-discount-btn">Apply</button>
                                    </div>
                                </div>
                                
                                <!-- Consents -->
                                <div class="consents-section">
                                    <label class="consent-checkbox">
                                        <input type="checkbox" id="termsConsent" data-api-field="consent.terms" required>
                                        <span class="checkmark"></span>
                                        I accept the <a href="#" target="_blank">Terms and Conditions</a>
                                    </label>
                                    
                                    <label class="consent-checkbox">
                                        <input type="checkbox" id="marketingConsent" data-api-field="consent.marketing">
                                        <span class="checkmark"></span>
                                        I want to receive marketing emails. <br>Read our <a href="#" target="_blank">Data policy</a>.
                                    </label>

                                </div>
                                
                                <!-- Payment Methods -->
                                <div class="payment-methods">
                                    <h4 class="payment-title">Choose payment method</h4>
                                    
                                    <div class="payment-option">
                                        <input type="radio" id="cardPayment" name="paymentMethod" value="card" data-api-field="payment.method">
                                        <label for="cardPayment" class="payment-label">
                                            <div class="payment-icon">
                                                <svg width="24" height="16" viewBox="0 0 24 16" fill="none">
                                                    <rect x="1" y="3" width="22" height="10" rx="2" stroke="currentColor" stroke-width="2"/>
                                                    <path d="M1 7h22" stroke="currentColor" stroke-width="2"/>
                                                </svg>
                                            </div>
                                            <span>Card payment</span>
                                        </label>
                                    </div>
                                    
                                    <div class="payment-option">
                                        <input type="radio" id="applePay" name="paymentMethod" value="apple" data-api-field="payment.method">
                                        <label for="applePay" class="payment-label">
                                            <div class="payment-icon">
                                                <svg width="24" height="16" viewBox="0 0 24 16" fill="none">
                                                    <path d="M12 2C8.5 2 6 4.5 6 8c0 3.5 2.5 6 6 6s6-2.5 6-6c0-3.5-2.5-6-6-6z" stroke="currentColor" stroke-width="2"/>
                                                    <path d="M12 6v4l2 2" stroke="currentColor" stroke-width="2"/>
                                                </svg>
                                            </div>
                                            <span>Apple Pay</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- Card Payment Form - REMOVED: Users are redirected to payment provider -->
                                <!-- This form is not used - payment is handled by external payment provider -->
                                <div class="card-payment-form" id="cardPaymentForm" style="display: none !important;">
                                    <!-- Form removed - users are redirected to payment provider for card entry -->
                                </div>
                                
                                <!-- Checkout Button -->
                                <button class="checkout-btn" data-action="submit-checkout" disabled>
                                    Checkout
                                </button>
                                
                                <!-- Footer Note -->
                                <div class="footer-note">
                                    <span class="certified-icon">âœ“</span>
                                    Certified safe trade with danish e-mÃ¦rket
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            
            <!-- Step 5: Confirmation -->
            <div class="step-panel" id="step-5">
                <div class="step-panel-content">
                    <!-- Top Section - Success Confirmation -->
                    <div class="confirmation-header">
                        <div class="success-badge">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <path d="M22 4L12 14.01l-3-3"/>
                            </svg>
                        </div>
                        <h1 class="success-title" data-i18n-key="confirmation.title">SUCCESS!</h1>
                        <p class="success-message" data-i18n-key="confirmation.message">Your membership has been confirmed! You'll receive an email with all the details shortly.</p>
                        </div>
                        
                    <!-- Main Content Layout -->
                    <div class="confirmation-layout">
                        <!-- Left Column - Order & Membership Summary -->
                        <div class="confirmation-left">
                            <!-- Order Details Card -->
                            <div class="confirmation-card">
                                <h3 class="card-title">Order Details</h3>
                                <div class="order-info">
                                    <div class="order-item">
                                        <span class="order-label">Order Number:</span>
                                        <span class="order-value" data-summary-field="order-number">â€”</span>
                                    </div>
                                    <div class="order-item">
                                        <span class="order-label">Date:</span>
                                        <span class="order-value" data-summary-field="order-date">â€”</span>
                                    </div>
                                </div>
                                
                                <template id="confirmation-item-template">
                                    <div class="purchase-item" data-confirmation-item>
                                        <span class="item-name" data-element="name"></span>
                                        <span class="item-price" data-element="price"></span>
                                    </div>
                                </template>

                                <div class="purchase-items" data-component="confirmation-items"></div>
                                
                                <div class="order-total">
                                    <span class="total-label">Total:</span>
                                    <span class="total-amount" data-summary-field="order-total">0,00 kr</span>
                                </div>
                            </div>
                            
                            <!-- Membership Details Card -->
                            <div class="confirmation-card">
                                <h3 class="card-title">Membership Details</h3>
                                <div class="membership-info">
                                    <div class="membership-item">
                                        <span class="membership-label">Member Name:</span>
                                        <span class="membership-value" data-summary-field="member-name">â€”</span>
                                    </div>
                                    <div class="membership-item">
                                        <span class="membership-label">Membership Number:</span>
                                        <span class="membership-value" data-summary-field="membership-number">â€”</span>
                                    </div>
                                    <div class="membership-item">
                                        <span class="membership-label">Type:</span>
                                        <span class="membership-value" data-summary-field="membership-type">â€”</span>
                                    </div>
                                    <div class="membership-item">
                                        <span class="membership-label">Primary Gym:</span>
                                        <span class="membership-value" data-summary-field="primary-gym">â€”</span>
                                    </div>
                                    <div class="membership-item">
                                        <span class="membership-label">Monthly Price:</span>
                                        <span class="membership-value" data-summary-field="membership-price">0,00 kr/month</span>
                                    </div>
                                </div>
                                
                                <button class="login-btn" data-action="open-login">Log in</button>
                            </div>
                        </div>
                        
                        <!-- Right Column - Referral Promo & Next Steps -->
                        <div class="confirmation-right">
                            <!-- Referral Promo Box -->
                            <div class="referral-promo">
                                <h3 class="promo-title">Sharing is Caring!</h3>
                                <p class="promo-text">Refer a friend and you both get 50% off your next month!</p>
                                <button class="referral-btn" data-action="copy-referral">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                        <circle cx="8.5" cy="7" r="4"/>
                                        <path d="M20 8v6"/>
                                        <path d="M23 11h-6"/>
                                    </svg>
                                    Refer a Friend
                                </button>
                                <a href="#" class="terms-link">Read all terms here</a>
                            </div>
                            
                            <!-- Next Steps -->
                        <div class="next-steps">
                                <h3 class="steps-title">What happens next?</h3>
                                <ul class="steps-list">
                                    <li class="step-item">
                                        <div class="step-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                                <path d="M22 6L12 13 2 6"/>
                                            </svg>
                                        </div>
                                        <span>Email confirmation sent to your inbox</span>
                                    </li>
                                    <li class="step-item">
                                        <div class="step-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                                <path d="M22 4L12 14.01l-3-3"/>
                                            </svg>
                                        </div>
                                        <span>Membership activation & auto-renewal setup</span>
                                    </li>
                                    <li class="step-item">
                                        <div class="step-icon">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                                <path d="M3.27 6.96L12 12.01l8.73-5.05"/>
                                                <path d="M12 22.08V12"/>
                                            </svg>
                                        </div>
                                        <span>Pick up your membership card at the gym</span>
                                    </li>
                            </ul>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Global Footer -->
    <footer class="global-footer">
        <div class="footer-content">
            <div class="footer-section">
                     </div>
            
    </footer>

    <!-- API Configuration -->
    <script type="module">
        // Make API auth token available globally (not needed for this endpoint - uses "No Auth")
        window.API_AUTH_TOKEN = import.meta.env?.VITE_API_AUTH_TOKEN || '';
    </script>
    <script type="module" src="./api-utils.js"></script>
    <script type="module" src="./app.js"></script>

</body>
</html>
